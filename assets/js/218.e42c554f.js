(window.webpackJsonp=window.webpackJsonp||[]).push([[218],{635:function(t,a,s){"use strict";s.r(a);var e=s(21),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"类及成员可见性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#类及成员可见性"}},[t._v("#")]),t._v(" 类及成员可见性")]),t._v(" "),a("p",[t._v("Kotlin 中可见性有 4 个级别："),a("code",[t._v("private")]),t._v(" -> "),a("code",[t._v("protect")]),t._v(" -> "),a("code",[t._v("internal")]),t._v(" -> "),a("code",[t._v("public")]),t._v("，从左至右可见范围逐渐放宽。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Kotlin")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Java")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("可见性")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("private")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("private")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("自己可见")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("protected")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("protected")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("子类可见")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("default(默认)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("包内可见(Java 特有)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("internal")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("-")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("模块内可见(Kotlin 特有)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("public(默认)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("public")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("外部可见")])])])]),t._v(" "),a("p",[t._v("为了方便理解，这里举个例子，一个父亲的零花钱只能自己使用("),a("code",[t._v("private")]),t._v(")，游戏机可以给孩子使用("),a("code",[t._v("protected")]),t._v(")，族谱可以给村里人使用("),a("code",[t._v("internal")]),t._v(")，名片可以给所有人使用("),a("code",[t._v("public")]),t._v(")。")]),t._v(" "),a("div",{staticClass:"language-kotlin extra-class"},[a("pre",{pre:!0,attrs:{class:"language-kotlin"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("open")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" Father "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" pinMoney "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 零花钱")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" gamePlayer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Switch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 游戏机")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("internal")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" familyTree "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("FamilyTree")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 族谱")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// public val callingCard = CallingCard()")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" callingCard "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("CallingCard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 名片")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("因为 kotlin 中类及成员可见性默认是 "),a("code",[t._v("public")]),t._v("，所以 "),a("code",[t._v("public")]),t._v(" 可以不写。来看看子类 Son 中访问父类 Father 中成员属性会是如何：")]),t._v(" "),a("div",{staticClass:"language-kotlin extra-class"},[a("pre",{pre:!0,attrs:{class:"language-kotlin"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" Son "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Father")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFromFather")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" pinMoney "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pinMoney "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// IDE报错：Cannot access 'pinMoney': it is private in 'Father'")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" gamePlayer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gamePlayer\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" familyTree "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("familyTree\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" callingCard "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("callingCard\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("可见子类最多可以访问父类 "),a("code",[t._v("protected")]),t._v(" 级别的成员，再来看看外界访问 Father 成员属性的情况：")]),t._v(" "),a("div",{staticClass:"language-kotlin extra-class"},[a("pre",{pre:!0,attrs:{class:"language-kotlin"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Array"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("String"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" father "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Father")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" pinMoney "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" father"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pinMoney "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// IDE报错：Cannot access 'pinMoney': it is private in 'Father'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" gamePlayer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" father"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gamePlayer "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// IDE报错：Cannot access 'gamePlayer': it is protected in 'Father'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" familyTree "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" father"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("familyTree\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" callingCard "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" father"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("callingCard\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("外界最多可以访问类中 "),a("code",[t._v("internal")]),t._v(" 级别的成员。internal 是模块内可见，这里的模块指的是 IDEA 项目结构中的 Module（ModuleB 不能访问 ModuleA 中 internal 类与成员），有兴趣的话，可以自己尝试下。")]),t._v(" "),a("blockquote",[a("p",[t._v("Kotlin 中的 internal 与 Java 中的 default 是不一样的，所以，如果代码要做到两者互通的话，建议还是少用 internal。")])])])}),[],!1,null,null,null);a.default=n.exports}}]);