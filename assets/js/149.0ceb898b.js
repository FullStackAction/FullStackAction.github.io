(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{494:function(t,s,a){"use strict";a.r(s);var n=a(15),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("iframe",{attrs:{src:"//player.bilibili.com/player.html?isOutside=true&aid=112942708232009&bvid=BV1iiY9e9EWY&cid=500001645863168&p=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true",width:"100%",height:"560px"}}),t._v(" "),s("h2",{attrs:{id:"ä¸€ã€é—®é¢˜å›é¡¾"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€é—®é¢˜å›é¡¾"}},[t._v("#")]),t._v(" ä¸€ã€é—®é¢˜å›é¡¾")]),t._v(" "),s("p",[t._v("åœ¨ä»Šå¹´ "),s("code",[t._v("2æœˆä»½")]),t._v("ï¼Œ"),s("code",[t._v("Flutter")]),t._v(" å®˜æ–¹æ­£å¼äº† "),s("code",[t._v("3.19.0")]),t._v(" ç‰ˆæœ¬ï¼Œå½“æ—¶æˆ‘ä»¬å¹¶æ²¡æœ‰ç€æ€¥å°é²œï¼Œç›´åˆ° "),s("code",[t._v("3æœˆä¸­æ—¬")]),t._v("ï¼Œä¸ºäº†è§£å†³å®‰å“ç«¯çš„å´©æºƒç‡é£™å‡é—®é¢˜ï¼Œè¢«è¿«æ— å¥ˆå‡çº§åˆ° "),s("code",[t._v("3.19.3")]),t._v("ï¼Œ ç»“æœè¸©äº†ä¸ªå‘ï¼Œé¡µé¢å±…ç„¶ä¼šå¤šæ¬¡ "),s("code",[t._v("rebuild")]),t._v(" ~")]),t._v(" "),s("p",[t._v("åœ¨ä¸€ç•ªæ¢ç´¢ä¹‹åå®šä½åˆ°æ ¹æœ¬åŸå› ï¼Œç»™å®˜æ–¹æäº† "),s("code",[t._v("PR")]),t._v("ï¼Œä»¥åŠè·Ÿå¤§å®¶åˆ†äº«äº†è¡¥ä¸æ¥ä¸´æ—¶å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚æ¢ç´¢çš„ç›¸å…³å†…å®¹æ€»ç»“å’Œè¡¥ä¸åœ¨ã€Š"),s("a",{attrs:{href:"https://juejin.cn/post/7349124917378695180",target:"_blank",rel:"noopener noreferrer"}},[t._v("Flutter - å‡çº§3.19ä¹‹åé¡µé¢å¤šæ¬¡rebuildï¼ŸğŸ¤¨"),s("OutboundLink")],1),t._v("ã€‹ä¸­ï¼Œæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥çœ‹çœ‹ã€‚")]),t._v(" "),s("h2",{attrs:{id:"äºŒã€æ³¢æŠ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€æ³¢æŠ˜"}},[t._v("#")]),t._v(" äºŒã€æ³¢æŠ˜")]),t._v(" "),s("p",[t._v("ä¸è¿‡å½“æ—¶ï¼ˆæ—¥æœŸï¼š"),s("code",[t._v("3.19")]),t._v("ï¼‰æ‰€æ "),s("code",[t._v("PR")]),t._v(" å¹¶ä¸è¢«æ¥å—ï¼Œå› ä¸ºå…¶ä¿®æ”¹å†…å®¹æ˜¯ç›´æ¥ç»™äº†ä¸ªé€‰é¡¹ "),s("code",[t._v("createDependency")]),t._v("ï¼Œä»£ç å¦‚ä¸‹:")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ModalRoute")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" of"),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BuildContext")]),t._v(" context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  bool createDependency "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  _ModalScopeStatus"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" widget"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("createDependency"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    widget "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dependOnInheritedWidgetOfExactType"),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("_ModalScopeStatus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    widget "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getElementForInheritedWidgetOfExactType"),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("_ModalScopeStatus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("widget "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("as")]),t._v(" _ModalScopeStatus"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" widget"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("route "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("as")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ModalRoute")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å¦‚æœå°† "),s("code",[t._v("createDependency")]),t._v(" å‚æ•°è®¾ç½®ä¸º "),s("code",[t._v("false")]),t._v("ï¼Œåˆ™ä¸ä¸ "),s("code",[t._v("BuildContext")]),t._v(" å»ºç«‹ä¾èµ–å…³ç³»ï¼Œè¿™è¢«è®¤å®šä¸ºæ˜¯ "),s("code",[t._v("footgun")]),t._v("ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20230813121546/image/202408111918340.webp",alt:""}})]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("footgun")]),t._v(": æŒ‡åœ¨å°è¯•è§£å†³é—®é¢˜æ—¶ï¼Œæ— æ„ä¸­å¯¼è‡´æ›´å¤šé—®é¢˜æˆ–æŸå®³è‡ªå·±åˆ©ç›Šçš„è¡Œä¸º")])]),t._v(" "),s("p",[t._v("å› ä¸ºå®¡æ ¸äººæ‹…å¿ƒå¦‚æœå…è®¸äº†è¿™ä¸ªå‚æ•°çš„åŠ å…¥ï¼Œåˆ™åç»­å¯èƒ½ä¼šæœ‰å¼€å‘è€…æå‡ºå› ä¸ºè¿™ä¸ªå‚æ•°æ²¡æœ‰æ­£ç¡®è®¾ç½®ä¸º "),s("code",[t._v("true")]),t._v("ï¼Œè€Œå¯¼è‡´åœ¨ç¡®å®éœ€è¦é‡æ–°æ„å»ºæ—¶å´æ— æ³•æ­£å¸¸è‡ªåŠ¨åˆ·æ–°è§†å›¾çš„ "),s("code",[t._v("bug")]),t._v(" é—®é¢˜ã€‚æœ€åå»ºè®®æä¾›ç±»ä¼¼ "),s("code",[t._v("ModalRoute.argumentsOf(context)")]),t._v(" çš„æ–¹å¼ï¼Œè¿›è€Œå°½é‡é¿å…é€ æˆ "),s("code",[t._v("rebuild")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("è¿™ç§æ–¹å¼çš„å¥½å¤„å°±è·Ÿ "),s("code",[t._v("MediaQuery.of(context).viewInsets")]),t._v(" å¯¹æ¯” "),s("code",[t._v("MediaQuery.viewInsetsOf(context)")]),t._v(" ä¸€æ ·ï¼Œåè€…åªä¼šåœ¨ "),s("code",[t._v("viewInsets")]),t._v(" å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼š "),s("code",[t._v("rebuild")]),t._v("ï¼Œ è€Œå‰è€…åªè¦æ˜¯ "),s("code",[t._v("MediaQueryData")]),t._v(" çš„å€¼ï¼ˆå¦‚: "),s("code",[t._v("size")]),t._v("ï¼‰æœ‰å˜åŒ–å°±ä¼š "),s("code",[t._v("rebuild")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("å¾ˆå¥½çš„æè®® ğŸ‘ï¼Œä¸è¿‡æˆ‘å½“æ—¶ï¼ˆæ—¥æœŸï¼š"),s("code",[t._v("4.16")]),t._v("ï¼‰å› ä¸ºå¤ªå¿™ï¼Œè¡¨æ˜è‡ªå·±æ²¡æ—¶é—´å»å¤„ç†ï¼Œå¹¶å°† "),s("code",[t._v("PR")]),t._v(" å…³é—­äº†ï¼Œæš‚æ—¶é è¡¥ä¸è‹Ÿç€ã€‚")]),t._v(" "),s("p",[t._v("å½“æ—¶æœ‰äººæå‡ºå¦å¤–ä¸€ç§è¾ƒä¸ºå®‰å…¨çš„ä¸´æ—¶å¤„ç†æ–¹æ¡ˆï¼Œå°±æ˜¯éå†æ‰¾å‡º "),s("code",[t._v("_ModalScopeStatus")]),t._v("ï¼Œä»è€Œæ‹¿åˆ° "),s("code",[t._v("ModalRoute")]),t._v("ï¼Œä»¥æ­¤æ¥ç»•è¿‡ç»‘å®š "),s("code",[t._v("BuildContext")]),t._v(" çš„è¿‡ç¨‹ï¼Œç›¸å…³ä»£ç å¦‚ä¸‹ã€‚")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// replace ModalRoute.of(context)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyModalRoute")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ModalRoute")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("dynamic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("of")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BuildContext")]),t._v(" context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ModalRoute")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("dynamic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" route"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("visitAncestorElements")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("widget"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("runtimeType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-literal"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'_ModalScopeStatus'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("dynamic")]),t._v(" widget "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("widget"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        route "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" widget"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("route "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("as")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ModalRoute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" route"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ä½¿ç”¨æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦å°†åŸæ¥çš„ "),s("code",[t._v("ModalRoute.of(context)")]),t._v(" æ›¿æ¢ä¸º "),s("code",[t._v("MyModalRoute.of(context)")]),t._v(" å³å¯ã€‚")]),t._v(" "),s("p",[t._v("ä¸è¿‡åé¢æœ‰äººå‘ç°ï¼Œåœ¨ä½¿ç”¨ "),s("code",[t._v("ä»£ç æ··æ·†")]),t._v(" åŠŸèƒ½æ—¶ï¼Œè¯¥æ–¹æ¡ˆä¼šå¤±æ•ˆã€‚å› ä¸ºä»–æ˜¯æŒ‰å­—ç¬¦ä¸²æ‰¾åˆ°çš„ "),s("code",[t._v("_ModalScopeStatus")]),t._v("ï¼Œä½†æ˜¯åœ¨æ··æ·†çš„æ—¶å€™ä¼šé‡å‘½åç›¸å…³ç±»åï¼Œæ‰€ä»¥è¿˜åœ¨ "),s("code",[t._v("3.19.x")]),t._v(" å°ä¼™ä¼´ä»¬ï¼Œè¯·è‡ªè¡Œæ ¹æ®è‡ªèº«æƒ…å†µï¼Œè€ƒè™‘æ˜¯å¦ä½¿ç”¨ã€‚")]),t._v(" "),s("p",[t._v("æ—¶é—´è¿‡çš„å¾ˆå¿«ï¼Œè½¬çœ¼æ¥åˆ° "),s("code",[t._v("5æœˆä»½")]),t._v("ï¼Œä¸€çœ‹è¿™ä¸ªé—®é¢˜è¿˜æ²¡æœ‰å¤„ç†ï¼Œäºæ˜¯æŠ½äº†ç‚¹æ—¶é—´æŒ‰ç…§å»ºè®®ï¼Œåšäº†äº›è°ƒæ•´ï¼Œäº "),s("code",[t._v("5.24")]),t._v(" æäº¤äº† "),s("code",[t._v("PR")]),t._v(" ("),s("a",{attrs:{href:"https://github.com/flutter/flutter/pull/149022",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/flutter/flutter/pull/149022"),s("OutboundLink")],1),t._v(") ï¼Œå¹¶åœ¨ "),s("code",[t._v("5.30")]),t._v(" å®Œæˆåˆå¹¶ã€‚")]),t._v(" "),s("h2",{attrs:{id:"ä¸‰ã€ä½¿ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€ä½¿ç”¨"}},[t._v("#")]),t._v(" ä¸‰ã€ä½¿ç”¨")]),t._v(" "),s("p",[t._v("æ­¤ "),s("code",[t._v("PR")]),t._v(" çš„æ”¹åŠ¨ä¹Ÿç»ˆäºéš "),s("code",[t._v("Flutter 3.24.0")]),t._v(" æ­£å¼ç‰ˆå‘å¸ƒäº†ï¼Œæ–°å¢äº†å¦‚ä¸‹ä¸‰ä¸ªæ–¹æ³•ï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("isCurrentOf")]),t._v(": å¯¹åº” "),s("code",[t._v("isCurrent")]),t._v("ï¼Œç”¨äºåˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦ä¸ºæ ˆé¡¶è·¯ç”±ã€‚")]),t._v(" "),s("li",[s("code",[t._v("canPopOf")]),t._v(": å¯¹åº” "),s("code",[t._v("canPop")]),t._v("ï¼Œç”¨äºåˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦å¯ä»¥å¼¹å‡º/å…³é—­ã€‚")]),t._v(" "),s("li",[s("code",[t._v("settingsOf")]),t._v(": å¯¹åº” "),s("code",[t._v("settings")]),t._v("ï¼Œå½“å‰è·¯ç”±çš„é…ç½®ï¼ˆè·¯ç”±åã€å‚æ•°ï¼‰ã€‚")])]),t._v(" "),s("p",[t._v("ä¹‹å‰å–è·¯ç”±å‚æ•°çš„æ–¹å¼å¦‚ä¸‹ä»£ç æ‰€ç¤º")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" arguments "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ModalRoute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("of")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arguments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("éœ€è°ƒæ•´ä¸º")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" arguments "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ModalRoute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("settingsOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arguments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("å¯¹ï¼Œè¿™æ ·å°±å¯ä»¥äº†ï¼Œä¸è°ƒæ•´çš„è¯è¿˜æ˜¯ä¼šé€ æˆ "),s("code",[t._v("rebuild")]),t._v(" çš„ ~")]),t._v(" "),s("h2",{attrs:{id:"å››ã€æœ€å"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€æœ€å"}},[t._v("#")]),t._v(" å››ã€æœ€å")]),t._v(" "),s("p",[t._v("å…¶å®å¯¹äºæˆ‘ä¸ªäººè€Œè¨€ï¼Œæˆ‘è¿˜æ˜¯æ¯”è¾ƒé’Ÿæ„æ·»åŠ  "),s("code",[t._v("createDependency")]),t._v(" å‚æ•°è¿™ç§æ–¹å¼çš„ï¼Œè®©å¼€å‘è€…è‡ªç”±é€‰æ‹©ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20230813121546/image/202408111918080.jpg",alt:""}})]),t._v(" "),s("p",[t._v("è€Œä¸”åœ¨åšè·¯ç”±ç›‘å¬çš„æ—¶å€™ä¾æ—§è¿˜æ˜¯å¾—ç”¨åˆ° "),s("code",[t._v("ModalRoute.of(context)")]),t._v(" ~")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("runApp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyApp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RouteObserver")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PageRoute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" routeObserver "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RouteObserver")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PageRoute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyApp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StatelessWidget")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token metadata function"}},[t._v("@override")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Widget")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BuildContext")]),t._v(" context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MaterialApp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n      navigatorObservers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("routeObserver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" _MyPageState "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("State")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyPage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RouteAware")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token metadata function"}},[t._v("@override")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("didChangeDependencies")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("didChangeDependencies")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œç”¨åˆ°äº† ModalRoute.of(context)")]),t._v("\n    routeObserver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ModalRoute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("of")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token metadata function"}},[t._v("@override")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispose")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    routeObserver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("unsubscribe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispose")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å¥½å§ï¼Œæœ¬ç¯‡åˆ°æ­¤ç»“æŸï¼Œæ„Ÿè°¢å¤§å®¶çš„æ”¯æŒï¼Œæˆ‘ä»¬ä¸‹æ¬¡å†è§ï¼ ğŸ‘‹")])])}),[],!1,null,null,null);s.default=e.exports}}]);