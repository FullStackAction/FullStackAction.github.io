(window.webpackJsonp=window.webpackJsonp||[]).push([[160],{569:function(t,a,s){"use strict";s.r(a);var n=s(21),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"ä¸€ã€å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€å‰è¨€"}},[t._v("#")]),t._v(" ä¸€ã€å‰è¨€")]),t._v(" "),a("p",[t._v("å¦‚å›¾ï¼Œè¿™æ˜¯ä¸ªéå¸¸å¸¸è§çš„åŠŸèƒ½ï¼Œåƒæ·˜å®ã€å”¯å“ä¼šã€æœ´æœ´ç­‰ "),a("code",[t._v("App")]),t._v(" çš„å•†å“è¯¦æƒ…é¡µéƒ½å¯ä»¥çœ‹åˆ°ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20230813121546/image/202508171438642.png",alt:""}})]),t._v(" "),a("p",[t._v("ç®€é™‹çš„ "),a("code",[t._v("Demo")]),t._v(" å¯ç§‘å­¦ä¸Šç½‘ååœ¨çº¿ä½“éªŒ:\n"),a("a",{attrs:{href:"https://fluttercandies.github.io/flutter_scrollview_observer/#/detail",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://fluttercandies.github.io/flutter_scrollview_observer/#/detail"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20230813121546/image/202508171438815.gif",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("é¡ºå¸¦æä¸€å˜´ï¼Œæœ´æœ´ï¼ˆç‰ˆæœ¬: V5.6.8-0-1c4424ï¼‰çš„è¿™ä¸ªåŠŸèƒ½æœ‰ä¸ªå° "),a("code",[t._v("bug")]),t._v("ï¼Œåœ¨ç‚¹å‡» "),a("code",[t._v("Tab")]),t._v(" çš„æ—¶å€™å¯ä»¥å°†å¯¹åº”æ¨¡å—æ»šåŠ¨åˆ° "),a("code",[t._v("TabBar")]),t._v(" ä¸‹æ–¹ï¼Œä½†æ˜¯å®ƒåœ¨æ»‘åŠ¨æ—¶å´æ˜¯ä»åˆ—è¡¨çš„é¡¶éƒ¨å¼€å§‹è®¡ç®—çš„ï¼Œæ‰€ä»¥åœ¨ç‚¹å‡»äº†ç¬¬äºŒä¸ª "),a("code",[t._v("Tab")]),t._v(" åï¼Œåˆ—è¡¨å¾€ä¸‹ç¨å¾®æ»‘ä¸€ç‚¹ç‚¹ï¼Œå°±ä¼šåˆ‡å›ç¬¬ä¸€ä¸ª "),a("code",[t._v("Tab")]),t._v(" äº†ï¼Œæ˜¯æ•…æ„çš„è¿˜æ˜¯ä¸å°å¿ƒï¼Ÿè¿˜æ˜¯æ•…æ„ä¸å°å¿ƒå‘¢ï¼ŸğŸ¤”")])]),t._v(" "),a("p",[t._v("OKï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹çœ‹å¦‚ä½•é€šè¿‡æˆ‘çš„å¼€æºåº“å¿«é€Ÿå®ç°è¯¥åŠŸèƒ½")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/fluttercandies/flutter_scrollview_observer",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/fluttercandies/flutter_scrollview_observer"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"äºŒã€ç»“æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€ç»“æ„"}},[t._v("#")]),t._v(" äºŒã€ç»“æ„")]),t._v(" "),a("p",[t._v("é¡µé¢ç»“æ„å¾ˆç®€å•ï¼Œä¸»ä½“ä¸º "),a("code",[t._v("ListView")]),t._v("ï¼Œ"),a("code",[t._v("DetailNavBar")]),t._v(" å†…éƒ¨æ˜¯ä½¿ç”¨ "),a("code",[t._v("TabBar")]),t._v(" æ¥å®ç°çš„ï¼Œå°†å…¶ç›–åœ¨ "),a("code",[t._v("ListView")]),t._v(" çš„ä¸Šæ–¹ã€‚")]),t._v(" "),a("div",{staticClass:"language-dart extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Stack")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DetailListView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Positioned")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      top"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      right"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      child"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DetailNavBar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"ä¸‰ã€åŠŸèƒ½å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€åŠŸèƒ½å®ç°"}},[t._v("#")]),t._v(" ä¸‰ã€åŠŸèƒ½å®ç°")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å…ˆæ¥å®Œæˆæ»šåŠ¨è¿‡ç¨‹ä¸­æ›´æ–° "),a("code",[t._v("DetailNavBar")]),t._v(" çš„ "),a("code",[t._v("index")]),t._v(" çš„åŠŸèƒ½")]),t._v(" "),a("h3",{attrs:{id:"_1ã€é…ç½®è§‚å¯Ÿ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€é…ç½®è§‚å¯Ÿ"}},[t._v("#")]),t._v(" 1ã€é…ç½®è§‚å¯Ÿ")]),t._v(" "),a("p",[t._v("åˆ›å»ºä¸¤ä¸ªå¿…è¦çš„æ§åˆ¶å™¨")]),t._v(" "),a("div",{staticClass:"language-dart extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScrollController")]),t._v(" scrollController "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScrollController")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nlate "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ListObserverController")]),t._v(" observerController "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ListObserverController")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" scrollController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸ç¼“å­˜ item çš„åç§»é‡")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”±äºæˆ‘çš„ ListView æœ‰åŠ¨æ€åŠ è½½çš„æ¨¡å—ï¼Œå¯¼è‡´æ¨¡å—çš„åç§»é‡å¹¶éå›ºå®šï¼Œ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰€ä»¥è¿™é‡Œè®¾ç½®ä¸º false")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœä½ çš„ ListView çš„æ¨¡å—éƒ½æ˜¯æ˜¯å›ºå®šçš„ï¼Œåˆ™å»ºè®®è®¾ç½®ä¸º trueï¼Œè¿™æ ·")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸‹æ¬¡å¯ä»¥ç›´æ¥å–å€¼è·³è½¬ï¼Œé¿å…è®¡ç®—")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cacheJumpIndexOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ä½¿ç”¨ "),a("code",[t._v("ListViewObserver")]),t._v(" åŒ…è£¹ "),a("code",[t._v("ListView")]),t._v(" è¿›è¡Œè§‚å¯Ÿ")]),t._v(" "),a("div",{staticClass:"language-dart extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ListView (æ²¡ä»€ä¹ˆéœ€è¦æ”¹åŠ¨çš„ï¼Œæ€ä¹ˆå®ç°éƒ½å¯ä»¥)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Widget")]),t._v(" resultWidget "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ListView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("separated")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨ ListViewObserver åŒ…è£¹ ListView è¿›è¡Œè§‚å¯Ÿ")]),t._v("\nresultWidget "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ListViewObserver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§‚å¯Ÿæ§åˆ¶å™¨")]),t._v("\n  controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("observerController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DetailNavBar çš„é«˜åº¦")]),t._v("\n  dynamicLeadingOffset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navBarHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§‚å¯Ÿç»“æœå›è°ƒ")]),t._v("\n  onObserve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" logic"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onObserveForListView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åªç›‘å¬å¤„ç†ç¬¬ä¸€å±‚æ»šåŠ¨é€šçŸ¥ï¼Œå³ notification.depth == 0")]),t._v("\n  scrollNotificationPredicate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" defaultScrollNotificationPredicate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  child"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" resultWidget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("è¿™é‡Œé‡ç‚¹è¯´ä¸¤ä¸ªå‚æ•°")]),t._v(" "),a("p",[t._v("1ã€"),a("code",[t._v("dynamicLeadingOffset")]),t._v(": ç”¨äºè®¾ç½®è®¡ç®—å¯è§†åŒºåŸŸçš„åç§»é‡ï¼Œå¦‚å›¾ä¸­çš„ç»¿çº¿ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåˆ¤æ–­ "),a("code",[t._v("ListView")]),t._v(" çš„ "),a("code",[t._v("item")]),t._v(" æ˜¯å¦ä¸ºç¬¬ä¸€ä¸ªï¼Œä¸»è¦æ˜¯çœ‹å®ƒæ˜¯å¦æ¥è§¦ç»¿çº¿ï¼Œå½“ "),a("code",[t._v("dynamicLeadingOffset")]),t._v(" è¿”å›çš„å€¼è¶Šå¤§ï¼Œç»¿çº¿å°±è¶Šå‘ä¸‹åç§»ï¼Œè®¡ç®—çš„å¯è§†åŒºåŸŸå˜å°ï¼Œç¬¬ä¸€ä¸ª "),a("code",[t._v("item")]),t._v(" ä¹Ÿéšä¹‹å˜åŒ–ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20230813121546/image/202508171438436.png",alt:""}})]),t._v(" "),a("p",[t._v("æ‰€ä»¥è¿™é‡Œçš„ "),a("code",[t._v("dynamicLeadingOffset")]),t._v(" è¿”å›äº† "),a("code",[t._v("DetailNavBar")]),t._v(" çš„é«˜åº¦ "),a("code",[t._v("state.navBarHeight")]),t._v("ï¼Œå°±æ˜¯ä» "),a("code",[t._v("DetailNavBar")]),t._v(" çš„ä¸‹æ–¹å¼€å§‹è®¡ç®—å¯è§†åŒºåŸŸï¼Œè®¡ç®—ç¬¬ä¸€ä¸ª "),a("code",[t._v("item")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("2ã€"),a("code",[t._v("scrollNotificationPredicate")]),t._v(": ç”¨äºæ˜¯å¦å¤„ç†æ»šåŠ¨é€šçŸ¥ï¼Œ"),a("code",[t._v("ListViewObserver")]),t._v(" å†…éƒ¨æ˜¯ç›‘å¬æ»šåŠ¨é€šçŸ¥æ¥è§¦å‘è§‚å¯Ÿçš„ï¼Œä½†åœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼Œå¦‚ "),a("code",[t._v("item")]),t._v(" å†…éƒ¨æœ‰è½®æ’­ï¼Œè½®æ’­åœ¨æ¯æ¬¡ç¿»é¡µæ—¶ä¹Ÿä¼šå‘å‡ºæ»šåŠ¨é€šçŸ¥ï¼Œä¸è¿‡å…¶ "),a("code",[t._v("depth")]),t._v(" å¤§äº "),a("code",[t._v("0")]),t._v("ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¥åˆ¤æ–­å½“å‰çš„æ»šåŠ¨é€šçŸ¥æ˜¯å¦ä¸ºè¢«è§‚å¯Ÿçš„ "),a("code",[t._v("ListView")]),t._v(" å‘å‡ºçš„ï¼Œ "),a("code",[t._v("defaultScrollNotificationPredicate")]),t._v(" æ˜¯ "),a("code",[t._v("Flutter")]),t._v(" è‡ªå¸¦çš„æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-dart extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// A [ScrollNotificationPredicate] that checks whether")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `notification.depth == 0`, which means that the notification")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// did not bubble through any intervening scrolling widgets.")]),t._v("\nbool "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defaultScrollNotificationPredicate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScrollNotification")]),t._v(" notification"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" notification"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("depth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸ºäº†ä¸æ”¹å˜å…ˆå‰ç‰ˆæœ¬çš„è¡Œä¸ºï¼Œ"),a("code",[t._v("scrollview_observer")]),t._v(" å¹¶æ²¡æœ‰å°†å…¶è®¾ç½®åšä¸ºé»˜è®¤å€¼ï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®ï½")]),t._v(" "),a("h3",{attrs:{id:"_2ã€å¤„ç†è§‚å¯Ÿç»“æœ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€å¤„ç†è§‚å¯Ÿç»“æœ"}},[t._v("#")]),t._v(" 2ã€å¤„ç†è§‚å¯Ÿç»“æœ")]),t._v(" "),a("p",[t._v("åœ¨ "),a("code",[t._v("ListViewObserver")]),t._v(" çš„ "),a("code",[t._v("onObserve")]),t._v(" å›è°ƒæ–¹æ³•ä¸­æˆ‘ä»¬å¯ä»¥æ‹¿åˆ°è§‚å¯Ÿç»“æœï¼Œé€šè¿‡è§‚å¯Ÿç»“æœæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—å‡ºå½“å‰ "),a("code",[t._v("DetailNavBar")]),t._v(" åº”è¯¥è®¾ç½®çš„ "),a("code",[t._v("index")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("è¿™é‡Œ "),a("code",[t._v("scrollview_observer")]),t._v(" å·²ç»å°†è®¡ç®—é€»è¾‘å°è£…è‡³ "),a("code",[t._v("ObserverUtils.calcAnchorTabIndex")]),t._v(" æ–¹æ³•ä¸­ï¼ŒæŒ‰å¦‚ä¸‹è°ƒç”¨å³å¯ã€‚")]),t._v(" "),a("div",{staticClass:"language-dart extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onObserveForListView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ListViewObserveModel")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" navBarTabController "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navBarTabController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("navBarTabController "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®— TabBar çš„ä¸‹æ ‡")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" index "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ObserverUtils")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("calcAnchorTabIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    observeModel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    tabIndexes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navBarTabs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    currentTabIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" navBarTabController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›´æ–° TabBar çš„ä¸‹æ ‡")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNavBarTabIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNavBarTabIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("int index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" navBarTabController "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navBarTabController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("navBarTabController "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  navBarTabController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("index "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¼ å€¼è¯´æ˜")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("ListView")]),t._v(" æœ‰ "),a("code",[t._v("8")]),t._v(" ä¸ªæ¨¡å—ï¼Œå¯¹åº”çš„ä¸‹æ ‡å°±æ˜¯ "),a("code",[t._v("0 ~ 7")])]),t._v(" "),a("li",[a("code",[t._v("DetailNavBar")]),t._v(" æ˜¾ç¤ºçš„æ˜¯ "),a("code",[t._v("æ¨¡å— 1ã€4ã€7")]),t._v(" çš„ "),a("code",[t._v("Tab")]),t._v("ï¼Œå¯¹åº”æ¨¡å—çš„ä¸‹æ ‡å°±æ˜¯ "),a("code",[t._v("[0, 3, 6]")])])]),t._v(" "),a("p",[t._v("ä¸Šè¿° "),a("code",[t._v("calcAnchorTabIndex")]),t._v(" æ–¹æ³•ä¸­çš„ "),a("code",[t._v("tabIndexes")]),t._v("ï¼Œä¼ å…¥çš„å°±æ˜¯ "),a("code",[t._v("[0, 3, 6]")]),t._v("ï¼Œç„¶åè®¡ç®—å‡º "),a("code",[t._v("DetailNavBar")]),t._v(" å¯¹åº”çš„ "),a("code",[t._v("[0, 1 ,2]")])]),t._v(" "),a("h3",{attrs:{id:"_3ã€ç‚¹å‡»è·³è½¬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€ç‚¹å‡»è·³è½¬"}},[t._v("#")]),t._v(" 3ã€ç‚¹å‡»è·³è½¬")]),t._v(" "),a("div",{staticClass:"language-dart extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleNavBarTabTap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("int index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hasClients"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" tabModel "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navBarTabs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" moduleIndex "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tabModel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬ä¸€ä¸ªæ¨¡å—ï¼Œç›´æ¥å›åˆ°é¡¶éƒ¨")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moduleIndex "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("jumpTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…¶å®ƒæ¨¡å—")]),t._v("\n  state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("observerController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("jumpTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" moduleIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    offset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navBarHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç‚¹å‡»è·³è½¬ç¬¬ä¸€ä¸ªæ¨¡å—æ—¶ï¼Œæˆ‘ä»¬æ˜¯çŸ¥é“åç§»é‡çš„ï¼Œç›´æ¥ "),a("code",[t._v("scrollController.jumpTo(0)")]),t._v(" å³å¯ï¼Œé¿å…ä¸å¿…è¦çš„è®¡ç®—ã€‚")]),t._v(" "),a("p",[t._v("ç‚¹å‡»è·³è½¬å…¶å®ƒæ¨¡å—æ—¶ï¼Œä½¿ç”¨ "),a("code",[t._v("observerController.jumpTo")]),t._v("ï¼Œå…¶ä¸­ "),a("code",[t._v("offset")]),t._v(" ç”¨äºè®¾ç½®å‘ä¸‹åç§»å¤šå°‘ï¼Œè¿™é‡Œè¿”å›äº† "),a("code",[t._v("DetailNavBar")]),t._v(" çš„é«˜åº¦ "),a("code",[t._v("state.navBarHeight")]),t._v("ï¼Œå³æ»šåŠ¨åˆ° "),a("code",[t._v("DetailNavBar")]),t._v(" çš„ä¸‹æ–¹ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å››ã€æœ€å"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€æœ€å"}},[t._v("#")]),t._v(" å››ã€æœ€å")]),t._v(" "),a("p",[t._v("é€šè¿‡ä¸Šè¿°ç¤ºä¾‹çš„è®²è§£ï¼Œç›¸ä¿¡ä½ å¯¹ "),a("code",[t._v("scrollview_observer")]),t._v(" çš„ä½¿ç”¨åˆæ›´åŠ æ¸…æ¥šï¼Œå¼€æºä¸æ˜“ï¼Œå¦‚æœä½ ä¹Ÿè§‰å¾—è¿™ä¸ªåº“å¥½ç”¨ï¼Œè¯·ä¸åç»™ä¸ª "),a("code",[t._v("Star")]),t._v("  ğŸ‘ ï¼Œå¹¶å¤šå¤šæ”¯æŒï¼")]),t._v(" "),a("p",[t._v("GitHub: "),a("a",{attrs:{href:"https://github.com/fluttercandies/flutter_scrollview_observer",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/fluttercandies/flutter_scrollview_observer"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("æœ¬ç¯‡åˆ°æ­¤ç»“æŸï¼Œæ„Ÿè°¢å¤§å®¶çš„æ”¯æŒï¼Œæˆ‘ä»¬ä¸‹æ¬¡å†è§ï¼ ğŸ‘‹")])])}),[],!1,null,null,null);a.default=e.exports}}]);