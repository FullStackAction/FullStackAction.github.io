(window.webpackJsonp=window.webpackJsonp||[]).push([[177],{587:function(a,s,e){"use strict";e.r(s);var t=e(21),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("目的：简单一句话，实现 "),s("code",[a._v("python")]),a._v(" 环境隔离")]),a._v(" "),s("h2",{attrs:{id:"一、pyenv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、pyenv"}},[a._v("#")]),a._v(" 一、pyenv")]),a._v(" "),s("h3",{attrs:{id:"_1、安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装"}},[a._v("#")]),a._v(" 1、安装")]),a._v(" "),s("h4",{attrs:{id:"方式一-git-clone"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方式一-git-clone"}},[a._v("#")]),a._v(" 方式一："),s("code",[a._v("Git Clone")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone git://github.com/pyenv/pyenv.git ~/.pyenv\n")])])]),s("p",[s("code",[a._v("bash")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'export PYENV_ROOT=\"$HOME/.pyenv\"'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" ~/.bashrc\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'export PATH=\"$PYENV_ROOT/bin:$PATH\"'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" ~/.bashrc\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'export PATH=\"$PYENV_ROOT/shims:$PATH\"'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" ~/.bashrc\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'eval \"$(pyenv init -)\"'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" ~/.bashrc\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$SHELL")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v("\n")])])]),s("p",[s("code",[a._v("zsh")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'export PYENV_ROOT=\"$HOME/.pyenv\"'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" ~/.zshrc\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'export PATH=\"$PYENV_ROOT/bin:$PATH\"'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" ~/.zshrc\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'export PATH=\"$PYENV_ROOT/shims:$PATH\"'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" ~/.zshrc\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'eval \"$(pyenv init -)\"'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" ~/.zshrc\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$SHELL")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v("\n")])])]),s("h4",{attrs:{id:"方式二-homebrew"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方式二-homebrew"}},[a._v("#")]),a._v(" 方式二："),s("code",[a._v("Homebrew")])]),a._v(" "),s("p",[a._v("安装")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("brew "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" pyenv\n")])])]),s("p",[a._v("根据自身环境，将下方内容加到对应文件中： "),s("code",[a._v(".bashrc")]),a._v(" / "),s("code",[a._v(".zshrc")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PYENV_ROOT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/var/pyenv\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$PYENV_ROOT")]),a._v("/bin:"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),a._v('"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$PYENV_ROOT")]),a._v("/shims:"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),a._v('"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("which")]),a._v(" pyenv "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /dev/null"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("eval")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("pyenv init -"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n")])])]),s("h3",{attrs:{id:"_2、验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、验证"}},[a._v("#")]),a._v(" 2、验证")]),a._v(" "),s("p",[a._v("验证安装是否成功：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("pyenv\n")])])]),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20210320170901/image/202201242316510.png",alt:""}})]),a._v(" "),s("h3",{attrs:{id:"_3、使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、使用"}},[a._v("#")]),a._v(" 3、使用")]),a._v(" "),s("p",[a._v("基本使用")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("命令")]),a._v(" "),s("th",[a._v("描述")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[s("code",[a._v("pyenv --version")])]),a._v(" "),s("td",[a._v("查看 "),s("code",[a._v("pyenv")]),a._v(" 的版本")])]),a._v(" "),s("tr",[s("td",[s("code",[a._v("pyenv versions")])]),a._v(" "),s("td",[a._v("罗列当前已安装的所有 "),s("code",[a._v("python")]),a._v(" 环境，如果是当前正在使用的环境，则前面会有个 "),s("code",[a._v("*")])])]),a._v(" "),s("tr",[s("td",[s("code",[a._v("pyenv help")])]),a._v(" "),s("td",[a._v("查看帮助")])]),a._v(" "),s("tr",[s("td",[s("code",[a._v("pyenv init")])]),a._v(" "),s("td",[a._v("如果输入 "),s("code",[a._v("pyenv")]),a._v(" 之后使用 "),s("code",[a._v("tab")]),a._v(" 不补全，可以使用该命令进行初始即可使用补全命令")])])])]),a._v(" "),s("p",[a._v("安装环境")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("命令")]),a._v(" "),s("th",[a._v("描述")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[s("code",[a._v("pyenv install -l")])]),a._v(" "),s("td",[a._v("显示可以安装的版本列表")])]),a._v(" "),s("tr",[s("td",[s("code",[a._v("pyenv install 版本号")])]),a._v(" "),s("td",[a._v("安装指定版本的 "),s("code",[a._v("python")])])]),a._v(" "),s("tr",[s("td",[s("code",[a._v("pyenv rehash")])]),a._v(" "),s("td",[a._v("更新本地数据库，安装指定版本的 "),s("code",[a._v("python")]),a._v(" 后使用")])])])]),a._v(" "),s("p",[a._v("环境应用")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("命令")]),a._v(" "),s("th",[a._v("描述")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[s("code",[a._v("pyenv global 版本号")])]),a._v(" "),s("td",[a._v("更改本机版本，重启不会造成再次更改")])]),a._v(" "),s("tr",[s("td",[s("code",[a._v("pyenv local 版本号")])]),a._v(" "),s("td",[a._v("会在当前目录创建 "),s("code",[a._v(".python-version")]),a._v(" 文件，并记录设置的 "),s("code",[a._v("python")]),a._v(" 环境，每次进入该目录会自动设置成该 "),s("code",[a._v("python")]),a._v(" 环境")])]),a._v(" "),s("tr",[s("td",[s("code",[a._v("pyenv shell 版本号")])]),a._v(" "),s("td",[a._v("更改当前 "),s("code",[a._v("shell")]),a._v(" 下使用的 "),s("code",[a._v("python")]),a._v(" 版本，临时生效，优先级高于 "),s("code",[a._v("global")])])])])]),a._v(" "),s("h2",{attrs:{id:"二、virtualenv插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、virtualenv插件"}},[a._v("#")]),a._v(" 二、virtualenv插件")]),a._v(" "),s("h3",{attrs:{id:"_1、安装-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装-2"}},[a._v("#")]),a._v(" 1、安装")]),a._v(" "),s("h4",{attrs:{id:"方式一-git-clone-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方式一-git-clone-2"}},[a._v("#")]),a._v(" 方式一："),s("code",[a._v("Git Clone")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" .pyenv/plugins\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/pyenv/pyenv-virtualenv.git "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 安装virtualenv插件")]),a._v("\n")])])]),s("h4",{attrs:{id:"方式二-homebrew-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方式二-homebrew-2"}},[a._v("#")]),a._v(" 方式二："),s("code",[a._v("Homebrew")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("brew "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" pyenv-virtualenv\n")])])]),s("h3",{attrs:{id:"_2、配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、配置"}},[a._v("#")]),a._v(" 2、配置")]),a._v(" "),s("p",[a._v("无论使用上述的哪种方式进行的安装，请根据自身环境，将下方内容加到对应文件中： "),s("code",[a._v(".bashrc")]),a._v(" / "),s("code",[a._v(".zshrc")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("eval")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("pyenv virtualenv-init -"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),a._v("\n")])])]),s("h3",{attrs:{id:"_3、使用-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、使用-2"}},[a._v("#")]),a._v(" 3、使用")]),a._v(" "),s("h4",{attrs:{id:"基本使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本使用"}},[a._v("#")]),a._v(" 基本使用")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("命令")]),a._v(" "),s("th",[a._v("描述")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[s("code",[a._v("pyenv virtualenv 3.8.3 env383")])]),a._v(" "),s("td",[a._v("创建 "),s("code",[a._v("3.8.3")]),a._v(" 版本虚拟环境")])]),a._v(" "),s("tr",[s("td",[s("code",[a._v("pyenv virtualenvs")])]),a._v(" "),s("td",[a._v("显示环境")])]),a._v(" "),s("tr",[s("td",[s("code",[a._v("pyenv activate env383")])]),a._v(" "),s("td",[a._v("激活使用指定的虚拟环境")])]),a._v(" "),s("tr",[s("td",[s("code",[a._v("pyenv deactivate")])]),a._v(" "),s("td",[a._v("退出当前虚拟环境")])]),a._v(" "),s("tr",[s("td",[s("code",[a._v("rm -rf .pyenv/versions/3.8.3")])]),a._v(" "),s("td",[a._v("删除版本环境")])]),a._v(" "),s("tr",[s("td",[s("code",[a._v("rm -rf .pyenv/versions/env383")])]),a._v(" "),s("td",[a._v("删除虚拟环境")])])])]),a._v(" "),s("h4",{attrs:{id:"自动激活和退出虚拟环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动激活和退出虚拟环境"}},[a._v("#")]),a._v(" 自动激活和退出虚拟环境")]),a._v(" "),s("p",[a._v("在需要使用虚拟环境的目录（通常是项目目录）中：")]),a._v(" "),s("ol",[s("li",[a._v("建立一个 "),s("code",[a._v(".python-version")]),a._v(" 的文本文件")]),a._v(" "),s("li",[a._v("将虚拟环境名称（如 "),s("code",[a._v("env383")]),a._v(" ）写在里面")])]),a._v(" "),s("p",[a._v("之后每次进／出该目录时，虚拟环境都将自动激活／退出。")]),a._v(" "),s("h2",{attrs:{id:"三、报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、报错"}},[a._v("#")]),a._v(" 三、报错")]),a._v(" "),s("h3",{attrs:{id:"_1、激活指定的虚拟环境时报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、激活指定的虚拟环境时报错"}},[a._v("#")]),a._v(" 1、激活指定的虚拟环境时报错")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 命令")]),a._v("\npyenv activate env383\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 报错信息")]),a._v("\nFailed to activate virtualenv.\n\nPerhaps pyenv-virtualenv has not been loaded into your shell properly.\nPlease restart current shell and try again.\n")])])]),s("p",[a._v("别慌，重启你的终端，或者执行如下命令即可")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$SHELL")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v("\n")])])]),s("h3",{attrs:{id:"_2、还是系统版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、还是系统版本"}},[a._v("#")]),a._v(" 2、还是系统版本")]),a._v(" "),s("p",[a._v("如果你用 "),s("code",[a._v("pyenv versions")]),a._v(" 查看，明明已经切换成功，但是用 "),s("code",[a._v("python -V")]),a._v("却还是系统版本。")]),a._v(" "),s("p",[a._v("原因是 "),s("code",[a._v("pyenv")]),a._v("没有加到 "),s("code",[a._v("$PATH")]),a._v("环境变量里去，解决办法如下：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PYENV_ROOT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=~")]),a._v("/.pyenv\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$PYENV_ROOT")]),a._v("/shims:"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),a._v("\n")])])]),s("h3",{attrs:{id:"_3、安装-python报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、安装-python报错"}},[a._v("#")]),a._v(" 3、安装 "),s("code",[a._v("python")]),a._v("报错")]),a._v(" "),s("p",[a._v("安装 "),s("code",[a._v("python")]),a._v("报错，如")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("pyenv "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.8")]),a._v(".3\n")])])]),s("p",[a._v("报错内容：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("python-build: use openssl@1.1 from homebrew\npython-build: use readline from homebrew\nDownloading Python-3.8.3.tar.xz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n-"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" https://www.python.org/ftp/python/3.8.3/Python-3.8.3.tar.xz\nInstalling Python-3.8.3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\npython-build: use readline from homebrew\npython-build: use zlib from xcode sdk\n\nBUILD FAILED "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("OS X "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("12.0")]),a._v(".1 using python-build "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("20180424")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\nInspect or clean up the working tree at /var/folders/cy/8zkx5hys2tsgb1d_x42_r8qc0000gn/T/python-build.20220122174148.1531\nResults logged to /var/folders/cy/8zkx5hys2tsgb1d_x42_r8qc0000gn/T/python-build.20220122174148.1531.log\n\nLast "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" log lines:\nclang -Wno-unused-result -Wsign-compare -Wunreachable-code "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DNDEBUG")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-fwrapv")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O3")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Wall")]),a._v(" -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include   -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include   "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-std")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("c99 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Wextra")]),a._v(" -Wno-unused-result -Wno-unused-parameter -Wno-missing-field-initializers -Wstrict-prototypes "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Werror")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("implicit-function-declaration  -I./Include/internal  -I. -I./Include -I/usr/local/opt/readline/include -I/usr/local/opt/readline/include -I/usr/local/var/pyenv/versions/3.8.3/include -I/usr/local/opt/sqlite/include -I/usr/local/opt/readline/include -I/usr/local/opt/readline/include -I/usr/local/var/pyenv/versions/3.8.3/include -I/usr/local/opt/sqlite/include  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DPy_BUILD_CORE_BUILTIN")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" ./Modules/_codecsmodule.c "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" Modules/_codecsmodule.o\nclang -Wno-unused-result -Wsign-compare -Wunreachable-code "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DNDEBUG")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-fwrapv")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O3")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Wall")]),a._v(" -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include   -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include   "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-std")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("c99 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Wextra")]),a._v(" -Wno-unused-result -Wno-unused-parameter -Wno-missing-field-initializers -Wstrict-prototypes "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Werror")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("implicit-function-declaration  -I./Include/internal  -I. -I./Include -I/usr/local/opt/readline/include -I/usr/local/opt/readline/include -I/usr/local/var/pyenv/versions/3.8.3/include -I/usr/local/opt/sqlite/include -I/usr/local/opt/readline/include -I/usr/local/opt/readline/include -I/usr/local/var/pyenv/versions/3.8.3/include -I/usr/local/opt/sqlite/include  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DPy_BUILD_CORE_BUILTIN")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" ./Modules/_weakref.c "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" Modules/_weakref.o\n./Modules/posixmodule.c:9221:15: error: implicit declaration of "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'sendfile'")]),a._v(" is invalid "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" C99 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-Werror,-Wimplicit-function-declaration"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n        ret "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" sendfile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("in, out, offset, "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("sbytes, "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("sf, flags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n              ^\nclang -Wno-unused-result -Wsign-compare -Wunreachable-code "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DNDEBUG")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-fwrapv")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O3")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Wall")]),a._v(" -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include   -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include   "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-std")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("c99 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Wextra")]),a._v(" -Wno-unused-result -Wno-unused-parameter -Wno-missing-field-initializers -Wstrict-prototypes "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Werror")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("implicit-function-declaration  -I./Include/internal  -I. -I./Include -I/usr/local/opt/readline/include -I/usr/local/opt/readline/include -I/usr/local/var/pyenv/versions/3.8.3/include -I/usr/local/opt/sqlite/include -I/usr/local/opt/readline/include -I/usr/local/opt/readline/include -I/usr/local/var/pyenv/versions/3.8.3/include -I/usr/local/opt/sqlite/include  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DPy_BUILD_CORE_BUILTIN")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DPy_BUILD_CORE_BUILTIN")]),a._v(" -I./Include/internal "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" ./Modules/_functoolsmodule.c "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" Modules/_functoolsmodule.o\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" error generated.\nmake: *** "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Modules/posixmodule.o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Error "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\nmake: *** Waiting "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" unfinished jobs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" warning generated.\n")])])]),s("p",[a._v("使用下面的命令安装即可，注意修改成相应的版本号")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("CFLAGS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"-I'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("brew "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),a._v(" openssl"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("/include -I"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("brew "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bzip2")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("/include -I"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("brew "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),a._v(" readline"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("/include -I"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("xcrun --show-sdk-path"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('/usr/include"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LDFLAGS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"-L'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("brew "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),a._v(" openssl"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("/lib -L"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("brew "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),a._v(" readline"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("/lib -L"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("brew "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),a._v(" zlib"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("/lib -L"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("brew "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bzip2")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('/lib"')]),a._v(" pyenv "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--patch")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.8")]),a._v(".3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sSL")]),a._v(" https://github.com/python/cpython/commit/8ea6353.patch?full_index"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("h2",{attrs:{id:"四、注意"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、注意"}},[a._v("#")]),a._v(" 四、注意")]),a._v(" "),s("ul",[s("li",[a._v("安装好的版本不做任何修改，我们只操作虚拟环境，如 "),s("code",[a._v("env383")])]),a._v(" "),s("li",[a._v("可以通过版本来多个虚拟环境，如 "),s("code",[a._v("env383_1")]),a._v("、"),s("code",[a._v("env383_2")])]),a._v(" "),s("li",[a._v("导出当前环境的依赖库: "),s("code",[a._v("pip freeze > requirements.txt")])]),a._v(" "),s("li",[a._v("导入依赖库到当前环境: "),s("code",[a._v("pip install -r requirements.txt")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);