<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AndroidNDK - makefile语法详解 | FSA全栈行动</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-3568502583266202" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script src="/js/global.js"></script>
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?885476c2eae58d4aee1ab7fcfb548adb";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
      </script>
    <meta name="description" content="分享Android、iOS、Python、Vue等技术资讯、学习笔记，成功有梦想的全栈工程师，欢迎关注。">
    <meta name="keywords" content="FSA全栈行动,LinXunFeng,GitLqr,全栈技术博客,移动端,web前端,后端开发,前端框架,web前端,Android框架,iOS框架,Flutter框架,Python框架,Vue框架,技术文档,学习,面试,Java,Kotlin,object-c,Swift,Kotlin,Dart,JavaScript,js,ES6,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="code-Cyx4xlZmzI">
    <meta name="google-site-verification" content="_0KO4KbxdSwB-TPRQ8bRqmML8dnrx5G82GhQNZlR4HU">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.f24a96ee.css" as="style"><link rel="preload" href="/assets/js/app.2d4d48ef.js" as="script"><link rel="preload" href="/assets/js/2.d8b68cf2.js" as="script"><link rel="preload" href="/assets/js/48.3318facd.js" as="script"><link rel="prefetch" href="/assets/js/10.d73c7d01.js"><link rel="prefetch" href="/assets/js/100.9ebeff21.js"><link rel="prefetch" href="/assets/js/101.692c940a.js"><link rel="prefetch" href="/assets/js/102.e2f371dd.js"><link rel="prefetch" href="/assets/js/103.915d0f88.js"><link rel="prefetch" href="/assets/js/104.28cfb05a.js"><link rel="prefetch" href="/assets/js/105.093417ac.js"><link rel="prefetch" href="/assets/js/106.3cbd2542.js"><link rel="prefetch" href="/assets/js/107.64783dba.js"><link rel="prefetch" href="/assets/js/108.743f1185.js"><link rel="prefetch" href="/assets/js/109.f19942bd.js"><link rel="prefetch" href="/assets/js/11.1bcda3a0.js"><link rel="prefetch" href="/assets/js/110.8af5f48d.js"><link rel="prefetch" href="/assets/js/111.8bd3a603.js"><link rel="prefetch" href="/assets/js/112.561e95e5.js"><link rel="prefetch" href="/assets/js/113.dc4597d6.js"><link rel="prefetch" href="/assets/js/114.0b360344.js"><link rel="prefetch" href="/assets/js/115.d3a84fe4.js"><link rel="prefetch" href="/assets/js/116.3987a675.js"><link rel="prefetch" href="/assets/js/117.06dfe4cf.js"><link rel="prefetch" href="/assets/js/118.8b183b3e.js"><link rel="prefetch" href="/assets/js/119.0f5457d8.js"><link rel="prefetch" href="/assets/js/12.9d9f5ba0.js"><link rel="prefetch" href="/assets/js/120.7a1fc0c6.js"><link rel="prefetch" href="/assets/js/121.c39b3bac.js"><link rel="prefetch" href="/assets/js/122.98abc6f1.js"><link rel="prefetch" href="/assets/js/123.d26b6150.js"><link rel="prefetch" href="/assets/js/124.8a5a34f6.js"><link rel="prefetch" href="/assets/js/125.ba32e31d.js"><link rel="prefetch" href="/assets/js/126.5c1160c9.js"><link rel="prefetch" href="/assets/js/127.cda7bc77.js"><link rel="prefetch" href="/assets/js/128.693e08d4.js"><link rel="prefetch" href="/assets/js/129.e6b34ba6.js"><link rel="prefetch" href="/assets/js/13.2af8a90e.js"><link rel="prefetch" href="/assets/js/130.a5c99ad8.js"><link rel="prefetch" href="/assets/js/131.b076989a.js"><link rel="prefetch" href="/assets/js/132.a7a08de6.js"><link rel="prefetch" href="/assets/js/133.d8849bbf.js"><link rel="prefetch" href="/assets/js/134.97755c83.js"><link rel="prefetch" href="/assets/js/135.106ce0b9.js"><link rel="prefetch" href="/assets/js/136.52554b90.js"><link rel="prefetch" href="/assets/js/137.33299b33.js"><link rel="prefetch" href="/assets/js/138.9ff58cd6.js"><link rel="prefetch" href="/assets/js/139.7cee0069.js"><link rel="prefetch" href="/assets/js/14.dfac8018.js"><link rel="prefetch" href="/assets/js/140.87424ea7.js"><link rel="prefetch" href="/assets/js/141.d610ca63.js"><link rel="prefetch" href="/assets/js/142.a63d6162.js"><link rel="prefetch" href="/assets/js/143.98b3a651.js"><link rel="prefetch" href="/assets/js/144.7349ca77.js"><link rel="prefetch" href="/assets/js/145.858d9452.js"><link rel="prefetch" href="/assets/js/146.a032b581.js"><link rel="prefetch" href="/assets/js/147.db1005fb.js"><link rel="prefetch" href="/assets/js/148.20fde4db.js"><link rel="prefetch" href="/assets/js/149.79e591ff.js"><link rel="prefetch" href="/assets/js/15.525d5dfe.js"><link rel="prefetch" href="/assets/js/150.9969db2c.js"><link rel="prefetch" href="/assets/js/151.84e062f1.js"><link rel="prefetch" href="/assets/js/152.fca6b962.js"><link rel="prefetch" href="/assets/js/153.e362f89c.js"><link rel="prefetch" href="/assets/js/154.fcadffca.js"><link rel="prefetch" href="/assets/js/155.51be41cc.js"><link rel="prefetch" href="/assets/js/156.670b7225.js"><link rel="prefetch" href="/assets/js/157.c170060f.js"><link rel="prefetch" href="/assets/js/158.79568bb0.js"><link rel="prefetch" href="/assets/js/159.4556ba58.js"><link rel="prefetch" href="/assets/js/16.d8737ba6.js"><link rel="prefetch" href="/assets/js/160.ccb3da81.js"><link rel="prefetch" href="/assets/js/161.2dd46ffa.js"><link rel="prefetch" href="/assets/js/162.81be7d90.js"><link rel="prefetch" href="/assets/js/163.f58980ed.js"><link rel="prefetch" href="/assets/js/164.0daa0d84.js"><link rel="prefetch" href="/assets/js/165.0025d837.js"><link rel="prefetch" href="/assets/js/166.34f4d0ad.js"><link rel="prefetch" href="/assets/js/167.b9d00a44.js"><link rel="prefetch" href="/assets/js/168.2b870512.js"><link rel="prefetch" href="/assets/js/169.2572ebe8.js"><link rel="prefetch" href="/assets/js/17.a33331a9.js"><link rel="prefetch" href="/assets/js/170.ecdf49ba.js"><link rel="prefetch" href="/assets/js/171.515f1452.js"><link rel="prefetch" href="/assets/js/172.c2378c3b.js"><link rel="prefetch" href="/assets/js/173.0c9b51f4.js"><link rel="prefetch" href="/assets/js/174.936f89c8.js"><link rel="prefetch" href="/assets/js/175.ed46e2e7.js"><link rel="prefetch" href="/assets/js/176.4ff5b766.js"><link rel="prefetch" href="/assets/js/177.5759f169.js"><link rel="prefetch" href="/assets/js/178.11c05642.js"><link rel="prefetch" href="/assets/js/179.d5d205b8.js"><link rel="prefetch" href="/assets/js/18.33037d59.js"><link rel="prefetch" href="/assets/js/180.8c16fa5a.js"><link rel="prefetch" href="/assets/js/181.177eb071.js"><link rel="prefetch" href="/assets/js/182.73907a46.js"><link rel="prefetch" href="/assets/js/183.99c9cf87.js"><link rel="prefetch" href="/assets/js/184.1dfd81c2.js"><link rel="prefetch" href="/assets/js/185.971f5e58.js"><link rel="prefetch" href="/assets/js/186.313d1a70.js"><link rel="prefetch" href="/assets/js/187.459a4ad7.js"><link rel="prefetch" href="/assets/js/188.9a1726d7.js"><link rel="prefetch" href="/assets/js/189.b362f544.js"><link rel="prefetch" href="/assets/js/19.c55f5d6a.js"><link rel="prefetch" href="/assets/js/190.e85d00ec.js"><link rel="prefetch" href="/assets/js/191.dd7f9644.js"><link rel="prefetch" href="/assets/js/192.a75299de.js"><link rel="prefetch" href="/assets/js/193.2401b87e.js"><link rel="prefetch" href="/assets/js/194.e846ce6c.js"><link rel="prefetch" href="/assets/js/195.e1af073b.js"><link rel="prefetch" href="/assets/js/196.d93e42cb.js"><link rel="prefetch" href="/assets/js/197.6487f19c.js"><link rel="prefetch" href="/assets/js/198.30967f29.js"><link rel="prefetch" href="/assets/js/199.7423d246.js"><link rel="prefetch" href="/assets/js/20.33fe86db.js"><link rel="prefetch" href="/assets/js/200.bce59201.js"><link rel="prefetch" href="/assets/js/201.4cd49822.js"><link rel="prefetch" href="/assets/js/202.173e5a37.js"><link rel="prefetch" href="/assets/js/203.a85f39cd.js"><link rel="prefetch" href="/assets/js/204.21858da9.js"><link rel="prefetch" href="/assets/js/205.5e872379.js"><link rel="prefetch" href="/assets/js/206.243e7141.js"><link rel="prefetch" href="/assets/js/207.448dfde3.js"><link rel="prefetch" href="/assets/js/208.deac36f6.js"><link rel="prefetch" href="/assets/js/209.37e19542.js"><link rel="prefetch" href="/assets/js/21.ab5e7303.js"><link rel="prefetch" href="/assets/js/210.fdec2507.js"><link rel="prefetch" href="/assets/js/211.54336e4f.js"><link rel="prefetch" href="/assets/js/212.69924da9.js"><link rel="prefetch" href="/assets/js/213.0f51c16c.js"><link rel="prefetch" href="/assets/js/214.ba840acf.js"><link rel="prefetch" href="/assets/js/215.ac8611b6.js"><link rel="prefetch" href="/assets/js/216.3730a159.js"><link rel="prefetch" href="/assets/js/217.4128d765.js"><link rel="prefetch" href="/assets/js/218.901ac474.js"><link rel="prefetch" href="/assets/js/219.f2616625.js"><link rel="prefetch" href="/assets/js/22.ec455aec.js"><link rel="prefetch" href="/assets/js/220.e7d2d5f1.js"><link rel="prefetch" href="/assets/js/221.b548ae70.js"><link rel="prefetch" href="/assets/js/222.22e62dda.js"><link rel="prefetch" href="/assets/js/223.38d1b705.js"><link rel="prefetch" href="/assets/js/224.f1059028.js"><link rel="prefetch" href="/assets/js/225.64f91398.js"><link rel="prefetch" href="/assets/js/226.e98a767f.js"><link rel="prefetch" href="/assets/js/227.098340b4.js"><link rel="prefetch" href="/assets/js/228.1f985cc8.js"><link rel="prefetch" href="/assets/js/229.6f72beda.js"><link rel="prefetch" href="/assets/js/23.d3a842bc.js"><link rel="prefetch" href="/assets/js/230.af200dc3.js"><link rel="prefetch" href="/assets/js/231.0b1f2a46.js"><link rel="prefetch" href="/assets/js/232.05df74d2.js"><link rel="prefetch" href="/assets/js/233.6c0ea3e2.js"><link rel="prefetch" href="/assets/js/234.09e76da9.js"><link rel="prefetch" href="/assets/js/235.885eb9bb.js"><link rel="prefetch" href="/assets/js/236.2800f10b.js"><link rel="prefetch" href="/assets/js/237.cbb7eb8d.js"><link rel="prefetch" href="/assets/js/238.b195ae43.js"><link rel="prefetch" href="/assets/js/239.5d8dfdcb.js"><link rel="prefetch" href="/assets/js/24.39bed4a8.js"><link rel="prefetch" href="/assets/js/240.2515210d.js"><link rel="prefetch" href="/assets/js/241.84b08412.js"><link rel="prefetch" href="/assets/js/242.f829e0ce.js"><link rel="prefetch" href="/assets/js/243.3962e7b8.js"><link rel="prefetch" href="/assets/js/244.a0755d89.js"><link rel="prefetch" href="/assets/js/245.11bf35d1.js"><link rel="prefetch" href="/assets/js/246.6aba1f4c.js"><link rel="prefetch" href="/assets/js/247.6bcc82b1.js"><link rel="prefetch" href="/assets/js/248.414d02d5.js"><link rel="prefetch" href="/assets/js/249.742e750f.js"><link rel="prefetch" href="/assets/js/25.ffefd3d8.js"><link rel="prefetch" href="/assets/js/250.5033772a.js"><link rel="prefetch" href="/assets/js/251.412b60b4.js"><link rel="prefetch" href="/assets/js/252.b3501617.js"><link rel="prefetch" href="/assets/js/253.0122e078.js"><link rel="prefetch" href="/assets/js/254.8d66dafd.js"><link rel="prefetch" href="/assets/js/255.e018597b.js"><link rel="prefetch" href="/assets/js/256.27d60e95.js"><link rel="prefetch" href="/assets/js/257.a5caf864.js"><link rel="prefetch" href="/assets/js/258.334738bd.js"><link rel="prefetch" href="/assets/js/259.37b1a482.js"><link rel="prefetch" href="/assets/js/26.ad30bb86.js"><link rel="prefetch" href="/assets/js/260.d836a7c8.js"><link rel="prefetch" href="/assets/js/261.55869228.js"><link rel="prefetch" href="/assets/js/262.b9a50b0a.js"><link rel="prefetch" href="/assets/js/263.2c1feac8.js"><link rel="prefetch" href="/assets/js/264.02bb46f7.js"><link rel="prefetch" href="/assets/js/27.dbb4126e.js"><link rel="prefetch" href="/assets/js/28.8bd9d307.js"><link rel="prefetch" href="/assets/js/29.1a71e08e.js"><link rel="prefetch" href="/assets/js/3.54a166b1.js"><link rel="prefetch" href="/assets/js/30.42d97bb2.js"><link rel="prefetch" href="/assets/js/31.30f900c9.js"><link rel="prefetch" href="/assets/js/32.a5df6c36.js"><link rel="prefetch" href="/assets/js/33.1d2d90c4.js"><link rel="prefetch" href="/assets/js/34.6df3a0a1.js"><link rel="prefetch" href="/assets/js/35.e5a1aa99.js"><link rel="prefetch" href="/assets/js/36.b797468c.js"><link rel="prefetch" href="/assets/js/37.f30f1cbb.js"><link rel="prefetch" href="/assets/js/38.9ff8e9d7.js"><link rel="prefetch" href="/assets/js/39.bae582ef.js"><link rel="prefetch" href="/assets/js/4.f21084fd.js"><link rel="prefetch" href="/assets/js/40.5a3d5763.js"><link rel="prefetch" href="/assets/js/41.efe92704.js"><link rel="prefetch" href="/assets/js/42.c8e276f2.js"><link rel="prefetch" href="/assets/js/43.7b5518fd.js"><link rel="prefetch" href="/assets/js/44.cb0239ea.js"><link rel="prefetch" href="/assets/js/45.411caf2b.js"><link rel="prefetch" href="/assets/js/46.8374a3d1.js"><link rel="prefetch" href="/assets/js/47.79a96a98.js"><link rel="prefetch" href="/assets/js/49.e2fefb42.js"><link rel="prefetch" href="/assets/js/5.fb735bd1.js"><link rel="prefetch" href="/assets/js/50.30b4bfec.js"><link rel="prefetch" href="/assets/js/51.e955e801.js"><link rel="prefetch" href="/assets/js/52.3e4c5bd5.js"><link rel="prefetch" href="/assets/js/53.10b4da3e.js"><link rel="prefetch" href="/assets/js/54.bcf53f23.js"><link rel="prefetch" href="/assets/js/55.7dc849e2.js"><link rel="prefetch" href="/assets/js/56.106c02f7.js"><link rel="prefetch" href="/assets/js/57.024e57ae.js"><link rel="prefetch" href="/assets/js/58.14f76c64.js"><link rel="prefetch" href="/assets/js/59.0b24f777.js"><link rel="prefetch" href="/assets/js/6.95ba2307.js"><link rel="prefetch" href="/assets/js/60.ac9296c1.js"><link rel="prefetch" href="/assets/js/61.ecdd48ba.js"><link rel="prefetch" href="/assets/js/62.db6f90d9.js"><link rel="prefetch" href="/assets/js/63.f15fa795.js"><link rel="prefetch" href="/assets/js/64.a054754c.js"><link rel="prefetch" href="/assets/js/65.8752258b.js"><link rel="prefetch" href="/assets/js/66.98e44e46.js"><link rel="prefetch" href="/assets/js/67.4ec50b75.js"><link rel="prefetch" href="/assets/js/68.19977cc6.js"><link rel="prefetch" href="/assets/js/69.84d33152.js"><link rel="prefetch" href="/assets/js/7.4ea2a7cb.js"><link rel="prefetch" href="/assets/js/70.94bc99f2.js"><link rel="prefetch" href="/assets/js/71.53492875.js"><link rel="prefetch" href="/assets/js/72.321e3f81.js"><link rel="prefetch" href="/assets/js/73.f9d71550.js"><link rel="prefetch" href="/assets/js/74.e88f31cc.js"><link rel="prefetch" href="/assets/js/75.dba34890.js"><link rel="prefetch" href="/assets/js/76.2f93669b.js"><link rel="prefetch" href="/assets/js/77.06718df4.js"><link rel="prefetch" href="/assets/js/78.ba683fe1.js"><link rel="prefetch" href="/assets/js/79.08d16d3a.js"><link rel="prefetch" href="/assets/js/8.ade06460.js"><link rel="prefetch" href="/assets/js/80.3dfda944.js"><link rel="prefetch" href="/assets/js/81.b7dd192e.js"><link rel="prefetch" href="/assets/js/82.f3160b2d.js"><link rel="prefetch" href="/assets/js/83.5e7d0691.js"><link rel="prefetch" href="/assets/js/84.8141702f.js"><link rel="prefetch" href="/assets/js/85.132eb564.js"><link rel="prefetch" href="/assets/js/86.6d6d3f06.js"><link rel="prefetch" href="/assets/js/87.3c287970.js"><link rel="prefetch" href="/assets/js/88.ab381cae.js"><link rel="prefetch" href="/assets/js/89.3fc1949f.js"><link rel="prefetch" href="/assets/js/9.e286e9f3.js"><link rel="prefetch" href="/assets/js/90.95e4cac8.js"><link rel="prefetch" href="/assets/js/91.c5c18896.js"><link rel="prefetch" href="/assets/js/92.5883fb02.js"><link rel="prefetch" href="/assets/js/93.0a36ee68.js"><link rel="prefetch" href="/assets/js/94.71a7723b.js"><link rel="prefetch" href="/assets/js/95.48f02b92.js"><link rel="prefetch" href="/assets/js/96.6f336fcd.js"><link rel="prefetch" href="/assets/js/97.d6a61a44.js"><link rel="prefetch" href="/assets/js/98.8f3aeef7.js"><link rel="prefetch" href="/assets/js/99.76c3493b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f24a96ee.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210131112211.jpg" alt="FSA全栈行动" class="logo"> <span class="site-name can-hide">FSA全栈行动</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><a href="/mobile/" class="link-title">移动端</a> <span class="title" style="display:none;">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>移动端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/61d6a8/" class="nav-link">Android</a></li><li class="dropdown-subitem"><a href="/pages/cb27eb/" class="nav-link">iOS</a></li><li class="dropdown-subitem"><a href="/pages/61cc74/" class="nav-link">Flutter</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/kotlin/" class="nav-link">《Kotlin快速入门进阶》笔记</a></li><li class="dropdown-subitem"><a href="/note/flutter/" class="nav-link">《Flutter从入门到实战》笔记</a></li><li class="dropdown-subitem"><a href="/note/flutter/lxf/review/" class="nav-link">《Flutter复习》笔记</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/web/" class="nav-link">前端</a></div><div class="nav-item"><a href="/backend/" class="nav-link">后端</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="内功心法" class="dropdown-title"><a href="/power/" class="link-title">内功心法</a> <span class="title" style="display:none;">内功心法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/designpattern/" class="nav-link">《深入浅出设计模式Java版》笔记</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ea5b48/" class="nav-link">逆向</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><!----> <span class="title" style="display:;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/LinXunFeng/" class="nav-link">LinXunFeng</a></li><li class="dropdown-item"><!----> <a href="/about/GitLqr/" class="nav-link">GitLqr</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210131111432.png"> <div class="blogger-info"><h3>公众号：FSA全栈行动</h3> <span>记录学习过程中的知识</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><a href="/mobile/" class="link-title">移动端</a> <span class="title" style="display:none;">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>移动端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/61d6a8/" class="nav-link">Android</a></li><li class="dropdown-subitem"><a href="/pages/cb27eb/" class="nav-link">iOS</a></li><li class="dropdown-subitem"><a href="/pages/61cc74/" class="nav-link">Flutter</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/kotlin/" class="nav-link">《Kotlin快速入门进阶》笔记</a></li><li class="dropdown-subitem"><a href="/note/flutter/" class="nav-link">《Flutter从入门到实战》笔记</a></li><li class="dropdown-subitem"><a href="/note/flutter/lxf/review/" class="nav-link">《Flutter复习》笔记</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/web/" class="nav-link">前端</a></div><div class="nav-item"><a href="/backend/" class="nav-link">后端</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="内功心法" class="dropdown-title"><a href="/power/" class="link-title">内功心法</a> <span class="title" style="display:none;">内功心法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/designpattern/" class="nav-link">《深入浅出设计模式Java版》笔记</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ea5b48/" class="nav-link">逆向</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><!----> <span class="title" style="display:;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/LinXunFeng/" class="nav-link">LinXunFeng</a></li><li class="dropdown-item"><!----> <a href="/about/GitLqr/" class="nav-link">GitLqr</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AndroidUI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android第三方SDK</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android混淆</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android仓库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android新闻</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android系统开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android源码</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android注解AOP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android脚本</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AndroidTv开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>AndroidNDK</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/ac13fc/" aria-current="page" class="active sidebar-link">AndroidNDK - makefile语法详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/ac13fc/#一、编译流程详解" class="sidebar-link">一、编译流程详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_1、预处理" class="sidebar-link">1、预处理</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_2、编译" class="sidebar-link">2、编译</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_3、汇编" class="sidebar-link">3、汇编</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_4、链接" class="sidebar-link">4、链接</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_5、简化" class="sidebar-link">5、简化</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ac13fc/#二、-静态库与动态库原理" class="sidebar-link">二、 静态库与动态库原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_1、-静态库" class="sidebar-link">1、 静态库</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_2、-动态库" class="sidebar-link">2、 动态库</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_3、案例" class="sidebar-link">3、案例</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_4、区别总结" class="sidebar-link">4、区别总结</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ac13fc/#三、makefile走读与语法基础" class="sidebar-link">三、makefile走读与语法基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_1、makefile是什么" class="sidebar-link">1、makefile是什么</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_2、makefile里有什么" class="sidebar-link">2、makefile里有什么</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_3、makefile的规则" class="sidebar-link">3、makefile的规则</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_4、makefile示例" class="sidebar-link">4、makefile示例</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_5、makefile如何工作" class="sidebar-link">5、makefile如何工作</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_6、makefile中使用变量" class="sidebar-link">6、makefile中使用变量</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_7、makefile中引用其他的makefile" class="sidebar-link">7、makefile中引用其他的makefile</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_8、环境变量makefiles" class="sidebar-link">8、环境变量MAKEFILES</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_9、makefile预定义变量" class="sidebar-link">9、Makefile预定义变量</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_10、makefile自动变量" class="sidebar-link">10、Makefile自动变量</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_11、makefile函数" class="sidebar-link">11、Makefile函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_12、make的工作流程" class="sidebar-link">12、make的工作流程</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ac13fc/#三、android-mk基础" class="sidebar-link">三、Android.mk基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_1、android-mk简介" class="sidebar-link">1、Android.mk简介</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_2、android-mk基本格式" class="sidebar-link">2、Android.mk基本格式</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_3、编译多个共享库" class="sidebar-link">3、编译多个共享库</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_4、编译静态库" class="sidebar-link">4、编译静态库</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_5、使用共享库共享通用模块" class="sidebar-link">5、使用共享库共享通用模块</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_6、在多个ndk项目间共享模块" class="sidebar-link">6、在多个NDK项目间共享模块</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_7、使用预编译库" class="sidebar-link">7、使用预编译库</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_8、编译独立的可执行文件" class="sidebar-link">8、编译独立的可执行文件</a></li><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_9、注意事项" class="sidebar-link">9、注意事项</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ac13fc/#四、附加" class="sidebar-link">四、附加</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ac13fc/#_1、import-module-详解" class="sidebar-link">1、import_module 详解</a></li></ul></li></ul></li><li><a href="/pages/21e20f/" class="sidebar-link">AndroidNDK - Cmake详解</a></li><li><a href="/pages/6f1cc2/" class="sidebar-link">AndroidNDK - 编译 openssl</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android音视频</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android热修复</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android云游戏</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android插件化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOSUI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS底层原理与应用</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS组件化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS音视频</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS疑难杂症</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS之Swift</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS之RxSwift</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS开源项目</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS逆向</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Flutter开发</span> <span class="arrow right"></span></p> <!----></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/mobile/#移动端" data-v-06225672>移动端</a></li><li data-v-06225672><a href="/mobile/#AndroidNDK" data-v-06225672>AndroidNDK</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/GitLqr" target="_blank" title="作者" class="beLink" data-v-06225672>GitLqr</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2020-02-12</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">AndroidNDK - makefile语法详解<!----></h1> <div class="page-slot page-slot-top"><!-- 固定100% * 90px可显示，max-height:90px未见显示-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <center>欢迎关注微信公众号：<a href="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/FSA_QR_bottom.png">[FSA全栈行动 👋]</a><center>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h2 id="一、编译流程详解"><a href="#一、编译流程详解" class="header-anchor">#</a> 一、编译流程详解</h2> <p>编译流程</p> <ul><li>编译：将高级语言编写的程序转换为二进制代码可执行性目标程序的过程</li> <li>四大过程：预处理、编译、汇编、链接</li></ul> <h3 id="_1、预处理"><a href="#_1、预处理" class="header-anchor">#</a> 1、预处理</h3> <p>完成宏替换、文件引入，以及去除空行、注释等，为下一步的编译做准备；也就是对各种预处理命令进行处理，包括头文件的包含、宏定义的扩展、条件编译的选择等。</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">// test.c文件内容</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;hello world!\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>对test.c文件进行预处理：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ gcc <span class="token parameter variable">-E</span> test.c <span class="token parameter variable">-o</span> test.i
</code></pre></div><ul><li>选项-E：让gcc在预处理结束后停止编译，test.i文件为预处理后输出的文件。</li> <li>选项-o：指定输出文件。</li></ul> <blockquote><p>此时，test.i 就是 test.c 预编译后的产物，体积会增大，此时test.i还是一个文本文件，可以用文本编译器打开查看。</p></blockquote> <h3 id="_2、编译"><a href="#_2、编译" class="header-anchor">#</a> 2、编译</h3> <ul><li>将预处理后的代码编译成汇编代码。在这个阶段中，首先要检查代码的规范性、是否有语法错误等，以确定代码实际要做的工作，在检查无误后，再把代码翻译成汇编语言。</li> <li>编译程序执行时，先分析，后综合。分析，就是指词法分析、语法分析、语义分析和中间代码生成。综合，就是指代码优化和代码生成。</li> <li>大多数的编译程序直接产生机器语言的目标代码，形成可执行的目标文件，也有的是先产生汇编语言一级的符号代码文件，再调用汇编程序进行翻译和加工处理，最后产生可执行的机器语言目标文件。</li></ul> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">extern</span> <span class="token keyword">int</span> <span class="token function">ftrylockfile</span> <span class="token punctuation">(</span>FILE <span class="token operator">*</span>__stream<span class="token punctuation">)</span> <span class="token keyword">__attribute__</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>__nothrow__ <span class="token punctuation">,</span> __leaf__<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>

<span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">funlockfile</span> <span class="token punctuation">(</span>FILE <span class="token operator">*</span>__stream<span class="token punctuation">)</span> <span class="token keyword">__attribute__</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>__nothrow__ <span class="token punctuation">,</span> __leaf__<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
# <span class="token number">868</span> <span class="token string">&quot;/usr/include/stdio.h&quot;</span> <span class="token number">3</span> <span class="token number">4</span>

# <span class="token number">2</span> <span class="token string">&quot;test.c&quot;</span> <span class="token number">2</span>

# <span class="token number">3</span> <span class="token string">&quot;test.c&quot;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;hello world\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面是预处理后test.i文件的部分内容，下面对test.i文件进行编译：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ gcc <span class="token parameter variable">-S</span> test.i <span class="token parameter variable">-o</span> test.s
</code></pre></div><ul><li>选项-S：让gcc在编译结束后停止编译过程，&quot;test.s&quot;文件为编译后生成的汇编代码。</li></ul> <blockquote><p>此时，test.s 就是 test.i 文件汇编后的产物，同样也可以用文本编译器打开查看。</p></blockquote> <h3 id="_3、汇编"><a href="#_3、汇编" class="header-anchor">#</a> 3、汇编</h3> <p>汇编就是把编译阶段生成的&quot;.s&quot;文件转成二进制目标代码，也就是机器代码（01序列）。</p> <div class="language-c extra-class"><pre class="language-c"><code>	<span class="token punctuation">.</span>file	<span class="token string">&quot;test.c&quot;</span>
	<span class="token punctuation">.</span>text
	<span class="token punctuation">.</span>section	<span class="token punctuation">.</span>rodata
<span class="token punctuation">.</span>LC0<span class="token operator">:</span>
	<span class="token punctuation">.</span>string	<span class="token string">&quot;hello world&quot;</span>
	<span class="token punctuation">.</span>text
	<span class="token punctuation">.</span>globl	main
	<span class="token punctuation">.</span>type	main<span class="token punctuation">,</span> @function
main<span class="token operator">:</span>
<span class="token punctuation">.</span>LFB0<span class="token operator">:</span>
	<span class="token punctuation">.</span>cfi_startproc
	pushq	<span class="token operator">%</span>rbp
	<span class="token punctuation">.</span>cfi_def_cfa_offset <span class="token number">16</span>
	<span class="token punctuation">.</span>cfi_offset <span class="token number">6</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">16</span>
	movq	<span class="token operator">%</span>rsp<span class="token punctuation">,</span> <span class="token operator">%</span>rbp
	<span class="token punctuation">.</span>cfi_def_cfa_register <span class="token number">6</span>
	leaq	<span class="token punctuation">.</span><span class="token function">LC0</span><span class="token punctuation">(</span><span class="token operator">%</span>rip<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">%</span>rdi
	call	puts@PLT
	movl	$<span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">%</span>eax
	popq	<span class="token operator">%</span>rbp
	<span class="token punctuation">.</span>cfi_def_cfa <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span>
	ret
	<span class="token punctuation">.</span>cfi_endproc
<span class="token punctuation">.</span>LFE0<span class="token operator">:</span>
	<span class="token punctuation">.</span>size	main<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token operator">-</span>main
	<span class="token punctuation">.</span>ident	<span class="token string">&quot;GCC: (Ubuntu 7.4.0-1ubuntu1~18.04.1) 7.4.0&quot;</span>
	<span class="token punctuation">.</span>section	<span class="token punctuation">.</span>note<span class="token punctuation">.</span>GNU<span class="token operator">-</span>stack<span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>@progbits
</code></pre></div><p>上面是编译后生成的test.s文件里的汇编代码，下面对test.s文件进行汇编：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ gcc <span class="token parameter variable">-c</span> test.s <span class="token parameter variable">-o</span> test.o
</code></pre></div><ul><li>选项-c：让gcc在汇编结束后停止编译过程，&quot;test.o&quot;文件为汇编后生成的机器码目标文件。</li></ul> <h3 id="_4、链接"><a href="#_4、链接" class="header-anchor">#</a> 4、链接</h3> <p>链接就是将多个目标文件以及所需的库文件链接生成可执行目标文件的过程。</p> <p>下面对test.o进行链接：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ gcc test.o <span class="token parameter variable">-o</span> <span class="token builtin class-name">test</span>
$ ./test
hello world<span class="token operator">!</span>
</code></pre></div><ul><li>选项-o：本质上是一个重命名选项。不使用-o选项时，默认生成的是a.out文件。这里生成的是可执行文件test。</li> <li>./test执行后输出hello world!</li></ul> <h3 id="_5、简化"><a href="#_5、简化" class="header-anchor">#</a> 5、简化</h3> <p>一般情况下，我们会使用gcc命令，一步生成可执行文件，简化编译流程：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ gcc <span class="token parameter variable">-o</span> <span class="token builtin class-name">test</span> test.c
$ ./test
hello world<span class="token operator">!</span>
</code></pre></div><h2 id="二、-静态库与动态库原理"><a href="#二、-静态库与动态库原理" class="header-anchor">#</a> 二、 静态库与动态库原理</h2> <h3 id="_1、-静态库"><a href="#_1、-静态库" class="header-anchor">#</a> 1、 静态库</h3> <h4 id="_1-什么是静态库"><a href="#_1-什么是静态库" class="header-anchor">#</a> 1) 什么是静态库</h4> <ul><li>静态库实际就是一些目标文件（一般以.o结尾）的集合，静态库一般以.a结尾，只用于生成可执行文件阶段。</li> <li>在链接步骤中，链接器将从库文件取得所需代码，复制到生成的可执行文件中。这种库称为静态库。其特点是可执行文件中包含了库代码的一份完整拷贝，在编译过程中被载入程序中。缺点就是多次使用就会有多份冗余拷贝，并且对程序的更新、部署和发布会带来麻烦，如果静态库有更新，那么所有使用它的程序都需要重新编译、发布。</li></ul> <h4 id="_2-生成静态库"><a href="#_2-生成静态库" class="header-anchor">#</a> 2) 生成静态库</h4> <ul><li>首先生成test.o目标文件。</li> <li>使用ar命令将test.o打包成libtest.a静态库。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 生成目标文件</span>
$ gcc <span class="token parameter variable">-c</span> test.c <span class="token parameter variable">-o</span> test.o
<span class="token comment"># 使用ar命令将目标文件打包成静态库</span>
$ ar  libtest.a test.o
ar: creating libtest.a
<span class="token comment"># 使用ar t libtest.a 查看静态库内容</span>
<span class="token variable">$ar</span> t libtest.a
test.o
</code></pre></div><p>选项rcs各自的含义：</p> <ul><li>选项r：更新或增加新文件到静态库中。</li> <li>选项c：创建一个库，不管存在与否，都创建。</li> <li>选项s：创建文档索引，在创建较大的库时，能够加快编译速度。</li></ul> <h3 id="_2、-动态库"><a href="#_2、-动态库" class="header-anchor">#</a> 2、 动态库</h3> <h4 id="_1-什么是动态库"><a href="#_1-什么是动态库" class="header-anchor">#</a> 1）什么是动态库</h4> <ul><li>动态库在链接阶段没有被复制到程序中，而是在程序运行时由系统动态加载到内存中供程序调用。</li> <li>系统只需载入一次动态库，不同的程序可以得到内存中相同动态库的副本，因此节省了很多内存。</li></ul> <h4 id="_2-生成动态库"><a href="#_2-生成动态库" class="header-anchor">#</a> 2）生成动态库</h4> <ul><li>首先生成test.o目标文件。</li> <li>使用-shared和-fPIC参数生成动态库。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 首先生成目标文件</span>
$ gcc <span class="token parameter variable">-c</span> test.c <span class="token parameter variable">-o</span> test.o
<span class="token comment"># 使用-fPIC和-shared生成动态库</span>
$ gcc <span class="token parameter variable">-shared</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-o</span> libtest.so test.o
</code></pre></div><blockquote><p>fPIC：全称是 Position Independent Code， 用于生成位置无关代码。</p></blockquote> <h3 id="_3、案例"><a href="#_3、案例" class="header-anchor">#</a> 3、案例</h3> <p>编写一个工具方法（tool.h + tool.c文件），查找出数组的最大值：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">// tool.h 文件</span>
<span class="token keyword">int</span> <span class="token function">find_max</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// tool.c 文件</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;tool.h&quot;</span></span>
<span class="token keyword">int</span> <span class="token function">find_max</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">int</span> max <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i<span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max<span class="token punctuation">)</span><span class="token punctuation">{</span>
			max <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> max<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在main.c文件中，调用tool.h的find_max函数：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">// main.c 文件</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;tool.h&quot;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token function">find_max</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;max = %d\n&quot;</span><span class="token punctuation">,</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_1-编译-使用静态库"><a href="#_1-编译-使用静态库" class="header-anchor">#</a> 1）编译&amp;使用静态库</h4> <p>编译tool静态库：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 编译tool.c。可以省略&quot;-o tool.o&quot;，默认gcc会生成一个与tool.c同名的.o文件。</span>
$ gcc <span class="token parameter variable">-c</span> tool.c

<span class="token comment"># 编译生成libtool.a静态库</span>
$ ar rcs libtool.a tool.o

<span class="token comment"># 编译main可执行文件。</span>
<span class="token comment"># -l用来指定要链接的库，后面接库的名字；-L表示编译程序根据指定路径寻找库文件。</span>
$ gcc <span class="token parameter variable">-o</span> main main.c -L. <span class="token parameter variable">-ltool</span>

$ ./main
max <span class="token operator">=</span> <span class="token number">8</span>
</code></pre></div><p>可以用ldd命令查看main文件依赖了哪些库：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ ldd main
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105221657.png" alt=""></p> <h4 id="_2-编译-使用动态库"><a href="#_2-编译-使用动态库" class="header-anchor">#</a> 2）编译&amp;使用动态库</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 编译tool.c，生成tool.o</span>
$ gcc <span class="token parameter variable">-c</span> tool.c

<span class="token comment"># 编译生成libtool.so动态库</span>
$ gcc <span class="token parameter variable">-shared</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-o</span> libtool.so tool.o

<span class="token comment"># 编译main可执行文件</span>
$ gcc <span class="token parameter variable">-o</span> main main.c -L. <span class="token parameter variable">-ltool</span>

$ ./main
./main: error <span class="token keyword">while</span> loading shared libraries: libtool.so: cannot <span class="token function">open</span> shared object file: No such <span class="token function">file</span> or directory
</code></pre></div><blockquote><p>注意，当静态库与动态库同名时，gcc会优先加载动态库。即，此时目录下即有libtool.a，又有libtool.so，编译main时指定了-ltool，gcc会链接libtool.so！</p></blockquote> <p>可以用ldd命令查看main文件依赖了哪些库：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ ldd main
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105221701.png" alt=""></p> <p>可以看到，libtool.so找不到，这是因为在系统的默认动态链接库路径下没有这个libtool.so文件，可以在执行之前，给main设置环境变量解决：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 将当前目录设置到环境变量中</span>
$ <span class="token assign-left variable">LD_LIBRARY_PATH</span><span class="token operator">=</span>. ./main
max <span class="token operator">=</span> <span class="token number">8</span>
</code></pre></div><blockquote><p><code>LD_LIBRARY_PATH</code> 指定查找共享库，即动态链接库时，除默认路径以外，其他的路径。</p></blockquote> <h3 id="_4、区别总结"><a href="#_4、区别总结" class="header-anchor">#</a> 4、区别总结</h3> <p>载入时刻不同：</p> <ul><li><code>静态库</code>：在程序编译时会链接到目标代码中，程序运行时不再需要静态库，因此体积较大。而且每次编译都需要载入静态代码，因此内存开销大。</li> <li><code>动态库</code>：在程序编译时不会被链接到目标代码中，而是在程序运行时才被载入，程序运行时需要动态库存在，因此体积较小。而且系统只需载入一次动态库，不同程序可以得到内存中相同的动态库副本，因此内存开销小。</li></ul> <h2 id="三、makefile走读与语法基础"><a href="#三、makefile走读与语法基础" class="header-anchor">#</a> 三、makefile走读与语法基础</h2> <h3 id="_1、makefile是什么"><a href="#_1、makefile是什么" class="header-anchor">#</a> 1、makefile是什么</h3> <p>在一个工程中，源文件很多，按类型、功能、模块分别被存放在若干个目录中，需要按一定的顺序、规则进行编译，这时就需要使用到makefile。</p> <ul><li>makefile定义了一系列的规则来指定，哪些文件需要先编译，哪些文件需要重新编译，如何进行链接等操作。</li> <li>makefile就是“自动化编译”，告诉make命令如何编译和链接。</li></ul> <p>makefile是make工具的配置脚本，默认情况下，make命令会在当前目录下去寻找该文件（按顺序找寻文件名为<code>“GNUmakefile”</code>、<code>“makefile”</code>、<code>“Makefile”</code>的文件）。</p> <blockquote><p>在这三个文件名中，最好使用“Makefile”这个文件名，因为，这个文件名第一个字符为大写，这样有一种显目的感觉。
最好不要用“GNUmakefile”，这个文件是GNU的make识别的。有另外一些make只对全小写的“makefile”文件名敏感。
但是基本上来说，大多数的make都支持“makefile”和“Makefile”这两种默认文件名。</p></blockquote> <p>当然，配置文件的文件名也可以不是makefile，比如：config.debug，这时需要通过 <code>-f</code> 或 <code>--file</code> 指定配置文件，即：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 使用-f</span>
$ <span class="token function">make</span> <span class="token parameter variable">-f</span> config.debug
<span class="token comment"># 使用--file</span>
$ <span class="token function">make</span> <span class="token parameter variable">--file</span> config.debug
</code></pre></div><h3 id="_2、makefile里有什么"><a href="#_2、makefile里有什么" class="header-anchor">#</a> 2、makefile里有什么</h3> <p>makefile包含以下五个：</p> <ul><li><code>显示规则</code>：说明了如何生成一个或多个目标文件。</li> <li><code>隐晦规则</code>：make有自动推导功能，可以用隐晦规则来简写makefile。</li> <li><code>变量定义</code>：在makefile中可以变量一系列的变量，变量一般是字符串，类似c语言中的宏，当makefile被执行时，其中的变量都会被扩展相应的位置上。</li> <li><code>文件指示</code>：包括3个部分：①在makefile引用另一个makefile，类似C语言中的include；②根据条件指定makefile中的有效部分，类似C语言中的预编译#if一样；③定义多行的命令。</li> <li><code>注释</code>：只有行注释，使用#字符表示。</li></ul> <h3 id="_3、makefile的规则"><a href="#_3、makefile的规则" class="header-anchor">#</a> 3、makefile的规则</h3> <div class="language-makefile extra-class"><pre class="language-makefile"><code><span class="token target symbol">target ...</span> <span class="token punctuation">:</span> prerequisites ...
	command
或者：
<span class="token target symbol">target ...</span> <span class="token punctuation">:</span> prerequisites ... <span class="token punctuation">;</span> command
</code></pre></div><blockquote><p>若prerequisites与command在同一行，需要用<code>;</code>分隔。
若prerequisites与command不在同一行，则command前面需要用tab键开头。
另外，如果命令太长，可以用<code>\</code>作为换行符。</p></blockquote> <ul><li>target：目标文件。可以是ObjectFile，也可以是执行文件，还可以是标签（Label）；如果有多个文件，可以用空格隔开；可以使用通配符。</li> <li>prerequisites：依赖文件，既要生成那个target所需要的文件或其他target。</li> <li>command：make需要执行的命令。</li></ul> <h4 id="makefile的作用"><a href="#makefile的作用" class="header-anchor">#</a> makefile的作用：</h4> <p>告诉make，文件的依赖关系，以及如何生成目标文件。prerequisites中，如果有一个及以上的文件比target要新的话，target就会被认为是过时的，需要重新生成，command就会被执行，从而生成新的target。</p> <h3 id="_4、makefile示例"><a href="#_4、makefile示例" class="header-anchor">#</a> 4、makefile示例</h3> <div class="language-makefile extra-class"><pre class="language-makefile"><code><span class="token comment"># 当前目录存在main.c、tool.c、tool.h三个文件</span>
<span class="token comment"># 下面是makefile文件内容</span>
<span class="token target symbol">main</span><span class="token punctuation">:</span> main.o tool.o
	gcc main.o tool.o -o main
<span class="token builtin-target builtin">.PHONY</span><span class="token punctuation">:</span> clean
<span class="token target symbol">clean</span><span class="token punctuation">:</span>
	-rm main *.o
-----------------------------
// 执行 make 后输出如下：
cc	-c -o main.o main.c
cc	-c -o tool.o tool.c
gcc main.o tool.o -o main
// 并且生成了一个可执行文件main
</code></pre></div><ul><li><code>-o</code>：指定可执行文件的名称。</li> <li><code>clean</code>：标签，不会生成“clean”文件，这样的target称之为“伪目标”，伪目标的名字不能和文件名重复。clean一般放在文件最后。</li> <li><code>.PHONY</code>：显示地指明clean是一个“伪目标”。</li></ul> <blockquote><p>make会自动推导main.o、tool.o如何生成。
伪目标的名字不能和文件名重复，即当前目录下，不能有clean文件。
可以通过 <code>make clean</code> 执行删除命令。</p></blockquote> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105221709.png" alt=""></p> <h3 id="_5、makefile如何工作"><a href="#_5、makefile如何工作" class="header-anchor">#</a> 5、makefile如何工作</h3> <p>默认方式下，输入make命令后：</p> <ul><li>make会在当前目录下找名字叫“Makefile”或“makefile”的文件。</li> <li>如果找到，它会找文件中第一个目标文件（target），并把这个target作为最终的目标文件，如前面示例中的“main”。</li> <li>如果main文件不存在，或main所依赖的.o文件的修改时间要比main文件要新，那么它会执行后面所定义的命令来生成main文件。</li> <li>如果main所依赖的.o文件也存在，那么main会在当前文件中找目标为.o文件的依赖性，若找到则根据规则生成.o文件。</li> <li>make再用.o文件声明make的终极任务，也就是执行文件“main”。</li></ul> <h3 id="_6、makefile中使用变量"><a href="#_6、makefile中使用变量" class="header-anchor">#</a> 6、makefile中使用变量</h3> <div class="language-makefile extra-class"><pre class="language-makefile"><code>objects <span class="token operator">=</span> main.o tool.o
<span class="token target symbol">main</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>objects<span class="token punctuation">)</span>
	gcc <span class="token variable">$</span><span class="token punctuation">(</span>objects<span class="token punctuation">)</span> -o main
<span class="token builtin-target builtin">.PHONY</span><span class="token punctuation">:</span> clean
<span class="token target symbol">clean</span><span class="token punctuation">:</span>
	-rm main <span class="token variable">$</span><span class="token punctuation">(</span>objects<span class="token punctuation">)</span>
-----------------------------
// 执行 make 后输出如下：
cc	-c -o main.o main.c
cc	-c -o tool.o tool.c
gcc main.o tool.o -o main
</code></pre></div><ul><li>为了makefile的易维护，在makefile中我们可以使用变量。makefile的变量也就是一个字符串，理解成C语言中的宏可能会更好。</li> <li>比如：我们声明一个变量，叫<code>objects</code>，于是，我们就可以很方便地在我们的makefile中以“<code>$(objects)</code>”的方式来使用这个变量了。</li></ul> <h3 id="_7、makefile中引用其他的makefile"><a href="#_7、makefile中引用其他的makefile" class="header-anchor">#</a> 7、makefile中引用其他的makefile</h3> <div class="language-makefile extra-class"><pre class="language-makefile"><code><span class="token comment"># 语法格式</span>
<span class="token keyword">include</span> &lt;filename&gt;

<span class="token comment"># 举个例子，你有这样几个 Makefile：a.mk、b.mk、c.mk，还有一个文件叫 # foo.make，以及一个变量$(bar)，其包含了 e.mk 和 f.mk</span>

<span class="token keyword">include</span> foo.make *.mk <span class="token variable">$</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span>
<span class="token comment"># 等价于：</span>
<span class="token keyword">include</span> foo.make a.mk b.mk c.mk e.mk f.mk

<span class="token comment"># 如果文件找不到，而你希望make时不理会那些无法读取的文件而继续执行</span>
<span class="token comment"># 可以在include前加一个减号“-”，如：</span>
<span class="token keyword">-include</span> &lt;filename&gt;
</code></pre></div><p>使用include关键字可以把其它Makefile包含进来，include语法格式：
<code>include &lt;filename&gt;</code></p> <h3 id="_8、环境变量makefiles"><a href="#_8、环境变量makefiles" class="header-anchor">#</a> 8、环境变量MAKEFILES</h3> <p>MAKEFILES</p> <blockquote><p>如果当前环境中字义了环境变量 MAKEFILES，那么，make会把这个变量中的值做一个类似于 include 的动作。这个变量中的值是其它的 Makefile，用空格分隔。只是，它和include不同的是，从这个环境中引入的Makefile的“目标”不会起作用，如果环境变量中定义的文件发现错误，make也会不理。但是建议不要使用这个环境变量，因为只要这个变量一被定义，那么当你使用make时，所有的Makefile都会受到它的影响。
也许有时候Makefile出现了奇怪的事，那么可以查看当前环境中有没有定义这个变量。</p></blockquote> <h3 id="_9、makefile预定义变量"><a href="#_9、makefile预定义变量" class="header-anchor">#</a> 9、Makefile预定义变量</h3> <table><thead><tr><th style="text-align:center;">变量名</th> <th style="text-align:center;">描述</th> <th style="text-align:center;">默认值</th></tr></thead> <tbody><tr><td style="text-align:center;">CC</td> <td style="text-align:center;">C语言编译器的名称</td> <td style="text-align:center;">cc</td></tr> <tr><td style="text-align:center;">CPP</td> <td style="text-align:center;">C语言预处理器的名称</td> <td style="text-align:center;">$(CC) -E</td></tr> <tr><td style="text-align:center;">CXX</td> <td style="text-align:center;">C++语言编译器的名称</td> <td style="text-align:center;">g++</td></tr> <tr><td style="text-align:center;">RM</td> <td style="text-align:center;">删除文件程序的名称</td> <td style="text-align:center;">rm -f</td></tr> <tr><td style="text-align:center;">CFLAGS</td> <td style="text-align:center;">C语言编译器的编译选项</td> <td style="text-align:center;">无</td></tr> <tr><td style="text-align:center;">CPPFLAGS</td> <td style="text-align:center;">C语言预处理器的编译选项</td> <td style="text-align:center;">无</td></tr> <tr><td style="text-align:center;">CXXFLAGS</td> <td style="text-align:center;">C++语言编译器的编译选项</td> <td style="text-align:center;">无</td></tr></tbody></table> <h3 id="_10、makefile自动变量"><a href="#_10、makefile自动变量" class="header-anchor">#</a> 10、Makefile自动变量</h3> <table><thead><tr><th style="text-align:center;">自动变量</th> <th style="text-align:center;">描述</th></tr></thead> <tbody><tr><td style="text-align:center;">$*</td> <td style="text-align:center;">目标文件的名称，不包含扩展名</td></tr> <tr><td style="text-align:center;">$@</td> <td style="text-align:center;">目标文件的名称，包含扩展名</td></tr> <tr><td style="text-align:center;">$+</td> <td style="text-align:center;">所有的依赖文件，以空格隔开，可能含有重复的文件</td></tr> <tr><td style="text-align:center;">$^</td> <td style="text-align:center;">所有的依赖文件，以空格隔开，不重复</td></tr> <tr><td style="text-align:center;">$&lt;</td> <td style="text-align:center;">依赖项中第一个依赖文件的名称</td></tr> <tr><td style="text-align:center;">$?</td> <td style="text-align:center;">依赖项中所有比目标文件新的依赖文件</td></tr></tbody></table> <h3 id="_11、makefile函数"><a href="#_11、makefile函数" class="header-anchor">#</a> 11、Makefile函数</h3> <p>define本质是定义一个多行的变量，没办法直接调用，但可以在call的作用下，当作函数来使用。</p> <h4 id="_1-不带参数"><a href="#_1-不带参数" class="header-anchor">#</a> 1）不带参数</h4> <div class="language-makefile extra-class"><pre class="language-makefile"><code><span class="token keyword">define</span> FUNC
<span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">info</span> echo <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">endef</span>

<span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> FUNC<span class="token punctuation">)</span>
--------------------
输出：hello
</code></pre></div><h4 id="_2-带参数"><a href="#_2-带参数" class="header-anchor">#</a> 2）带参数</h4> <div class="language-makefile extra-class"><pre class="language-makefile"><code><span class="token keyword">define</span> FUNC1
<span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">info</span> echo <span class="token variable">$</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token variable">$</span><span class="token punctuation">(</span>2<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">endef</span>

<span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> FUNC1,hello,world<span class="token punctuation">)</span>
--------------------
输出：hello world
</code></pre></div><h3 id="_12、make的工作流程"><a href="#_12、make的工作流程" class="header-anchor">#</a> 12、make的工作流程</h3> <p>GNU的make工作时的执行步骤如下：</p> <ol><li>读入所有的Makefile。</li> <li>读入被include的其它Makefile。</li> <li>初始化文件中的变量。</li> <li>推导隐晦规则，并分析所有规则。</li> <li>为所有的目标文件创建依赖关系链。</li> <li>根据依赖关系，决定哪些目标要重新生成。</li> <li>执行生成命令。</li></ol> <p>1~5是第一阶段，6~7为第二阶段。在第一阶段中，如果定义的变量被使用了，那么make会把变量展开在使用的位置，但是make并不是完全的马上展开，如果变量出现在依赖关系的规则中，那么只有当这条依赖被决定要使用的时候，变量才会被展开。</p> <h2 id="三、android-mk基础"><a href="#三、android-mk基础" class="header-anchor">#</a> 三、Android.mk基础</h2> <h3 id="_1、android-mk简介"><a href="#_1、android-mk简介" class="header-anchor">#</a> 1、Android.mk简介</h3> <p>Android.mk是一个向Android NDK构建系统描述NDK项目的GNU makefile片段。主要用来编译生成以下几种：</p> <ul><li>APK程序：一般的Android应用程序，系统级别的直接push即可。</li> <li>JAVA库：Java类库，编译打包生成JAR文件。</li> <li>C\C++应用程序：可执行的C\C++应用程序。</li> <li>C\C++静态库：编译生成C\C++静态库，并打包成.a文件。</li> <li>C\C++共享库：编译生成共享库，并打包成.so文件。</li></ul> <h3 id="_2、android-mk基本格式"><a href="#_2、android-mk基本格式" class="header-anchor">#</a> 2、Android.mk基本格式</h3> <p>这是一个简单的Android.mk文件的内容：</p> <div class="language-makefile extra-class"><pre class="language-makefile"><code><span class="token comment"># 定义模块当前路径（必须定义在文件开头，只需定义一次）</span>
LOCAL_PATH <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> my-dir<span class="token punctuation">)</span>

<span class="token comment"># 清空当前环境变量（LOCAL_PATH除外）</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>CLEAR_VARS<span class="token punctuation">)</span>

<span class="token comment"># 当前模块名（这里会生成libhello-jni.so）</span>
LOCAL_MODULE <span class="token operator">:=</span> hello-jni

<span class="token comment"># 当前模块包含的源代码文件</span>
LOCAL_SRC_FILES <span class="token operator">:=</span> hello-jni.c

<span class="token comment"># 表示当前模块将被编译成一个共享库</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_SHARED_LIBRARY<span class="token punctuation">)</span>
</code></pre></div><ul><li>my-dir：是由编译系统提供的宏函数，返回当前.mk文件的路径。</li> <li>CLEAR_VARS：是由编译系统提供的变量，指向一个特定的GNU makefile片段，可以清除除了LOCAL_PATH以外的以<code>LOCAL_</code>开头的变量，如：<code>LOCAL_MODULE</code>、<code>LOCAL_SRC_FILES</code>。这样做是因为编译系统在单次执行中，会解析多个构建文件和模块定义，而以<code>LOCAL_</code>开头的变量是全局变量，所以描述每个模块之前，都会声明<code>CLEAR_VARS</code>变量，可以避免冲突。</li> <li>LOCAL_MODULE：定义当前模块名，模块名必须唯一，而且不能包含空格。模块名为&quot;hello-jni&quot;时，会生成libhello-jni.so，如果模块名为&quot;libhello-jni&quot;时，则生成的还是libhello-jni.so！</li> <li>LOCAL_SRC_FILES：当前模块包含的源文件，当源文件有多个时，用空格隔开。</li></ul> <h3 id="_3、编译多个共享库"><a href="#_3、编译多个共享库" class="header-anchor">#</a> 3、编译多个共享库</h3> <p>一个Android.mk可能编译产生多个共享库模块。</p> <div class="language-makefile extra-class"><pre class="language-makefile"><code>LOCAL_PATH <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> my-dir<span class="token punctuation">)</span>

<span class="token comment"># 模块1</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>CLEAR_VARS<span class="token punctuation">)</span>
LOCAL_MODULE <span class="token operator">:=</span> module1
LOCAL_SRC_FILES <span class="token operator">:=</span> module1.c
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_SHARED_LIBRARY<span class="token punctuation">)</span>

<span class="token comment"># 模块2</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>CLEAR_VARS<span class="token punctuation">)</span>
LOCAL_MODULE <span class="token operator">:=</span> module2
LOCAL_SRC_FILES <span class="token operator">:=</span> module2.c
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_SHARED_LIBRARY<span class="token punctuation">)</span>
</code></pre></div><p>这里会产生libmodule1.so和libmodule2.so两个动态库。</p> <h3 id="_4、编译静态库"><a href="#_4、编译静态库" class="header-anchor">#</a> 4、编译静态库</h3> <p>虽然Android应用程序不能直接使用静态库，但静态库可以用来编译动态库。比如在将第三方代码添加到原生项目中时，可以不用直接将第三方源码包括在原生项目中，而是将第三方源码编译成静态库，然后并入共享库。</p> <div class="language-makefile extra-class"><pre class="language-makefile"><code>LOCAL_PATH <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> my-dir<span class="token punctuation">)</span>

<span class="token comment"># 第三方AVI库</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>CLEAR_VARS<span class="token punctuation">)</span>
LOCAL_MODULE <span class="token operator">:=</span> avilib
LOCAL_SRC_FILES <span class="token operator">:=</span> avilib.c platform_posix.c
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_STATIC_LIBRARY<span class="token punctuation">)</span>

<span class="token comment"># 原生模块</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>CLEAR_VARS<span class="token punctuation">)</span>
LOCAL_MODULE <span class="token operator">:=</span> module
LOCAL_SRC_FILES <span class="token operator">:=</span> module.c
<span class="token comment"># 将静态库模块名添加到LOCAL_STATIC_LIBRARIES变量</span>
LOCAL_STATIC_LIBRARIES <span class="token operator">:=</span> avilib
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_SHARED_LIBRARY<span class="token punctuation">)</span>
</code></pre></div><h3 id="_5、使用共享库共享通用模块"><a href="#_5、使用共享库共享通用模块" class="header-anchor">#</a> 5、使用共享库共享通用模块</h3> <p>静态库可以保证源代码模块化，但是当静态库与共享库相连时，它就变成了共享库的一部分。在多个共享库的情况下，多个共享库与静态库连接时，需要将通用模块的多个副本与不同的共享库重复相连，这样就增加了APP的大小。这种情况，可以将通用模块作为共享库。</p> <div class="language-makefile extra-class"><pre class="language-makefile"><code>LOCAL_PATH <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> my-dir<span class="token punctuation">)</span>

<span class="token comment"># 第三方AVI库</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>CLEAR_VARS<span class="token punctuation">)</span>
LOCAL_MODULE <span class="token operator">:=</span> avilib
LOCAL_SRC_FILES <span class="token operator">:=</span> avilib.c platform_posix.c
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_SHARED_LIBRARY<span class="token punctuation">)</span>

<span class="token comment"># 原生模块1</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>CLEAR_VARS<span class="token punctuation">)</span>
LOCAL_MODULE <span class="token operator">:=</span> module1
LOCAL_SRC_FILES <span class="token operator">:=</span> module1.c
LOCAL_SHARED_LIBRARIES <span class="token operator">:=</span> avilib
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_SHARED_LIBRARY<span class="token punctuation">)</span>

<span class="token comment"># 原生模块2</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>CLEAR_VARS<span class="token punctuation">)</span>
LOCAL_MODULE <span class="token operator">:=</span> module2
LOCAL_SRC_FILES <span class="token operator">:=</span> module2.c
LOCAL_SHARED_LIBRARIES <span class="token operator">:=</span> avilib
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_SHARED_LIBRARY<span class="token punctuation">)</span>
</code></pre></div><blockquote><p>以上的做法必须基于同一个NDK项目。</p></blockquote> <h3 id="_6、在多个ndk项目间共享模块"><a href="#_6、在多个ndk项目间共享模块" class="header-anchor">#</a> 6、在多个NDK项目间共享模块</h3> <ul><li>首先将avilib源代码移动到NDK项目以外的位置，比如：<code>C:\android\shared-modules\transcode\avilib</code>。</li> <li>作为共享库模块，avilib需要有自己的Android.mk文件。</li> <li>以<code>transcode/avilib</code>为参数调用函数宏<code>import-module</code>添加到NDK项目的Android.mk文档末尾。</li></ul> <blockquote><p><code>import-module</code>函数宏在NDK版本r5以后才有。</p></blockquote> <div class="language-makefile extra-class"><pre class="language-makefile"><code><span class="token comment"># avilib模块自己的Android.mk文件</span>
LOCAL_PATH <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> my-dir<span class="token punctuation">)</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>CLEAR_VARS<span class="token punctuation">)</span>
LOCAL_MODULE <span class="token operator">:=</span> avilib
LOCAL_SRC_FILES <span class="token operator">:=</span> avilib.c platform_posix.c
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_SHARED_LIBRARY<span class="token punctuation">)</span>
---------------------------------------------
<span class="token comment"># 使用共享模块的NDK项目1的Android.mk文件</span>
LOCAL_PATH <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> my-dir<span class="token punctuation">)</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>CLEAR_VARS<span class="token punctuation">)</span>
LOCAL_MODULE <span class="token operator">:=</span> module1
LOCAL_SRC_FILES <span class="token operator">:=</span> module1.c
LOCAL_SHARED_LIBRARIES <span class="token operator">:=</span> avilib
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_SHARED_LIBRARY<span class="token punctuation">)</span>
<span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> import-module,transcode/avilib<span class="token punctuation">)</span>
---------------------------------------------
<span class="token comment"># 使用共享模块的NDK项目2的Android.mk文件</span>
LOCAL_PATH <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> my-dir<span class="token punctuation">)</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>CLEAR_VARS<span class="token punctuation">)</span>
LOCAL_MODULE <span class="token operator">:=</span> module2
LOCAL_SRC_FILES <span class="token operator">:=</span> module2.c
LOCAL_SHARED_LIBRARIES <span class="token operator">:=</span> avilib
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_SHARED_LIBRARY<span class="token punctuation">)</span>
<span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> import-module,transcode/avilib<span class="token punctuation">)</span>
</code></pre></div><p>当心细的你在看到<code>$(call import-module,transcode/avilib)</code>这句时，一定会问，为什么NDK会知道要去<code>C:\android\shared-modules\</code>目录下面找<code>transcode/avilib</code>呢？是的，NDK并没有这么智能，默认情况下，<code>import-module</code>函数宏只会搜索AndroidNDK下面的sources目录。</p> <blockquote><p>如我的NDK路径是：<code>C:\Users\lqr\AppData\Local\Android\Sdk\ndk-bundle</code>，那么<code>import-module</code>函数宏默认的寻找目录就是<code>C:\Users\lqr\AppData\Local\Android\Sdk\ndk-bundle\sources</code></p></blockquote> <p>要正确使用<code>import-module</code>，就需要对NDK_MODULE_PATH进行配置，把<code>C:\android\shared-modules\</code>配置到环境变量中即可，当有多个共享库目录时，用<code>;</code>隔开。</p> <blockquote><p>更多关于import-module的介绍，请翻到文末查看。</p></blockquote> <h3 id="_7、使用预编译库"><a href="#_7、使用预编译库" class="header-anchor">#</a> 7、使用预编译库</h3> <ul><li>想在不发布源代码的情况下将模块发布给他人。</li> <li>想使用共享库模块的预编译版来加速编译过程。</li></ul> <p>现在我们手上有第三方预编译好的库libavilib.so，想集成到自己项目中使用，则需要在Android.mk中进行如下配置：</p> <div class="language-makefile extra-class"><pre class="language-makefile"><code><span class="token comment"># 预编译共享模块的Android.mk文件</span>
LOCAL_PATH <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> my-dir<span class="token punctuation">)</span>
<span class="token comment"># 第三方预编译的库</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>CLEAR_VARS<span class="token punctuation">)</span>
LOCAL_MODULE <span class="token operator">:=</span> avilib
LOCAL_SRC_FILES <span class="token operator">:=</span> libavilib.so
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>PREBUILT_SHARED_LIBRARY<span class="token punctuation">)</span>
</code></pre></div><p>可以看到，<code>LOCAL_SRC_FILES</code>指向的不再是源文件，而是预编译好的libavilib.so，相对于LOCAL_PATH的位置。</p> <h3 id="_8、编译独立的可执行文件"><a href="#_8、编译独立的可执行文件" class="header-anchor">#</a> 8、编译独立的可执行文件</h3> <p>为了方便测试和进行快速开发，可以编译成可执行文件。不用打包成APK就可以得到到Android设备上直接执行。</p> <div class="language-makefile extra-class"><pre class="language-makefile"><code><span class="token comment"># 独立可执行模块的Android.mk文件</span>
LOCAL_PATH <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">call</span> my-dir<span class="token punctuation">)</span>
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>CLEAR_VARS<span class="token punctuation">)</span>
LOCAL_MODULE <span class="token operator">:=</span> module
LOCAL_SRC_FILES <span class="token operator">:=</span> module.c
LOCAL_STATIC_LIBRARIES <span class="token operator">:=</span> avilib
<span class="token keyword">include</span> <span class="token variable">$</span><span class="token punctuation">(</span>BUILD_EXECUTABLE<span class="token punctuation">)</span>
</code></pre></div><h3 id="_9、注意事项"><a href="#_9、注意事项" class="header-anchor">#</a> 9、注意事项</h3> <p>假如我们本地库libhello-jni.so依赖于libTest.so（可以使用NDK下的ndk-depends查看so的依赖关系）。</p> <ul><li>在Android6.0版本之前，需要在加载本地库前先加载被依赖的so。</li> <li>在Android6.0版本之后，不能再使用预编译的动态库（静态库没问题）。</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Android 6.0版本之前：</span>
<span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">loadlibrary</span><span class="token punctuation">(</span><span class="token string">&quot;Test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">loadlibrary</span><span class="token punctuation">(</span><span class="token string">&quot;hello-jni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Android 6.0版本之后：  </span>
<span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">loadlibrary</span><span class="token punctuation">(</span><span class="token string">&quot;hello-jni&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="四、附加"><a href="#四、附加" class="header-anchor">#</a> 四、附加</h2> <h3 id="_1、import-module-详解"><a href="#_1、import-module-详解" class="header-anchor">#</a> 1、import_module 详解</h3> <blockquote><p>以下内容引用自 <a href="https://www.cnblogs.com/liulipeng/p/3524345.html" target="_blank" rel="noopener noreferrer">《import-module的注意事项与NDK_MODULE_PATH的配置》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105221940.png" alt=""></p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105221713.png" alt=""></p></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <center><img style="width:100%;" src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/FSA_QR_bottom.png"/></center>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=NDK" title="标签">#NDK</a><a href="/tags/?tag=makefile" title="标签">#makefile</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/11/09, 12:10:18</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/5944f7/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">AndroidTV - 解决EditText焦点无法转移问题</div></a> <a href="/pages/21e20f/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">AndroidNDK - Cmake详解</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/5944f7/" class="prev">AndroidTV - 解决EditText焦点无法转移问题</a></span> <span class="next"><a href="/pages/21e20f/">AndroidNDK - Cmake详解</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/9e329a/"><div>
            Flutter 拖拉对比组件，对比换装图片必备
            <!----></div></a> <span class="date">11-09</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/f2b584/"><div>
            Flutter 多仓库本地 Monorepo 方案与体验优化
            <!----></div></a> <span class="date">10-25</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/8a1fb6/"><div>
            Flutter webview 崩溃率上升怎么办？我的分析与解决方案
            <!----></div></a> <span class="date">10-19</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/LinXunFeng" title="GitHub for LinXunFeng" target="_blank" class="iconfont icon-githubsquare"></a><a href="mailto:linxunfeng@yeah.net" title="email for LinXunFeng" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/GitLqr" title="GitHub for GitLqr" target="_blank" class="iconfont icon-github-circle"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2020-2025
    <span><a href="/about" target="_blank">FSA全栈行动</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">×</span> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2d4d48ef.js" defer></script><script src="/assets/js/2.d8b68cf2.js" defer></script><script src="/assets/js/48.3318facd.js" defer></script>
  </body>
</html>
