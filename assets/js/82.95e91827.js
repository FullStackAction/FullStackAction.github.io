(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{494:function(t,s,a){"use strict";a.r(s);var n=a(21),p=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"ä¸€ã€èƒŒæ™¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€èƒŒæ™¯"}},[t._v("#")]),t._v(" ä¸€ã€èƒŒæ™¯")]),t._v(" "),s("p",[t._v("åœ¨æ—¥å¸¸ç ”å‘ä¸­ï¼Œè¢«æ "),s("code",[t._v("bug")]),t._v(" æ˜¯å®¶å¸¸ä¾¿é¥­ï¼Œå½“ "),s("code",[t._v("bug")]),t._v(" ä¿®å¤å®Œæˆåä¾¿æäº¤ä»£ç ï¼Œç„¶åè§¦å‘æ„å»ºæœºæ‰“å‡ºæµ‹è¯•åŒ…ï¼Œè‡ªåŠ¨ä¸Šä¼ è‡³è’²å…¬è‹±åæä¾›æµ‹è¯•ï¼Œä½†æ˜¯æˆ‘ä»¬çš„æ„å»ºæœºæ‰“ä¸€ä¸ªåŒ…çš„æ—¶é—´è¿‘ "),s("code",[t._v("25åˆ†é’Ÿ")]),t._v("ï¼Œè€Œä¸”æœ‰æ—¶è¿˜ä¼šè«åå…¶å¦™çš„å‡ºç°å¤±è´¥ï¼Œæ•ˆç‡åä½ã€‚é‚£ä»€ä¹ˆåŠæ³•å‡å°‘è¿™ä¸ªæ—¶é—´å‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("ç»è¿‡ä¸‹é¢çš„æ–¹æ¡ˆè°ƒæ•´åï¼Œæˆ‘å°†æ—¶é—´æµ‹è¯•åŒ…çš„å‡ºåŒ…æ—¶é—´é™ä½è‡³ "),s("code",[t._v("20ç§’")]),t._v(" å·¦å³ï¼Œæé€Ÿå‡ºåŒ… ğŸ˜ƒ")]),t._v(" "),s("h2",{attrs:{id:"äºŒã€æ€è€ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€æ€è€ƒ"}},[t._v("#")]),t._v(" äºŒã€æ€è€ƒ")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬åœ¨ç¼–è¯‘è¿è¡Œæ—¶ï¼Œ"),s("code",[t._v("xcode")]),t._v(" å°±å·²ç»æ‰“å‡ºäº†åç¼€ä¸º "),s("code",[t._v("app")]),t._v(" çš„åŒ…ï¼Œå¹¶ä¸”æ˜¯ç»è¿‡æè¿°æ–‡ä»¶ç­¾åçš„ï¼Œæ‰€ä»¥å¯å®‰è£…äºé‚£äº› "),s("code",[t._v("UDID")]),t._v(" æœ‰è®°å½•äºæè¿°æ–‡ä»¶ä¸­çš„æµ‹è¯•æœºï¼Œè¯¥ "),s("code",[t._v("app")]),t._v(" åŒ…å­˜æ”¾äº "),s("code",[t._v("DerivedData")]),t._v("ï¼Œå…¶å…·ä½“è·¯å¾„å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("/Users/lxf/Library/Developer/Xcode/DerivedData/LXFCardsLayout-xxx/Build/Products/Debug-iphoneos/LXFCardsLayout.app\n")])])]),s("p",[t._v("æ‰€ä»¥è¿™ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘ä»¬éœ€è¦æ€è€ƒçš„æ˜¯å¦‚ä½•å¾—åˆ°è¯¥ "),s("code",[t._v("app")]),t._v(" åŒ…çš„è·¯å¾„ï¼Œä»¥åŠæ‹¿åˆ° "),s("code",[t._v("app")]),t._v(" åŒ…åè¦å¦‚ä½•å¤„ç†æ‰èƒ½å®‰è£…åˆ°æµ‹è¯•æœº")]),t._v(" "),s("h2",{attrs:{id:"ä¸‰ã€è§£å†³æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€è§£å†³æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" ä¸‰ã€è§£å†³æ–¹æ¡ˆ")]),t._v(" "),s("h3",{attrs:{id:"_1ã€app-è½¬-ipa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€app-è½¬-ipa"}},[t._v("#")]),t._v(" 1ã€"),s("code",[t._v("app")]),t._v(" è½¬ "),s("code",[t._v("ipa")])]),t._v(" "),s("p",[t._v("ä¸Šé¢æåˆ°çš„ä¸¤ä¸ªé—®é¢˜ä¸­ï¼Œç¬¬äºŒä¸ªå¾ˆå¥½å¤„ç†ï¼Œæˆ‘ä»¬åªè¦æ–°å»ºä¸€ä¸ªåä¸º "),s("code",[t._v("Payload")]),t._v(" çš„æ–‡ä»¶å¤¹ï¼Œå°† "),s("code",[t._v("LXFCardsLayout.app")]),t._v(" æ”¾å…¥å…¶ä¸­ï¼Œæ¥ç€è¿›è¡Œ "),s("code",[t._v("zip")]),t._v(" å‹ç¼©ï¼Œå°† "),s("code",[t._v("zip")]),t._v(" åç¼€æ”¹æˆ "),s("code",[t._v("ipa")]),t._v(" å³å¯ã€‚")]),t._v(" "),s("p",[t._v("è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šè¯¥ "),s("code",[t._v("app")]),t._v(" åŒ…æ˜¯æ ¹æ®å½“å‰çœŸæœºçš„æ¶æ„æ‰“åŒ…è€Œæ¥ï¼Œåƒæˆ‘ä»¬çš„æµ‹è¯•æœºæ˜¯ "),s("code",[t._v("arm64")]),t._v(" æ¶æ„çš„ï¼Œæ‰€ä»¥æ‰“å‡ºæ¥çš„æ˜¯ä»…åŒ…å« "),s("code",[t._v("arm64")]),t._v(" æ¶æ„ï¼Œ"),s("code",[t._v("armv7")]),t._v(" çš„è®¾å¤‡å°±ä¸å¯ä½¿ç”¨ï¼Œä½†æˆ‘ä»¬çš„æµ‹è¯•æœºéƒ½æ˜¯ "),s("code",[t._v("arm64")]),t._v(" æ¶æ„çš„ï¼Œæ‰€ä»¥é—®é¢˜ä¸å¤§ã€‚åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­å¤§å®¶è¯·æ³¨æ„è‡ªå·±çš„è®¾å¤‡æ¶æ„ï½")]),t._v(" "),s("h3",{attrs:{id:"_2ã€è·å–-app-åŒ…è·¯å¾„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€è·å–-app-åŒ…è·¯å¾„"}},[t._v("#")]),t._v(" 2ã€è·å– "),s("code",[t._v("app")]),t._v(" åŒ…è·¯å¾„")]),t._v(" "),s("p",[t._v("åœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€ä¸ªç¯å¢ƒå˜é‡ "),s("code",[t._v("BUILD_DIR")]),t._v("ï¼Œå¯ä»¥å–åˆ°å¦‚ä¸‹è·¯å¾„")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("/Users/lxf/Library/Developer/Xcode/DerivedData/LXFCardsLayout-xxx/Build/Products\n")])])]),s("p",[t._v("ä¸è¿‡åœ¨ "),s("code",[t._v("Archive")]),t._v("çš„æ—¶å€™ï¼Œå¾—åˆ°çš„è·¯å¾„å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("/Users/lxf/Library/Developer/Xcode/DerivedData/LXFCardsLayout-xxx/Build/Intermediates.noindex/ArchiveIntermediates/LXFCardsLayout-Swift/BuildProductsPath\n")])])]),s("p",[t._v("åœ¨ "),s("code",[t._v("shell")]),t._v(" ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ "),s("code",[t._v("%")]),t._v(" å–åˆ° "),s("code",[t._v("LXFCardsLayout-xxx")]),t._v("ä¸ºè‡³çš„è·¯å¾„ï¼Œå³æŠŠ "),s("code",[t._v("Build/")]),t._v("åŠåè¾¹çš„å†…å®¹å…¨éƒ¨åˆ æ‰")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${BUILD_DIR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("Build"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("*}")]),t._v("\n")])])]),s("h2",{attrs:{id:"å››ã€å®è·µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€å®è·µ"}},[t._v("#")]),t._v(" å››ã€å®è·µ")]),t._v(" "),s("h3",{attrs:{id:"_1ã€ä¿å­˜-app-è·¯å¾„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€ä¿å­˜-app-è·¯å¾„"}},[t._v("#")]),t._v(" 1ã€ä¿å­˜ "),s("code",[t._v("app")]),t._v(" è·¯å¾„")]),t._v(" "),s("p",[t._v("åœ¨ "),s("code",[t._v("iOS")]),t._v(" é¡¹ç›®ä¸‹æ–°å»ºä¸€ä¸ª "),s("code",[t._v("script")]),t._v(" ç›®å½•ï¼Œå­˜æ”¾ "),s("code",[t._v("python")]),t._v(" è„šæœ¬ "),s("code",[t._v("save_build_config.py")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -*- coding: UTF-8 -*-")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -*- author: LinXunFeng -*-")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" os\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" configparser "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ConfigParser\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handle_build_config")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""ä¿å­˜ç¼–è¯‘æ—¶çš„ä¸€äº›é…ç½®"""')]),t._v("\n    build_dir_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getenv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BUILD_DIR"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¼–è¯‘åœ°å€")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" build_dir_path "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n    \n    build_str_index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" build_dir_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Build/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" build_str_index "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        build_dir_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" build_dir_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("build_str_index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build_dir_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    save_config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build_dir_path'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" build_dir_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("save_config")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n    ä¿å­˜é…ç½®\n    :param key: é”®\n    :param value: å€¼\n    :return:\n    """')]),t._v("\n    section_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'project'")]),t._v("\n    config_file_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build_time_conf.ini'")]),t._v("\n    config "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ConfigParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config_file_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("has_section"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("section_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_section"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("section_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("section_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config_file_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'w'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("write"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'__main__'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    handle_build_config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20210320170901/image/202201260006052.png",alt:""}})]),t._v(" "),s("p",[t._v("æ³¨ï¼šè„šæœ¬ä¸­çš„ "),s("code",[t._v("section_name = 'project'")]),t._v("ï¼Œå¯ä»¥è°ƒæ•´æˆå…¶å®ƒåç§°ï¼Œå¦‚ï¼šé¡¹ç›®åï¼Œä½†éœ€è¦ä¸ä¸‹æ–‡å¦ä¸€è„šæœ¬ä¸­çš„ "),s("code",[t._v("section_name")]),t._v(" ä¿æŒä¸€è‡´ï¼")]),t._v(" "),s("p",[t._v("æ–°å»º "),s("code",[t._v("Run Script")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20210320170901/image/202201260005616.png",alt:""}})]),t._v(" "),s("p",[t._v("å¡«å†™å¦‚ä¸‹å†…å®¹")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# LinXunFeng é¡¹ç›®å…¶å®ƒé…ç½®")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" script\npython3 save_build_config.py "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®°å½•ç¼–è¯‘æ—¶é…ç½®")]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20210320170901/image/202201260007777.png",alt:""}})]),t._v(" "),s("p",[t._v("è¯¥æ“ä½œçš„ç”¨æ„ï¼šåœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œå°† "),s("code",[t._v("app")]),t._v(" åŒ…æ‰€åœ¨è·¯å¾„ä¿æŒè‡³ "),s("code",[t._v("script")]),t._v(" ç›®å½•çš„ "),s("code",[t._v("build_time_conf.ini")]),t._v(" æ–‡ä»¶ä¸­ï¼Œå¹¶ä½¿ç”¨ "),s("code",[t._v("build_dir_path")]),t._v(" åšä¸ºå…¶ "),s("code",[t._v("key")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("æ³¨ï¼šé‰´äºå¤šäººåä½œä¸‹ï¼Œè¯¥ "),s("code",[t._v("build_time_conf.ini")]),t._v(" æ–‡ä»¶å¿…å®šä¸å¯èƒ½ç›¸åŒï¼Œæ‰€ä»¥å»ºè®®å°†è¯¥ "),s("code",[t._v("build_time_conf.ini")]),t._v(" æ–‡ä»¶æ·»åŠ è‡³ "),s("code",[t._v(".gitignore")]),t._v(" ä¸­")]),t._v(" "),s("h3",{attrs:{id:"_2ã€å¤„ç†-app-åŒ…å¹¶ä¸Šä¼ è‡³è’²å…¬è‹±"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€å¤„ç†-app-åŒ…å¹¶ä¸Šä¼ è‡³è’²å…¬è‹±"}},[t._v("#")]),t._v(" 2ã€å¤„ç† "),s("code",[t._v("app")]),t._v(" åŒ…å¹¶ä¸Šä¼ è‡³è’²å…¬è‹±")]),t._v(" "),s("p",[s("code",[t._v("push_dev_ipa.py")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -*- coding: utf-8 -*-")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -*- author: LinXunFeng -*-")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" getopt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" shutil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" json\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" utils "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" file_util "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" FileUtil\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" utils "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" upload_pgyer "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" PgyerUtil\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" configparser "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ConfigParser\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" enum "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Enum\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppackSetKey")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Enum"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""appack_setçš„é”®"""')]),t._v("\n    PGYER_API_KEY "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pgyer_api_key"')]),t._v("\n    PGYER_USER_KEY "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pgyer_user_key"')]),t._v("\n    PGYER_PASSWORD_KEY "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pgyer_api_password"')]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_build_dir_path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config_ini_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""è·å–é¡¹ç›®çš„ç¼–è¯‘ç›®å½•è·¯å¾„"""')]),t._v("\n    section_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'project'")]),t._v("\n    config "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ConfigParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config_ini_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("has_section"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("section_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("section_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build_dir_path'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_build_config_ini_path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""è·å–build_conf.iniæ–‡ä»¶è·¯å¾„"""')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build_time_conf.ini'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_pgyer_config")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""è·å–è’²å…¬è‹±çš„ç›¸å…³é…ç½®"""')]),t._v("\n    config_set_json "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fastlane'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'appack_set.json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    json_data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loads"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("FileUtil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read_file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config_set_json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# print(json_data)")]),t._v("\n    pgyer_api_key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("AppackSetKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PGYER_API_KEY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    pgyer_user_key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("AppackSetKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PGYER_USER_KEY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    pgyer_password "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("AppackSetKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PGYER_PASSWORD_KEY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" pgyer_api_key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pgyer_user_key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pgyer_password\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    app_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" target_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.app'")]),t._v("\n\n    config_ini_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_build_config_ini_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    build_dir_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_build_dir_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config_ini_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build_dir_path -- '")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" build_dir_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    app_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build_dir_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Build/Products/Debug-iphoneos'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# print(app_path)")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cur_path = os.path.abspath('.')")]),t._v("\n    script_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    temp_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'temp'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    payload_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temp_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Payload'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    payload_app_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("payload_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exists"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temp_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        shutil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rmtree"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temp_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç§»é™¤Payload")]),t._v("\n        time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç­‰åˆ é™¤å®Œ")]),t._v("\n    os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("makedirs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("payload_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ›å»ºPayload")]),t._v("\n    new_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" shutil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("copytree"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" payload_app_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# print(new_path)")]),t._v("\n    ipa_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" shutil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("make_archive"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("payload_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zip'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" temp_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ipa_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" shutil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("move"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ipa_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temp_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.ipa'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ipa_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä¸Šä¼ è‡³è’²å…¬è‹±")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("payer_upload_callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        shutil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rmtree"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temp_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ é™¤tempç›®å½•")]),t._v("\n\n    pgyer_api_key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pgyer_user_key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pgyer_password "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_pgyer_config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    PgyerUtil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("upload_to_pgyer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ipa_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pgyer_api_key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pgyer_user_key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" password"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("pgyer_password"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callbcak"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("payer_upload_callback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__main__"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    argv "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("argv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    project_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é¡¹ç›®è·¯å¾„")]),t._v("\n    target_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# targetåç§°")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        opts"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" getopt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getopt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("argv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"p:t:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"path="')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"target_name="')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" getopt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GetoptError"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'push_dev_ipa.py -p "é¡¹ç›®è·¯å¾„" -t "targetå"\'')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        sys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("opts"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" opt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arg "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" opts"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" opt "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-p"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--path"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            project_path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arg\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¯·è¾“å…¥é¡¹ç›®çš„åœ°å€'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                sys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¯·è¾“å…¥é¡¹ç›®çš„åœ°å€'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" opt "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-t"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--target_name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            target_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arg\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# print(project_path)")]),t._v("\n    handle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("é…ç½®è¯´æ˜ï¼š")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("config_set_json "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fastlane'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'appack_set.json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("æˆ‘ä»¬é¡¹ç›®ä¸­ä¸è’²å…¬è‹±é…ç½®ç›¸å…³çš„å†…å®¹å­˜å…¥äº "),s("code",[t._v("é¡¹ç›®/fastlane/appack_set.json")]),t._v("ï¼Œå¯ä»¥æ ¹æ®è‡ªèº«å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ...\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pgyer_api_key"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"api_key_xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pgyer_user_key"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user_key_xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pgyer_api_password"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"api_password_xxx"')]),t._v("\n  ...\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("åœ¨ä½¿ç”¨è¯¥è„šæœ¬å‰è¯·æ ¹æ® "),s("RouterLink",{attrs:{to:"/pages/f2ddfa/"}},[t._v("ã€Macä¸Špyenvçš„å®‰è£…ä¸ä½¿ç”¨ã€‘")]),t._v(" é…ç½®è™šæ‹Ÿç¯å¢ƒ "),s("code",[t._v("env383_ScriptBox")]),t._v("ï¼Œå®Œæˆåæ¿€æ´»è¯¥è™šæ‹Ÿç¯å¢ƒï¼ŒæŒ‰å¦‚ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–åŒ…")],1),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("pip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-r")]),t._v(" requirements.txt\n")])])]),s("p",[t._v("ä½¿ç”¨ï¼š")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("python push_dev_ipa.py "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"é¡¹ç›®è·¯å¾„"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"targetå"')]),t._v("\n")])])]),s("h2",{attrs:{id:"äº”ã€å®ç°ä¸€é”®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äº”ã€å®ç°ä¸€é”®"}},[t._v("#")]),t._v(" äº”ã€å®ç°ä¸€é”®")]),t._v(" "),s("p",[t._v("ä½¿ç”¨ "),s("a",{attrs:{href:"http://fitztrev.github.io/shuttle/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Shuttle"),s("OutboundLink")],1),t._v(" å°†è¯¥å‘½ä»¤ä¿å­˜èµ·æ¥ï¼Œå®ç°åœ¨ç¼–è¯‘å®Œæˆåï¼Œä¸€é”®æ‰“åŒ…ä¸Šä¼ è‡³è’²å…¬è‹±")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20210320170901/image/202201260008568.png",alt:""}})]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"æ›´æ–°æµ‹è¯•åŒ…"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cmd"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"cd /Users/lxf/Desktop/github/script_box; python push_dev_ipa.py -p '/Users/lxf/Desktop/github/LXFCardsLayout/'\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"inTerminal"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"new"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ä¸Šä¼ æµ‹è¯•åŒ…è‡³è’²å…¬è‹±"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ä¸Šä¼ æµ‹è¯•åŒ…è‡³è’²å…¬è‹±"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("æ­¤å¤„è¯´æ˜ä¸€ä¸‹ "),s("code",[t._v("cd")]),t._v(" å‘½ä»¤çš„ç”¨æ„ï¼š")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /Users/lxf/Desktop/github/script_box\n")])])]),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20210320170901/image/202201260008665.png",alt:""}})]),t._v(" "),s("p",[t._v("åœ¨ "),s("code",[t._v("script_box")]),t._v(" ä¸‹å­˜æœ‰ä¸€ä¸ªåä¸º "),s("code",[t._v(".python-version")]),t._v(" çš„æ–‡ä»¶ï¼Œé‡Œé¢ä»…å†™äº† "),s("code",[t._v("env383_ScriptBox")]),t._v("ï¼Œè¿™æ˜¯ä¸€ä¸ª "),s("code",[t._v("python")]),t._v(" è™šæ‹Ÿç¯å¢ƒï¼Œå…¶ä½œç”¨æ˜¯ï¼šå½“è¿›å…¥åŒ…å«è¯¥æ–‡ä»¶æ‰€åœ¨ç›®å½•æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ‡æ¢è‡³è¯¥ "),s("code",[t._v("python")]),t._v(" è™šæ‹Ÿç¯å¢ƒã€‚")]),t._v(" "),s("p",[t._v("æˆ‘ä½¿ç”¨çš„æ˜¯ "),s("code",[t._v("pyenv")]),t._v(" æ¥å®ç° "),s("code",[t._v("python")]),t._v(" è™šæ‹Ÿç¯å¢ƒï¼Œè¯¦ç»†è¯´æ˜å¯ä»¥çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼š"),s("RouterLink",{attrs:{to:"/pages/f2ddfa/"}},[t._v("ã€Macä¸Špyenvçš„å®‰è£…ä¸ä½¿ç”¨ã€‘")])],1),t._v(" "),s("h2",{attrs:{id:"å…­ã€å…¶å®ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…­ã€å…¶å®ƒ"}},[t._v("#")]),t._v(" å…­ã€å…¶å®ƒ")]),t._v(" "),s("p",[s("code",[t._v("Shuttle")]),t._v(" è™½ç„¶å¥½ç”¨ï¼Œä½†æ˜¯åœ¨åç»­ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä½ ä¸€å®šä¼šé‡åˆ°å¤šå¤„é…ç½®ç›¸åŒçš„æƒ…å†µï¼Œå¦‚æœä½ æƒ³è§£å†³è¯¥é—®é¢˜ï¼Œä¸å¦¨çœ‹æˆ‘çš„è§£å†³æ–¹æ¡ˆï¼š"),s("RouterLink",{attrs:{to:"/pages/f6869d/"}},[t._v("ã€Jsonnet - jsonæ•°æ®æ¨¡æ¿è¯­è¨€ã€‘")])],1),t._v(" "),s("p",[t._v("è„šæœ¬é“¾æ¥ï¼š"),s("a",{attrs:{href:"https://github.com/LinXunFeng/script_box",target:"_blank",rel:"noopener noreferrer"}},[t._v("LinXunFeng/script_box: è„šæœ¬å·¥å…·ç®± (github.com)"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=p.exports}}]);