(window.webpackJsonp=window.webpackJsonp||[]).push([[195],{605:function(a,s,t){"use strict";t.r(s);var e=t(21),n=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"一、简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、简介"}},[a._v("#")]),a._v(" 一、简介")]),a._v(" "),s("p",[a._v("这是我在 "),s("code",[a._v("Mac")]),a._v(" 上通过 "),s("code",[a._v("Docker")]),a._v(" 来安装和配置 "),s("code",[a._v("OpenClaw")]),a._v(" 的一份记录，随着文章从上到下一步步做就可以了。")]),a._v(" "),s("h2",{attrs:{id:"二、docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、docker"}},[a._v("#")]),a._v(" 二、docker")]),a._v(" "),s("h3",{attrs:{id:"拉取-ubuntu-镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拉取-ubuntu-镜像"}},[a._v("#")]),a._v(" 拉取 "),s("code",[a._v("Ubuntu")]),a._v(" 镜像")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull ubuntu:latest\n")])])]),s("h3",{attrs:{id:"创建容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建容器"}},[a._v("#")]),a._v(" 创建容器")]),a._v(" "),s("p",[a._v("创建容器，并映射 "),s("code",[a._v("18789")]),a._v(" 端口")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("18789")]),a._v(":18789 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" openclaw ubuntu\n")])])]),s("p",[a._v("搭配 "),s("code",[a._v("Docker")]),a._v(" 容器的分离快捷键，先按 "),s("code",[a._v("Ctrl+P")]),a._v("，再按 "),s("code",[a._v("Ctrl+Q")]),a._v("，使容器的交互式会话中退出，同时保持容器继续在后台运行。")]),a._v(" "),s("h3",{attrs:{id:"查看运行中的容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看运行中的容器"}},[a._v("#")]),a._v(" 查看运行中的容器")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v("\n")])])]),s("h3",{attrs:{id:"重新连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重新连接"}},[a._v("#")]),a._v(" 重新连接")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" attach openclaw\n")])])]),s("h2",{attrs:{id:"三、ubuntu"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、ubuntu"}},[a._v("#")]),a._v(" 三、Ubuntu")]),a._v(" "),s("h3",{attrs:{id:"更新软件源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新软件源"}},[a._v("#")]),a._v(" 更新软件源")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" update\n")])])]),s("h3",{attrs:{id:"安装必要的命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装必要的命令"}},[a._v("#")]),a._v(" 安装必要的命令")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" systemctl\n")])])]),s("h3",{attrs:{id:"安装-node-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-node-js"}},[a._v("#")]),a._v(" 安装 "),s("code",[a._v("Node.js")])]),a._v(" "),s("p",[a._v("打开 "),s("a",{attrs:{href:"https://nodejs.org/en/download",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://nodejs.org/en/download"),s("OutboundLink")],1),a._v(" ，按网页上提供的命令安装 "),s("code",[a._v("NodeJS")])]),a._v(" "),s("p",[a._v("以下是文章发布时的最新安装命令，跟着复制粘贴去执行即可")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Download and install nvm:")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# in lieu of restarting the shell")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(". "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v('/.nvm/nvm.sh"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Download and install Node.js:")]),a._v("\nnvm "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Verify the Node.js version:")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("node")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# Should print "v24.13.0".')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Verify npm version:")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# Should print "11.6.2".')]),a._v("\n")])])]),s("h2",{attrs:{id:"四、openclaw"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、openclaw"}},[a._v("#")]),a._v(" 四、OpenClaw")]),a._v(" "),s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" openclaw@latest\n")])])]),s("h3",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("openclaw onboard --install-daemon\n")])])]),s("p",[a._v("根据你自身情况进行配置即可，命令可以反复去执行进行配置")]),a._v(" "),s("h3",{attrs:{id:"网关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网关"}},[a._v("#")]),a._v(" 网关")]),a._v(" "),s("p",[a._v("修改绑定地址， 配置文件位置位于: "),s("code",[a._v("~/.openclaw/openclaw.json")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" ~/.openclaw/openclaw.json\n")])])]),s("p",[s("code",[a._v("OpenClaw")]),a._v(" 使用 "),s("code",[a._v("gateway.bind")]),a._v(" 配置项控制绑定模式，默认的绑定模式为 "),s("code",[a._v("loopback")]),a._v("，仅 "),s("code",[a._v("127.0.0.1")]),a._v(" 可访问。")]),a._v(" "),s("p",[a._v("我们需要在宿主机中访问，则需要修改为 "),s("code",[a._v("lan")]),a._v("，并且将 "),s("code",[a._v("mode")]),a._v(" 设置为 "),s("code",[a._v("local")]),a._v("，如:")]),a._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  gateway"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    mode"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"local"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    bind"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"lan"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("18789")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    auth"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" \n      mode"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"token"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" \n      token"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"your-token"')]),a._v(" \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("p",[a._v("修改完成后重新网关服务")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("openclaw gateway restart\n")])])]),s("h3",{attrs:{id:"运行-openclaw"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行-openclaw"}},[a._v("#")]),a._v(" 运行 "),s("code",[a._v("OpenClaw")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("openclaw dashboard\n")])])]),s("p",[a._v("输出如下内容")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("Dashboard URL: http://127.0.0.1:18789/?token"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yourtoken\nCopy to clipboard unavailable.\nNo GUI detected. Open from your computer:\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ssh")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-N")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("18789")]),a._v(":127.0.0.1:18789 user@"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("host"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nThen open:\nhttp://localhost:18789/\nhttp://localhost:18789/?token"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yourtoken\nDocs:\nhttps://docs.openclaw.ai/gateway/remote\nhttps://docs.openclaw.ai/web/control-ui\n")])])]),s("p",[a._v("在宿主机的浏览器中打开给出网址即可")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("http://127.0.0.1:18789/?token=yourtoken\n")])])]),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20260118231830/image/202602022332052.png",alt:""}})]),a._v(" "),s("h2",{attrs:{id:"五、疑难杂症"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、疑难杂症"}},[a._v("#")]),a._v(" 五、疑难杂症")]),a._v(" "),s("h3",{attrs:{id:"pairing-required"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pairing-required"}},[a._v("#")]),a._v(" pairing required")]),a._v(" "),s("p",[a._v("相关 "),s("code",[a._v("issue")]),a._v(" 如下：")]),a._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/openclaw/openclaw/issues/4531#issuecomment-3822813844",target:"_blank",rel:"noopener noreferrer"}},[a._v("openclaw/issues/4531"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/openclaw/openclaw/issues/2284#issuecomment-3801613693",target:"_blank",rel:"noopener noreferrer"}},[a._v("openclaw/issues/2284"),s("OutboundLink")],1)])]),a._v(" "),s("p",[a._v("编辑 "),s("code",[a._v("~/.openclaw/devices/pending.json")]),a._v("，将 "),s("code",[a._v("silent")]),a._v(" 设置为 "),s("code",[a._v("true")]),a._v("，然后回到网页刷新一下就好了。")]),a._v(" "),s("h3",{attrs:{id:"install-failed-unknown-exit-spawn-npm-enoent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-failed-unknown-exit-spawn-npm-enoent"}},[a._v("#")]),a._v(" Install failed (unknown exit): spawn npm ENOENT")]),a._v(" "),s("p",[a._v("在安装 "),s("code",[a._v("Skills")]),a._v(" 时遇到过这个错误提示，原因是 "),s("code",[a._v("nvm")]),a._v(" 通过 "),s("code",[a._v("~/.nvm/current")]),a._v(" 指向当前激活的版本，但这个链接缺失了。")]),a._v(" "),s("p",[s("code",[a._v("Gateway")]),a._v(" 的 "),s("code",[a._v("PATH")]),a._v(" 包含了 "),s("code",[a._v("/root/.nvm/current/bin")]),a._v("，但因为这个链接不存在，所以找不到 "),s("code",[a._v("npm")]),a._v("。")]),a._v(" "),s("p",[a._v("执行如下命令创建软链")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 根据你自己安装的 node 版本去替换掉 v24.13.0")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" /root/.nvm/versions/node/v24.13.0 /root/.nvm/current\n")])])]),s("p",[a._v("然后重启 "),s("code",[a._v("gateway")]),a._v(" 即可")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("openclaw gateway restart\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);