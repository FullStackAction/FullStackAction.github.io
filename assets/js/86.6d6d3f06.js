(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{496:function(s,t,e){"use strict";e.r(t);var a=e(21),r=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"一、上传项目到github"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、上传项目到github"}},[s._v("#")]),s._v(" 一、上传项目到github")]),s._v(" "),t("p",[s._v("将框架中的主要文件放入到一个指定文件夹中，比如叫Classes或者Lib都可以\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210110203454.png",alt:"目录结构"}})]),s._v(" "),t("ul",[t("li",[s._v("打开终端，cd到框架目录")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cd /Users/lxf/xxxx/LXFPhotoHelper \n")])])]),t("ul",[t("li",[s._v("初始化仓库")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("git init\n")])])]),t("ul",[t("li",[s._v("将当前目录添加到缓存区")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("git add .\n")])])]),t("ul",[t("li",[s._v("提交到本地仓库")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("git commit -m '描述'\n")])])]),t("ul",[t("li",[s._v("添加远程仓库地址")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("git remote add origin https://github.com/LinXunFeng/xxx.git\n")])])]),t("ul",[t("li",[s._v("提交到远程仓库")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("git push origin master\n")])])]),t("p",[s._v("如果出现如下提示")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("fatal: unable to access 'https://github.com/xxx/xxx.git/': The requested URL returned error: 403\n")])])]),t("p",[s._v("原因是本地缓存了用户名和密码\n编辑.git目录下的config文件")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("vi .git/config\n")])])]),t("p",[s._v("找到url那一行，在github.com前加上用户名后保存，再重新执行推送操作")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("url = https://LinXunFeng@github.com/LinXunFeng/xxx.git\n")])])]),t("ul",[t("li",[s._v("打标签")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("// 具体说明可以执行`git tag --help`后查看\n// git tag -a '版本号' -m 'tag描述'\n// 注意一下，这里打的标签只是在本地\ngit tag '0.0.1'\n")])])]),t("ul",[t("li",[s._v("推着所有标签至远程仓库")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("// 只推着指定版本\n// git push origin 版本号 \ngit push --tags\n")])])]),t("h2",{attrs:{id:"二、创建并修改podspec文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、创建并修改podspec文件"}},[s._v("#")]),s._v(" 二、创建并修改podspec文件")]),s._v(" "),t("ul",[t("li",[s._v("创建Spec文件")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("// 名称一般与工程名称保持一致\npod spec create 框架名称\n")])])]),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210110203548.png",alt:"podspec文件"}})]),s._v(" "),t("ul",[t("li",[s._v("修改Spec文件")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('  s.name         = "LXFPhotoHelper（仓库名称）"\n  s.version      = "0.0.1（版本号，这里跟下面s.source中的tag有关）"\n  s.summary      = "对你自己仓库的简单描述，不要写太多字"\n  s.description  = "这个是详细描述，这里需要注意的是，这里文字的长度需要比  \n  s.summary的要长，不然会出现警告"\n  s.homepage     = "仓库首页地址，如https://github.com/LinXunFeng/LXFPhotoHelper"\n  s.license      = "MIT"\n  s.author       = { "LinXunFeng" => "598600855@qq.com" }\n  # source存放的地址是代码的真正地址\n  s.source       = { :git => "仓库对应的git地址，如https://github.com/LinXunFeng/LXFPhotoHelper.git", :tag => "#{s.version}" }\n  # pod install时真正下载下来的文件路径，这里指定的是你仓库下的Classes目录中的所有.h和.m文件（填写的是相对地址）\n  # ** 通配目录\n  s.source_files  = "Classes", "Classes/**/*.{h,m}"\n\n  # s.library = "sqlite3" # 框架依赖系统的sqlite3\n')])])]),t("p",[s._v("也可以上官网的手册【"),t("a",{attrs:{href:"https://guides.cocoapods.org/syntax/podspec.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Podspec Syntax Reference"),t("OutboundLink")],1),s._v("】上查看")]),s._v(" "),t("p",[s._v("这里需要我们注意的是"),t("code",[s._v('s.version= "0.0.1"')]),s._v("，这里的版本号要与刚刚打的tag一致")]),s._v(" "),t("h2",{attrs:{id:"三、注册trunk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、注册trunk"}},[s._v("#")]),s._v(" 三、注册trunk")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("// --verbose 打印详情信息\n// pod trunk register 邮箱 '你的名称' --verbose\npod trunk register 598600855@qq.com 'LinXunFeng' --verbose\n")])])]),t("p",[s._v("然后去验证邮箱")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210110203600.png",alt:"验证成功"}})]),s._v(" "),t("p",[s._v("验证成功后会提示我们回到终端，并敲入"),t("code",[s._v("pod trunk push 名称.podspec")])]),s._v(" "),t("h2",{attrs:{id:"四、上传spec"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、上传spec"}},[s._v("#")]),s._v(" 四、上传Spec")]),s._v(" "),t("p",[s._v("执行"),t("code",[s._v("pod trunk push")]),s._v("后会有一个审核的过程，如果提示没有通过，有ERROR就修改好后重新push，如果只是WARN可以选择在"),t("code",[s._v("pod trunk push")]),s._v("后面加上"),t("code",[s._v("--allow-warnings")]),s._v("来忽略它们")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("pod trunk push LXFPhotoHelper.podspec --allow-warnings\n")])])]),t("p",[s._v("如果出现如下信息，则说明你的框架名字已被占用，得重新改个名字～\n所以，在创建你自己的cocoapods仓库时最好是到"),t("a",{attrs:{href:"https://cocoapods.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("cocoapods.org"),t("OutboundLink")],1),s._v("上先查一下有没有相同名字的")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[!] You (xxx@qq.com) are not allowed to push new versions for this pod. The owners of this pod are yyy@qq.com.\n")])])]),t("p",[s._v("上传成功后会自动帮我们更新本地仓库，如果无法搜索到自己的框架，可以先删掉本地的索引文件后再搜索一次")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("rm ~/Library/Caches/CocoaPods/search_index.json\n")])])]),t("p",[s._v("当使用pod search 命令可以搜索自己的框架时, 那么就意味着审核通过了")])])}),[],!1,null,null,null);t.default=r.exports}}]);