<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>çƒ­ä¿®å¤ - Tinkerçš„é›†æˆä¸ä½¿ç”¨ | FSAå…¨æ ˆè¡ŒåŠ¨</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-3568502583266202" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script src="/js/global.js"></script>
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?885476c2eae58d4aee1ab7fcfb548adb";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
      </script>
    <meta name="description" content="åˆ†äº«Androidã€iOSã€Pythonã€Vueç­‰æŠ€æœ¯èµ„è®¯ã€å­¦ä¹ ç¬”è®°ï¼ŒæˆåŠŸæœ‰æ¢¦æƒ³çš„å…¨æ ˆå·¥ç¨‹å¸ˆï¼Œæ¬¢è¿å…³æ³¨ã€‚">
    <meta name="keywords" content="FSAå…¨æ ˆè¡ŒåŠ¨,LinXunFeng,GitLqr,å…¨æ ˆæŠ€æœ¯åšå®¢,ç§»åŠ¨ç«¯,webå‰ç«¯,åç«¯å¼€å‘,å‰ç«¯æ¡†æ¶,webå‰ç«¯,Androidæ¡†æ¶,iOSæ¡†æ¶,Flutteræ¡†æ¶,Pythonæ¡†æ¶,Vueæ¡†æ¶,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,é¢è¯•,Java,Kotlin,object-c,Swift,Kotlin,Dart,JavaScript,js,ES6,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="code-Cyx4xlZmzI">
    <meta name="google-site-verification" content="_0KO4KbxdSwB-TPRQ8bRqmML8dnrx5G82GhQNZlR4HU">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.f24a96ee.css" as="style"><link rel="preload" href="/assets/js/app.7f3b8579.js" as="script"><link rel="preload" href="/assets/js/2.d8b68cf2.js" as="script"><link rel="preload" href="/assets/js/57.024e57ae.js" as="script"><link rel="prefetch" href="/assets/js/10.d73c7d01.js"><link rel="prefetch" href="/assets/js/100.9ebeff21.js"><link rel="prefetch" href="/assets/js/101.692c940a.js"><link rel="prefetch" href="/assets/js/102.e2f371dd.js"><link rel="prefetch" href="/assets/js/103.915d0f88.js"><link rel="prefetch" href="/assets/js/104.28cfb05a.js"><link rel="prefetch" href="/assets/js/105.093417ac.js"><link rel="prefetch" href="/assets/js/106.3cbd2542.js"><link rel="prefetch" href="/assets/js/107.64783dba.js"><link rel="prefetch" href="/assets/js/108.743f1185.js"><link rel="prefetch" href="/assets/js/109.f19942bd.js"><link rel="prefetch" href="/assets/js/11.1bcda3a0.js"><link rel="prefetch" href="/assets/js/110.8af5f48d.js"><link rel="prefetch" href="/assets/js/111.8bd3a603.js"><link rel="prefetch" href="/assets/js/112.561e95e5.js"><link rel="prefetch" href="/assets/js/113.dc4597d6.js"><link rel="prefetch" href="/assets/js/114.0b360344.js"><link rel="prefetch" href="/assets/js/115.d3a84fe4.js"><link rel="prefetch" href="/assets/js/116.3987a675.js"><link rel="prefetch" href="/assets/js/117.06dfe4cf.js"><link rel="prefetch" href="/assets/js/118.8b183b3e.js"><link rel="prefetch" href="/assets/js/119.0f5457d8.js"><link rel="prefetch" href="/assets/js/12.9d9f5ba0.js"><link rel="prefetch" href="/assets/js/120.7a1fc0c6.js"><link rel="prefetch" href="/assets/js/121.c39b3bac.js"><link rel="prefetch" href="/assets/js/122.98abc6f1.js"><link rel="prefetch" href="/assets/js/123.d26b6150.js"><link rel="prefetch" href="/assets/js/124.8a5a34f6.js"><link rel="prefetch" href="/assets/js/125.ba32e31d.js"><link rel="prefetch" href="/assets/js/126.5c1160c9.js"><link rel="prefetch" href="/assets/js/127.cda7bc77.js"><link rel="prefetch" href="/assets/js/128.693e08d4.js"><link rel="prefetch" href="/assets/js/129.e6b34ba6.js"><link rel="prefetch" href="/assets/js/13.2af8a90e.js"><link rel="prefetch" href="/assets/js/130.a5c99ad8.js"><link rel="prefetch" href="/assets/js/131.b076989a.js"><link rel="prefetch" href="/assets/js/132.a7a08de6.js"><link rel="prefetch" href="/assets/js/133.d8849bbf.js"><link rel="prefetch" href="/assets/js/134.97755c83.js"><link rel="prefetch" href="/assets/js/135.106ce0b9.js"><link rel="prefetch" href="/assets/js/136.52554b90.js"><link rel="prefetch" href="/assets/js/137.33299b33.js"><link rel="prefetch" href="/assets/js/138.9ff58cd6.js"><link rel="prefetch" href="/assets/js/139.7cee0069.js"><link rel="prefetch" href="/assets/js/14.dfac8018.js"><link rel="prefetch" href="/assets/js/140.87424ea7.js"><link rel="prefetch" href="/assets/js/141.d610ca63.js"><link rel="prefetch" href="/assets/js/142.a63d6162.js"><link rel="prefetch" href="/assets/js/143.98b3a651.js"><link rel="prefetch" href="/assets/js/144.7349ca77.js"><link rel="prefetch" href="/assets/js/145.858d9452.js"><link rel="prefetch" href="/assets/js/146.a032b581.js"><link rel="prefetch" href="/assets/js/147.db1005fb.js"><link rel="prefetch" href="/assets/js/148.20fde4db.js"><link rel="prefetch" href="/assets/js/149.79e591ff.js"><link rel="prefetch" href="/assets/js/15.525d5dfe.js"><link rel="prefetch" href="/assets/js/150.9969db2c.js"><link rel="prefetch" href="/assets/js/151.84e062f1.js"><link rel="prefetch" href="/assets/js/152.fca6b962.js"><link rel="prefetch" href="/assets/js/153.e362f89c.js"><link rel="prefetch" href="/assets/js/154.fcadffca.js"><link rel="prefetch" href="/assets/js/155.51be41cc.js"><link rel="prefetch" href="/assets/js/156.670b7225.js"><link rel="prefetch" href="/assets/js/157.c170060f.js"><link rel="prefetch" href="/assets/js/158.79568bb0.js"><link rel="prefetch" href="/assets/js/159.4556ba58.js"><link rel="prefetch" href="/assets/js/16.d8737ba6.js"><link rel="prefetch" href="/assets/js/160.ccb3da81.js"><link rel="prefetch" href="/assets/js/161.fcab26fd.js"><link rel="prefetch" href="/assets/js/162.04643d32.js"><link rel="prefetch" href="/assets/js/163.0f3f6189.js"><link rel="prefetch" href="/assets/js/164.ad72198f.js"><link rel="prefetch" href="/assets/js/165.615a6f7d.js"><link rel="prefetch" href="/assets/js/166.6375ba74.js"><link rel="prefetch" href="/assets/js/167.5b840418.js"><link rel="prefetch" href="/assets/js/168.c68d3960.js"><link rel="prefetch" href="/assets/js/169.cc670789.js"><link rel="prefetch" href="/assets/js/17.a33331a9.js"><link rel="prefetch" href="/assets/js/170.b9b60f23.js"><link rel="prefetch" href="/assets/js/171.e8ddd4b9.js"><link rel="prefetch" href="/assets/js/172.aec6cd0b.js"><link rel="prefetch" href="/assets/js/173.82ae516f.js"><link rel="prefetch" href="/assets/js/174.43c24db1.js"><link rel="prefetch" href="/assets/js/175.0745debe.js"><link rel="prefetch" href="/assets/js/176.fc09d550.js"><link rel="prefetch" href="/assets/js/177.a1e50cdf.js"><link rel="prefetch" href="/assets/js/178.2c3161ff.js"><link rel="prefetch" href="/assets/js/179.dec0251e.js"><link rel="prefetch" href="/assets/js/18.33037d59.js"><link rel="prefetch" href="/assets/js/180.3f38e63b.js"><link rel="prefetch" href="/assets/js/181.ce67cba8.js"><link rel="prefetch" href="/assets/js/182.fdda1353.js"><link rel="prefetch" href="/assets/js/183.2332a1ac.js"><link rel="prefetch" href="/assets/js/184.80349cb4.js"><link rel="prefetch" href="/assets/js/185.8c98dca5.js"><link rel="prefetch" href="/assets/js/186.5616f21c.js"><link rel="prefetch" href="/assets/js/187.4c7cc247.js"><link rel="prefetch" href="/assets/js/188.bdfe7363.js"><link rel="prefetch" href="/assets/js/189.fac14151.js"><link rel="prefetch" href="/assets/js/19.c55f5d6a.js"><link rel="prefetch" href="/assets/js/190.b19b42de.js"><link rel="prefetch" href="/assets/js/191.0c49b5ef.js"><link rel="prefetch" href="/assets/js/192.7244ca08.js"><link rel="prefetch" href="/assets/js/193.9a065cbd.js"><link rel="prefetch" href="/assets/js/194.1d266da8.js"><link rel="prefetch" href="/assets/js/195.af354348.js"><link rel="prefetch" href="/assets/js/196.339b7edd.js"><link rel="prefetch" href="/assets/js/197.6b41afc4.js"><link rel="prefetch" href="/assets/js/198.0746e300.js"><link rel="prefetch" href="/assets/js/199.35021be6.js"><link rel="prefetch" href="/assets/js/20.33fe86db.js"><link rel="prefetch" href="/assets/js/200.2043e099.js"><link rel="prefetch" href="/assets/js/201.c7314617.js"><link rel="prefetch" href="/assets/js/202.0a320978.js"><link rel="prefetch" href="/assets/js/203.62345e99.js"><link rel="prefetch" href="/assets/js/204.3acaba8b.js"><link rel="prefetch" href="/assets/js/205.81ce8b3f.js"><link rel="prefetch" href="/assets/js/206.693077ca.js"><link rel="prefetch" href="/assets/js/207.35635729.js"><link rel="prefetch" href="/assets/js/208.df02795a.js"><link rel="prefetch" href="/assets/js/209.2c671bc5.js"><link rel="prefetch" href="/assets/js/21.ab5e7303.js"><link rel="prefetch" href="/assets/js/210.4884f278.js"><link rel="prefetch" href="/assets/js/211.2cf25f09.js"><link rel="prefetch" href="/assets/js/212.b05228a4.js"><link rel="prefetch" href="/assets/js/213.fba7606d.js"><link rel="prefetch" href="/assets/js/214.7c6cf229.js"><link rel="prefetch" href="/assets/js/215.8a249505.js"><link rel="prefetch" href="/assets/js/216.d504502a.js"><link rel="prefetch" href="/assets/js/217.3c68944a.js"><link rel="prefetch" href="/assets/js/218.d4f16df9.js"><link rel="prefetch" href="/assets/js/219.1161bf82.js"><link rel="prefetch" href="/assets/js/22.ec455aec.js"><link rel="prefetch" href="/assets/js/220.78311f3b.js"><link rel="prefetch" href="/assets/js/221.4e1ca775.js"><link rel="prefetch" href="/assets/js/222.f7203af2.js"><link rel="prefetch" href="/assets/js/223.3abf2ee9.js"><link rel="prefetch" href="/assets/js/224.a5ef5eed.js"><link rel="prefetch" href="/assets/js/225.5c9043a5.js"><link rel="prefetch" href="/assets/js/226.38569aef.js"><link rel="prefetch" href="/assets/js/227.0420ce22.js"><link rel="prefetch" href="/assets/js/228.79881e5e.js"><link rel="prefetch" href="/assets/js/229.2e1bc8ec.js"><link rel="prefetch" href="/assets/js/23.d3a842bc.js"><link rel="prefetch" href="/assets/js/230.6c0e7bed.js"><link rel="prefetch" href="/assets/js/231.917702e9.js"><link rel="prefetch" href="/assets/js/232.ff5eaa1e.js"><link rel="prefetch" href="/assets/js/233.6ed19299.js"><link rel="prefetch" href="/assets/js/234.603eb56b.js"><link rel="prefetch" href="/assets/js/235.9a79b6d4.js"><link rel="prefetch" href="/assets/js/236.9fb46f8d.js"><link rel="prefetch" href="/assets/js/237.abe2b668.js"><link rel="prefetch" href="/assets/js/238.41a509c0.js"><link rel="prefetch" href="/assets/js/239.2e8b7363.js"><link rel="prefetch" href="/assets/js/24.39bed4a8.js"><link rel="prefetch" href="/assets/js/240.8386a8dd.js"><link rel="prefetch" href="/assets/js/241.011b4c37.js"><link rel="prefetch" href="/assets/js/242.4bcc3bcc.js"><link rel="prefetch" href="/assets/js/243.b45b2159.js"><link rel="prefetch" href="/assets/js/244.15a0cde4.js"><link rel="prefetch" href="/assets/js/245.c17e4235.js"><link rel="prefetch" href="/assets/js/246.2602ccfe.js"><link rel="prefetch" href="/assets/js/247.0cecb37e.js"><link rel="prefetch" href="/assets/js/248.38dc453a.js"><link rel="prefetch" href="/assets/js/249.d11d84bf.js"><link rel="prefetch" href="/assets/js/25.ffefd3d8.js"><link rel="prefetch" href="/assets/js/250.1044353b.js"><link rel="prefetch" href="/assets/js/251.7b88f5b7.js"><link rel="prefetch" href="/assets/js/252.f426d131.js"><link rel="prefetch" href="/assets/js/253.2aece1fc.js"><link rel="prefetch" href="/assets/js/254.46bbea10.js"><link rel="prefetch" href="/assets/js/255.f542f3ad.js"><link rel="prefetch" href="/assets/js/256.9f0c1e56.js"><link rel="prefetch" href="/assets/js/257.bb2165a1.js"><link rel="prefetch" href="/assets/js/258.9ef8e186.js"><link rel="prefetch" href="/assets/js/259.1d385525.js"><link rel="prefetch" href="/assets/js/26.ad30bb86.js"><link rel="prefetch" href="/assets/js/27.dbb4126e.js"><link rel="prefetch" href="/assets/js/28.8bd9d307.js"><link rel="prefetch" href="/assets/js/29.1a71e08e.js"><link rel="prefetch" href="/assets/js/3.b8fc1c5e.js"><link rel="prefetch" href="/assets/js/30.8efc70c6.js"><link rel="prefetch" href="/assets/js/31.59259562.js"><link rel="prefetch" href="/assets/js/32.028d62ae.js"><link rel="prefetch" href="/assets/js/33.3b70ec9e.js"><link rel="prefetch" href="/assets/js/34.bf2570c3.js"><link rel="prefetch" href="/assets/js/35.ac4ccec9.js"><link rel="prefetch" href="/assets/js/36.bffc7c49.js"><link rel="prefetch" href="/assets/js/37.28a9ac42.js"><link rel="prefetch" href="/assets/js/38.746d9db3.js"><link rel="prefetch" href="/assets/js/39.147f4a84.js"><link rel="prefetch" href="/assets/js/4.f21084fd.js"><link rel="prefetch" href="/assets/js/40.975b3dc6.js"><link rel="prefetch" href="/assets/js/41.72637e70.js"><link rel="prefetch" href="/assets/js/42.f99b3098.js"><link rel="prefetch" href="/assets/js/43.db77c7a5.js"><link rel="prefetch" href="/assets/js/44.8620cf19.js"><link rel="prefetch" href="/assets/js/45.411caf2b.js"><link rel="prefetch" href="/assets/js/46.8374a3d1.js"><link rel="prefetch" href="/assets/js/47.79a96a98.js"><link rel="prefetch" href="/assets/js/48.3318facd.js"><link rel="prefetch" href="/assets/js/49.e2fefb42.js"><link rel="prefetch" href="/assets/js/5.fb735bd1.js"><link rel="prefetch" href="/assets/js/50.30b4bfec.js"><link rel="prefetch" href="/assets/js/51.e955e801.js"><link rel="prefetch" href="/assets/js/52.3e4c5bd5.js"><link rel="prefetch" href="/assets/js/53.10b4da3e.js"><link rel="prefetch" href="/assets/js/54.bcf53f23.js"><link rel="prefetch" href="/assets/js/55.7dc849e2.js"><link rel="prefetch" href="/assets/js/56.106c02f7.js"><link rel="prefetch" href="/assets/js/58.14f76c64.js"><link rel="prefetch" href="/assets/js/59.37cbf342.js"><link rel="prefetch" href="/assets/js/6.95ba2307.js"><link rel="prefetch" href="/assets/js/60.6e09f3e9.js"><link rel="prefetch" href="/assets/js/61.ecdd48ba.js"><link rel="prefetch" href="/assets/js/62.db6f90d9.js"><link rel="prefetch" href="/assets/js/63.f15fa795.js"><link rel="prefetch" href="/assets/js/64.a054754c.js"><link rel="prefetch" href="/assets/js/65.8752258b.js"><link rel="prefetch" href="/assets/js/66.98e44e46.js"><link rel="prefetch" href="/assets/js/67.4ec50b75.js"><link rel="prefetch" href="/assets/js/68.d70ad02f.js"><link rel="prefetch" href="/assets/js/69.960af925.js"><link rel="prefetch" href="/assets/js/7.4ea2a7cb.js"><link rel="prefetch" href="/assets/js/70.a7fd9f5e.js"><link rel="prefetch" href="/assets/js/71.797b9ba2.js"><link rel="prefetch" href="/assets/js/72.544b7f42.js"><link rel="prefetch" href="/assets/js/73.233ea30b.js"><link rel="prefetch" href="/assets/js/74.74193aec.js"><link rel="prefetch" href="/assets/js/75.58090f19.js"><link rel="prefetch" href="/assets/js/76.70d46d82.js"><link rel="prefetch" href="/assets/js/77.2cee5693.js"><link rel="prefetch" href="/assets/js/78.d40627c8.js"><link rel="prefetch" href="/assets/js/79.4a480023.js"><link rel="prefetch" href="/assets/js/8.ade06460.js"><link rel="prefetch" href="/assets/js/80.396cf990.js"><link rel="prefetch" href="/assets/js/81.86cbef81.js"><link rel="prefetch" href="/assets/js/82.70b41659.js"><link rel="prefetch" href="/assets/js/83.88dd9ea9.js"><link rel="prefetch" href="/assets/js/84.771341d2.js"><link rel="prefetch" href="/assets/js/85.132eb564.js"><link rel="prefetch" href="/assets/js/86.6d6d3f06.js"><link rel="prefetch" href="/assets/js/87.3c287970.js"><link rel="prefetch" href="/assets/js/88.ab381cae.js"><link rel="prefetch" href="/assets/js/89.3fc1949f.js"><link rel="prefetch" href="/assets/js/9.e286e9f3.js"><link rel="prefetch" href="/assets/js/90.95e4cac8.js"><link rel="prefetch" href="/assets/js/91.c5c18896.js"><link rel="prefetch" href="/assets/js/92.5883fb02.js"><link rel="prefetch" href="/assets/js/93.0a36ee68.js"><link rel="prefetch" href="/assets/js/94.71a7723b.js"><link rel="prefetch" href="/assets/js/95.48f02b92.js"><link rel="prefetch" href="/assets/js/96.6f336fcd.js"><link rel="prefetch" href="/assets/js/97.d6a61a44.js"><link rel="prefetch" href="/assets/js/98.8f3aeef7.js"><link rel="prefetch" href="/assets/js/99.76c3493b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f24a96ee.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210131112211.jpg" alt="FSAå…¨æ ˆè¡ŒåŠ¨" class="logo"> <span class="site-name can-hide">FSAå…¨æ ˆè¡ŒåŠ¨</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç§»åŠ¨ç«¯" class="dropdown-title"><a href="/mobile/" class="link-title">ç§»åŠ¨ç«¯</a> <span class="title" style="display:none;">ç§»åŠ¨ç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ç§»åŠ¨ç«¯æ–‡ç« </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/61d6a8/" class="nav-link">Android</a></li><li class="dropdown-subitem"><a href="/pages/cb27eb/" class="nav-link">iOS</a></li><li class="dropdown-subitem"><a href="/pages/61cc74/" class="nav-link">Flutter</a></li></ul></li><li class="dropdown-item"><h4>å­¦ä¹ ç¬”è®°</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/kotlin/" class="nav-link">ã€ŠKotlinå¿«é€Ÿå…¥é—¨è¿›é˜¶ã€‹ç¬”è®°</a></li><li class="dropdown-subitem"><a href="/note/flutter/" class="nav-link">ã€ŠFlutterä»å…¥é—¨åˆ°å®æˆ˜ã€‹ç¬”è®°</a></li><li class="dropdown-subitem"><a href="/note/flutter/lxf/review/" class="nav-link">ã€ŠFlutterå¤ä¹ ã€‹ç¬”è®°</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/web/" class="nav-link">å‰ç«¯</a></div><div class="nav-item"><a href="/backend/" class="nav-link">åç«¯</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å†…åŠŸå¿ƒæ³•" class="dropdown-title"><a href="/power/" class="link-title">å†…åŠŸå¿ƒæ³•</a> <span class="title" style="display:none;">å†…åŠŸå¿ƒæ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å­¦ä¹ ç¬”è®°</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/designpattern/" class="nav-link">ã€Šæ·±å…¥æµ…å‡ºè®¾è®¡æ¨¡å¼Javaç‰ˆã€‹ç¬”è®°</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><a href="/more/" class="link-title">æ›´å¤š</a> <span class="title" style="display:none;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ea5b48/" class="nav-link">é€†å‘</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><!----> <span class="title" style="display:;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/LinXunFeng/" class="nav-link">LinXunFeng</a></li><li class="dropdown-item"><!----> <a href="/about/GitLqr/" class="nav-link">GitLqr</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210131111432.png"> <div class="blogger-info"><h3>å…¬ä¼—å·ï¼šFSAå…¨æ ˆè¡ŒåŠ¨</h3> <span>è®°å½•å­¦ä¹ è¿‡ç¨‹ä¸­çš„çŸ¥è¯†</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç§»åŠ¨ç«¯" class="dropdown-title"><a href="/mobile/" class="link-title">ç§»åŠ¨ç«¯</a> <span class="title" style="display:none;">ç§»åŠ¨ç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ç§»åŠ¨ç«¯æ–‡ç« </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/61d6a8/" class="nav-link">Android</a></li><li class="dropdown-subitem"><a href="/pages/cb27eb/" class="nav-link">iOS</a></li><li class="dropdown-subitem"><a href="/pages/61cc74/" class="nav-link">Flutter</a></li></ul></li><li class="dropdown-item"><h4>å­¦ä¹ ç¬”è®°</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/kotlin/" class="nav-link">ã€ŠKotlinå¿«é€Ÿå…¥é—¨è¿›é˜¶ã€‹ç¬”è®°</a></li><li class="dropdown-subitem"><a href="/note/flutter/" class="nav-link">ã€ŠFlutterä»å…¥é—¨åˆ°å®æˆ˜ã€‹ç¬”è®°</a></li><li class="dropdown-subitem"><a href="/note/flutter/lxf/review/" class="nav-link">ã€ŠFlutterå¤ä¹ ã€‹ç¬”è®°</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/web/" class="nav-link">å‰ç«¯</a></div><div class="nav-item"><a href="/backend/" class="nav-link">åç«¯</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å†…åŠŸå¿ƒæ³•" class="dropdown-title"><a href="/power/" class="link-title">å†…åŠŸå¿ƒæ³•</a> <span class="title" style="display:none;">å†…åŠŸå¿ƒæ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å­¦ä¹ ç¬”è®°</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/designpattern/" class="nav-link">ã€Šæ·±å…¥æµ…å‡ºè®¾è®¡æ¨¡å¼Javaç‰ˆã€‹ç¬”è®°</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><a href="/more/" class="link-title">æ›´å¤š</a> <span class="title" style="display:none;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ea5b48/" class="nav-link">é€†å‘</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><!----> <span class="title" style="display:;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/LinXunFeng/" class="nav-link">LinXunFeng</a></li><li class="dropdown-item"><!----> <a href="/about/GitLqr/" class="nav-link">GitLqr</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AndroidUI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Androidç¬¬ä¸‰æ–¹SDK</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Androidæ··æ·†</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Androidä»“åº“</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Androidæ–°é—»</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Androidç³»ç»Ÿå¼€å‘</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Androidæºç </span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Androidæ³¨è§£AOP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Androidè„šæœ¬</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AndroidTvå¼€å‘</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AndroidNDK</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AndroidéŸ³è§†é¢‘</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Androidçƒ­ä¿®å¤</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/ccf9c0/" class="sidebar-link">çƒ­ä¿®å¤ä¸æ’ä»¶åŒ–åŸºç¡€ - dexä¸class</a></li><li><a href="/pages/1084c4/" class="sidebar-link">çƒ­ä¿®å¤ä¸æ’ä»¶åŒ–åŸºç¡€ - Javaä¸Androidè™šæ‹Ÿæœº</a></li><li><a href="/pages/a5eb80/" class="sidebar-link">çƒ­ä¿®å¤ä¸æ’ä»¶åŒ–åŸºç¡€ - Javaä¸Androidçš„ç±»åŠ è½½å™¨</a></li><li><a href="/pages/8e3184/" class="sidebar-link">çƒ­ä¿®å¤ - æ·±å…¥æµ…å‡ºåŸç†ä¸å®ç°</a></li><li><a href="/pages/bbc079/" aria-current="page" class="active sidebar-link">çƒ­ä¿®å¤ - Tinkerçš„é›†æˆä¸ä½¿ç”¨</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/bbc079/#ä¸€ã€ç®€è¿°" class="sidebar-link">ä¸€ã€ç®€è¿°</a></li><li class="sidebar-sub-header level2"><a href="/pages/bbc079/#äºŒã€tinkerç»„ä»¶ä¾èµ–" class="sidebar-link">äºŒã€Tinkerç»„ä»¶ä¾èµ–</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_1ã€åœ¨é¡¹ç›®çš„build-gradleä¸­" class="sidebar-link">1ã€åœ¨é¡¹ç›®çš„build.gradleä¸­ï¼š</a></li><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_2ã€åœ¨appçš„gradleæ–‡ä»¶-app-build-gradle-ä¸­" class="sidebar-link">2ã€åœ¨appçš„gradleæ–‡ä»¶ï¼ˆapp/build.gradleï¼‰ä¸­ï¼š</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/bbc079/#ä¸‰ã€tinkerçš„é…ç½®åŠä»»åŠ¡" class="sidebar-link">ä¸‰ã€Tinkerçš„é…ç½®åŠä»»åŠ¡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_1ã€å¼€å¯æ”¯æŒå¤§å·¥ç¨‹æ¨¡å¼" class="sidebar-link">1ã€å¼€å¯æ”¯æŒå¤§å·¥ç¨‹æ¨¡å¼</a></li><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_2ã€é…ç½®tinkerä¸ä»»åŠ¡" class="sidebar-link">2ã€é…ç½®Tinkerä¸ä»»åŠ¡</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/bbc079/#å››ã€tinkerå°è£…ä¸æ‹“å±•" class="sidebar-link">å››ã€Tinkerå°è£…ä¸æ‹“å±•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_1ã€æ‹·è´æ–‡ä»¶" class="sidebar-link">1ã€æ‹·è´æ–‡ä»¶</a></li><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_2ã€æ¸…å•æ–‡ä»¶ä¸­æ·»åŠ æœåŠ¡" class="sidebar-link">2ã€æ¸…å•æ–‡ä»¶ä¸­æ·»åŠ æœåŠ¡</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/bbc079/#äº”ã€ç¼–å†™applicationçš„ä»£ç†ç±»" class="sidebar-link">äº”ã€ç¼–å†™Applicationçš„ä»£ç†ç±»</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_1ã€ç¼–å†™tinkerapplicationlike" class="sidebar-link">1ã€ç¼–å†™TinkerApplicationLike</a></li><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_2ã€æ¬è¿è‡ªå®šä¹‰applicationä¸­çš„æ“ä½œ" class="sidebar-link">2ã€æ¬è¿è‡ªå®šä¹‰Applicationä¸­çš„æ“ä½œ</a></li><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_3ã€æ¸…å•æ–‡ä»¶ä¸­æ³¨å†Œ" class="sidebar-link">3ã€æ¸…å•æ–‡ä»¶ä¸­æ³¨å†Œ</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/bbc079/#å…­ã€å¸¸ç”¨api" class="sidebar-link">å…­ã€å¸¸ç”¨API</a></li><li class="sidebar-sub-header level2"><a href="/pages/bbc079/#ä¸ƒã€æµ‹è¯•" class="sidebar-link">ä¸ƒã€æµ‹è¯•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_1ã€ç¼–è¯‘åŸºç¡€åŒ…" class="sidebar-link">1ã€ç¼–è¯‘åŸºç¡€åŒ…</a></li><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_1ã€ä¿®å¤javaä»£ç " class="sidebar-link">1ã€ä¿®å¤javaä»£ç </a></li><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_2ã€ä¿®å¤soåº“" class="sidebar-link">2ã€ä¿®å¤soåº“</a></li><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_3ã€ä¿®å¤èµ„æºæ–‡ä»¶" class="sidebar-link">3ã€ä¿®å¤èµ„æºæ–‡ä»¶</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/bbc079/#å…«ã€ç»†èŠ‚" class="sidebar-link">å…«ã€ç»†èŠ‚</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_1ã€æ‰“åŒ…æ­¥éª¤" class="sidebar-link">1ã€æ‰“åŒ…æ­¥éª¤</a></li><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_2ã€ä½¿ç”¨tinkerçš„æ³¨æ„äº‹é¡¹ä¸å‘ç°" class="sidebar-link">2ã€ä½¿ç”¨tinkerçš„æ³¨æ„äº‹é¡¹ä¸å‘ç°</a></li><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#_3ã€å¯èƒ½ä¼šé‡åˆ°çš„é”™è¯¯" class="sidebar-link">3ã€å¯èƒ½ä¼šé‡åˆ°çš„é”™è¯¯</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/bbc079/#ä¹ã€å…¶ä»–" class="sidebar-link">ä¹ã€å…¶ä»–</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/bbc079/#æœ€åè´´ä¸‹demoé“¾æ¥" class="sidebar-link">æœ€åè´´ä¸‹Demoé“¾æ¥</a></li></ul></li></ul></li><li><a href="/pages/030ff5/" class="sidebar-link">çƒ­ä¿®å¤ - Buglyè®©çƒ­ä¿®å¤å˜å¾—å¦‚æ­¤ç®€å•</a></li><li><a href="/pages/6d35fc/" class="sidebar-link">çƒ­ä¿®å¤ - Tinkerå¤šæ¸ é“åŠ å›ºé…ç½®</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Androidæ€§èƒ½ä¼˜åŒ–</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Androidäº‘æ¸¸æˆ</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Androidæ’ä»¶åŒ–</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOSUI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOSå·¥å…·</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOSåº•å±‚åŸç†ä¸åº”ç”¨</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOSç»„ä»¶åŒ–</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOSéŸ³è§†é¢‘</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOSç–‘éš¾æ‚ç—‡</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOSä¹‹Swift</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOSä¹‹RxSwift</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOSå¼€æºé¡¹ç›®</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOSé€†å‘</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Flutterå¼€å‘</span> <span class="arrow right"></span></p> <!----></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- æ­£æ–¹å½¢ -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/mobile/#ç§»åŠ¨ç«¯" data-v-06225672>ç§»åŠ¨ç«¯</a></li><li data-v-06225672><a href="/mobile/#Androidçƒ­ä¿®å¤" data-v-06225672>Androidçƒ­ä¿®å¤</a></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/GitLqr" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>GitLqr</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2017-12-06</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">çƒ­ä¿®å¤ - Tinkerçš„é›†æˆä¸ä½¿ç”¨<!----></h1> <div class="page-slot page-slot-top"><!-- å›ºå®š100% * 90pxå¯æ˜¾ç¤ºï¼Œmax-height:90pxæœªè§æ˜¾ç¤º-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <center>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼š<a href="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/FSA_QR_bottom.png">[FSAå…¨æ ˆè¡ŒåŠ¨ ğŸ‘‹]</a><center>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h2 id="ä¸€ã€ç®€è¿°"><a href="#ä¸€ã€ç®€è¿°" class="header-anchor">#</a> ä¸€ã€ç®€è¿°</h2> <blockquote><p>Tinkeræ˜¯å¾®ä¿¡å®˜æ–¹çš„Androidçƒ­è¡¥ä¸è§£å†³æ–¹æ¡ˆï¼Œå®ƒæ”¯æŒåŠ¨æ€ä¸‹å‘ä»£ç ã€Soåº“ä»¥åŠèµ„æºï¼Œè®©åº”ç”¨èƒ½å¤Ÿåœ¨ä¸éœ€è¦é‡æ–°å®‰è£…çš„æƒ…å†µä¸‹å®ç°æ›´æ–°ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨Tinkeræ¥æ›´æ–°ä½ çš„æ’ä»¶ã€‚</p></blockquote> <p>ä¸Šé¢æ˜¯Tinkerå®˜æ–¹Wikiçš„åŸè¯ï¼Œæ„æ€å˜›ç›¸ä¿¡å¤§å®¶éƒ½çœ‹å¾—æ˜ç™½ï¼Œä½†æ³¨æ„å•¦ï¼Œå®ƒå¹¶æ²¡æœ‰è¯´Tinkerå¯ä»¥è®©è¡¥ä¸å®æ—¶ç”Ÿæ•ˆï¼ˆä¹Ÿå«æ— æ„ŸçŸ¥æ›´æ–°ï¼‰ï¼Œå®ƒå¿…é¡»åœ¨æ‰“ä¸Šè¡¥ä¸åé‡å¯Appï¼ˆé‡å¯è¿›ç¨‹ï¼‰ï¼Œè¡¥ä¸æ‰ä¼šå‘æŒ¥ä½œç”¨ï¼Œè¿™è·Ÿé˜¿é‡Œçš„çƒ­ä¿®å¤æ–¹æ¡ˆæœ‰ç€æœ¬è´¨çš„åŒºåˆ«ã€‚åœ¨å¼€å§‹é›†æˆTinkerä¹‹å‰ï¼Œæˆ‘ä»¬æœ‰å¿…è¦äº†è§£æ¸…æ¥šï¼ŒTinkeræœ‰é‚£äº›ä¸è¶³ï¼Œä¸‹é¢æ˜¯Tinkerçš„å·²çŸ¥é—®é¢˜ï¼š</p> <ol><li>Tinkerä¸æ”¯æŒä¿®æ”¹AndroidManifest.xmlï¼ŒTinkerä¸æ”¯æŒæ–°å¢å››å¤§ç»„ä»¶(1.9.0æ”¯æŒæ–°å¢éexportçš„Activity)ï¼›</li> <li>ç”±äºGoogle Playçš„å¼€å‘è€…æ¡æ¬¾é™åˆ¶ï¼Œä¸å»ºè®®åœ¨GPæ¸ é“åŠ¨æ€æ›´æ–°ä»£ç ï¼›</li> <li>åœ¨Android Nä¸Šï¼Œè¡¥ä¸å¯¹åº”ç”¨å¯åŠ¨æ—¶é—´æœ‰è½»å¾®çš„å½±å“ï¼›</li> <li>ä¸æ”¯æŒéƒ¨åˆ†ä¸‰æ˜Ÿandroid-21æœºå‹ï¼ŒåŠ è½½è¡¥ä¸æ—¶ä¼šä¸»åŠ¨æŠ›å‡º&quot;TinkerRuntimeException:checkDexInstall failed&quot;ï¼›</li> <li>å¯¹äºèµ„æºæ›¿æ¢ï¼Œä¸æ”¯æŒä¿®æ”¹remoteViewã€‚ä¾‹å¦‚transitionåŠ¨ç”»ï¼Œnotification iconä»¥åŠæ¡Œé¢å›¾æ ‡ã€‚</li></ol> <blockquote><p>ä¸Šè¿°ä¸è¶³æ˜¯ç”±äºåŸç†ä¸ç³»ç»Ÿé™åˆ¶ï¼Œæˆ‘ä»¬åœ¨ç¼–ç¨‹ä¸­è¦æ¸…æ¥šè¿™äº›ï¼Œå°½é‡é¿å…ä»¥ä¸Šé—®é¢˜çš„å‡ºç°ã€‚</p></blockquote> <p>å°½ç®¡Tinkeræœ‰ç€è¿™äº›â€œå°ç¼ºç‚¹â€ï¼Œä½†ä¹Ÿä¸æ¯«ä¸å½±å“Tinkeråœ¨å›½å†…ä¼—å¤šçƒ­ä¿®å¤æ–¹æ¡ˆä¸­çš„åœ°ä½ï¼Œä¸€æ–¹é¢Tinkeræ˜¯å¼€æºçš„ï¼ˆè¿™æ„å‘³ç€Tinkeræœ¬èº«å…è´¹ï¼‰ï¼Œå¦ä¸€æ–¹é¢åˆ™æ˜¯Tinkerå·²è¿è¡Œåœ¨å¾®ä¿¡çš„æ•°äº¿Androidè®¾å¤‡ä¸Šï¼ˆè¯´æ˜è¯¥æ–¹æ¡ˆç›¸å½“ç¨³å®šï¼‰ã€‚ä¸‹é¢å¼€å§‹è¿›è¡Œå¯¹Tinkerçš„é›†æˆä¸ä½¿ç”¨ã€‚</p> <h2 id="äºŒã€tinkerç»„ä»¶ä¾èµ–"><a href="#äºŒã€tinkerç»„ä»¶ä¾èµ–" class="header-anchor">#</a> äºŒã€Tinkerç»„ä»¶ä¾èµ–</h2> <h3 id="_1ã€åœ¨é¡¹ç›®çš„build-gradleä¸­"><a href="#_1ã€åœ¨é¡¹ç›®çš„build-gradleä¸­" class="header-anchor">#</a> 1ã€åœ¨é¡¹ç›®çš„build.gradleä¸­ï¼š</h3> <p>æ·»åŠ tinker-patch-gradle-pluginçš„ä¾èµ–</p> <div class="language- extra-class"><pre><code>buildscript {
	dependencies {
		classpath ('com.tencent.tinker:tinker-patch-gradle-plugin:1.9.1')
	}
}
</code></pre></div><h3 id="_2ã€åœ¨appçš„gradleæ–‡ä»¶-app-build-gradle-ä¸­"><a href="#_2ã€åœ¨appçš„gradleæ–‡ä»¶-app-build-gradle-ä¸­" class="header-anchor">#</a> 2ã€åœ¨appçš„gradleæ–‡ä»¶ï¼ˆapp/build.gradleï¼‰ä¸­ï¼š</h3> <blockquote><p>éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼ŒTinkeréœ€è¦ä½¿ç”¨åˆ°MulitDexï¼ŒåŸè¯åœ¨<a href="https://bugly.qq.com/docs/user-guide/api-hotfix/?v=20170504092424" target="_blank" rel="noopener noreferrer">Buglyæ–‡æ¡£çš„çƒ­æ›´æ–°APIæ¥å£éƒ¨åˆ†<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p></blockquote> <h4 id="_1-æ·»åŠ tinkerçš„åº“ä¾èµ–"><a href="#_1-æ·»åŠ tinkerçš„åº“ä¾èµ–" class="header-anchor">#</a> 1ï¼‰æ·»åŠ tinkerçš„åº“ä¾èµ–</h4> <p>Gradleç‰ˆæœ¬å°äº2.3çš„è¿™ä¹ˆå†™ï¼š</p> <div class="language- extra-class"><pre><code>dependencies {
	compile &quot;com.android.support:multidex:1.0.1&quot;
	//å¯é€‰ï¼Œç”¨äºç”Ÿæˆapplicationç±» 
	provided('com.tencent.tinker:tinker-android-anno:1.9.1')
	//tinkerçš„æ ¸å¿ƒåº“
	compile('com.tencent.tinker:tinker-android-lib:1.9.1') 
}
</code></pre></div><p>Gradleç‰ˆæœ¬å¤§ç­‰äº2.3çš„è¿™ä¹ˆå†™ï¼š</p> <div class="language- extra-class"><pre><code>dependencies {
    implementation &quot;com.android.support:multidex:1.0.1&quot;
    //tinkerçš„æ ¸å¿ƒåº“
    implementation(&quot;com.tencent.tinker:tinker-android-lib:1.9.1&quot;) { changing = true }
    //å¯é€‰ï¼Œç”¨äºç”Ÿæˆapplicationç±»
    annotationProcessor(&quot;com.tencent.tinker:tinker-android-anno:1.9.1&quot;) { changing = true }
    compileOnly(&quot;com.tencent.tinker:tinker-android-anno:1.9.1&quot;) { changing = true }
}
</code></pre></div><h4 id="_2-å¼€å¯multidex"><a href="#_2-å¼€å¯multidex" class="header-anchor">#</a> 2ï¼‰å¼€å¯multiDex</h4> <div class="language- extra-class"><pre><code>defaultConfig {
		...
        multiDexEnabled true
}
</code></pre></div><h4 id="_3-åº”ç”¨tinkerçš„gradleæ’ä»¶"><a href="#_3-åº”ç”¨tinkerçš„gradleæ’ä»¶" class="header-anchor">#</a> 3ï¼‰åº”ç”¨tinkerçš„gradleæ’ä»¶</h4> <p>è¿™éƒ¨åˆ†å¯å…ˆä¸ç®¡ï¼Œåœ¨ç¬¬ä¸‰éƒ¨åˆ†ã€ŠTinkerçš„é…ç½®åŠä»»åŠ¡ã€‹çš„ç¬¬2èŠ‚ã€Šé…ç½®Tinkerä¸ä»»åŠ¡ã€‹ä¸­ä¼šæ·»åŠ ã€‚å¯è·³è¿‡è¿™éƒ¨åˆ†ç»§ç»­å¾€ä¸‹çœ‹ã€‚</p> <div class="language- extra-class"><pre><code>//apply tinkeræ’ä»¶
apply plugin: 'com.tencent.tinker.patch
</code></pre></div><h2 id="ä¸‰ã€tinkerçš„é…ç½®åŠä»»åŠ¡"><a href="#ä¸‰ã€tinkerçš„é…ç½®åŠä»»åŠ¡" class="header-anchor">#</a> ä¸‰ã€Tinkerçš„é…ç½®åŠä»»åŠ¡</h2> <h3 id="_1ã€å¼€å¯æ”¯æŒå¤§å·¥ç¨‹æ¨¡å¼"><a href="#_1ã€å¼€å¯æ”¯æŒå¤§å·¥ç¨‹æ¨¡å¼" class="header-anchor">#</a> 1ã€å¼€å¯æ”¯æŒå¤§å·¥ç¨‹æ¨¡å¼</h3> <p>Tinkeræ–‡æ¡£ä¸­æ¨èå°†jumboModeè®¾ç½®ä¸ºtrueã€‚</p> <div class="language- extra-class"><pre><code>android {
    dexOptions {
        // æ”¯æŒå¤§å·¥ç¨‹æ¨¡å¼
        jumboMode = true
    }
	...
}
</code></pre></div><h3 id="_2ã€é…ç½®tinkerä¸ä»»åŠ¡"><a href="#_2ã€é…ç½®tinkerä¸ä»»åŠ¡" class="header-anchor">#</a> 2ã€é…ç½®Tinkerä¸ä»»åŠ¡</h3> <p>å°†ä¸‹é¢çš„é…ç½®å…¨éƒ¨å¤åˆ¶ç²˜è´´åˆ°appçš„gradleæ–‡ä»¶ï¼ˆapp/build.gradleï¼‰æœ«å°¾ï¼Œå†…å®¹å¾ˆå¤šï¼Œä½†ç°åœ¨åªéœ€è¦çœ‹æ‡‚bakPathä¸extæ‹¬å·å†…çš„ä¸œä¸œå°±å¥½äº†ã€‚</p> <div class="language- extra-class"><pre><code>// Tinkeré…ç½®ä¸ä»»åŠ¡
def bakPath = file(&quot;${buildDir}/bakApk/&quot;)
ext {
    // æ˜¯å¦ä½¿ç”¨Tinker(å½“ä½ çš„é¡¹ç›®å¤„äºå¼€å‘è°ƒè¯•é˜¶æ®µæ—¶ï¼Œå¯ä»¥æ”¹ä¸ºfalse)
    tinkerEnabled = true
    // åŸºç¡€åŒ…æ–‡ä»¶è·¯å¾„ï¼ˆåå­—è¿™é‡Œå†™æ­»ä¸ºold-app.apkã€‚ç”¨äºæ¯”è¾ƒæ–°æ—§appä»¥ç”Ÿæˆè¡¥ä¸åŒ…ï¼Œä¸ç®¡æ˜¯debugè¿˜æ˜¯releaseç¼–è¯‘ï¼‰
    tinkerOldApkPath = &quot;${bakPath}/old-app.apk&quot;
    // åŸºç¡€åŒ…çš„mapping.txtæ–‡ä»¶è·¯å¾„ï¼ˆç”¨äºè¾…åŠ©æ··æ·†è¡¥ä¸åŒ…çš„ç”Ÿæˆï¼Œä¸€èˆ¬åœ¨ç”Ÿæˆreleaseç‰ˆappæ—¶ä¼šä½¿ç”¨åˆ°æ··æ·†ï¼Œæ‰€ä»¥è¿™ä¸ªmapping.txtæ–‡ä»¶ä¸€èˆ¬åªæ˜¯ç”¨äºreleaseå®‰è£…åŒ…è¡¥ä¸çš„ç”Ÿæˆï¼‰
    tinkerApplyMappingPath = &quot;${bakPath}/old-app-mapping.txt&quot;
    // åŸºç¡€åŒ…çš„R.txtæ–‡ä»¶è·¯å¾„ï¼ˆå¦‚æœä½ çš„å®‰è£…åŒ…ä¸­èµ„æºæ–‡ä»¶æœ‰æ”¹åŠ¨ï¼Œåˆ™éœ€è¦ä½¿ç”¨è¯¥R.txtæ–‡ä»¶æ¥è¾…åŠ©ç”Ÿæˆè¡¥ä¸åŒ…ï¼‰
    tinkerApplyResourcePath = &quot;${bakPath}/old-app-R.txt&quot;
    //only use for build all flavor, if not, just ignore this field
    tinkerBuildFlavorDirectory = &quot;${bakPath}/flavor&quot;
}

def getOldApkPath() {
    return hasProperty(&quot;OLD_APK&quot;) ? OLD_APK : ext.tinkerOldApkPath
}

def getApplyMappingPath() {
    return hasProperty(&quot;APPLY_MAPPING&quot;) ? APPLY_MAPPING : ext.tinkerApplyMappingPath
}

def getApplyResourceMappingPath() {
    return hasProperty(&quot;APPLY_RESOURCE&quot;) ? APPLY_RESOURCE : ext.tinkerApplyResourcePath
}

def getTinkerIdValue() {
    return hasProperty(&quot;TINKER_ID&quot;) ? TINKER_ID : android.defaultConfig.versionName
}

def buildWithTinker() {
    return hasProperty(&quot;TINKER_ENABLE&quot;) ? TINKER_ENABLE : ext.tinkerEnabled
}

def getTinkerBuildFlavorDirectory() {
    return ext.tinkerBuildFlavorDirectory
}

if (buildWithTinker()) {
    //apply tinkeræ’ä»¶
    apply plugin: 'com.tencent.tinker.patch'

    // å…¨å±€ä¿¡æ¯ç›¸å…³çš„é…ç½®é¡¹
    tinkerPatch {
        tinkerEnable = buildWithTinker()// æ˜¯å¦æ‰“å¼€tinkerçš„åŠŸèƒ½ã€‚
        oldApk = getOldApkPath()        // åŸºå‡†apkåŒ…çš„è·¯å¾„ï¼Œå¿…é¡»è¾“å…¥ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚
        ignoreWarning = false           // æ˜¯å¦å¿½ç•¥æœ‰é£é™©çš„è¡¥ä¸åŒ…ã€‚è¿™é‡Œé€‰æ‹©ä¸å¿½ç•¥ï¼Œå½“è¡¥ä¸åŒ…é£é™©æ—¶ä¼šä¸­æ–­ç¼–è¯‘ã€‚
        useSign = true                  // åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦éªŒè¯åŸºå‡†apkåŒ…ä¸è¡¥ä¸åŒ…çš„ç­¾åæ˜¯å¦ä¸€è‡´ï¼Œæˆ‘ä»¬æ˜¯å¦éœ€è¦ä¸ºä½ ç­¾åã€‚
        // ç¼–è¯‘ç›¸å…³çš„é…ç½®é¡¹
        buildConfig {
            applyMapping = getApplyMappingPath()
            // å¯é€‰å‚æ•°ï¼›åœ¨ç¼–è¯‘æ–°çš„apkæ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡ä¿æŒæ—§apkçš„proguardæ··æ·†æ–¹å¼ï¼Œä»è€Œå‡å°‘è¡¥ä¸åŒ…çš„å¤§å°ã€‚è¿™ä¸ªåªæ˜¯æ¨èè®¾ç½®ï¼Œä¸è®¾ç½®applyMappingä¹Ÿä¸ä¼šå½±å“ä»»ä½•çš„assembleç¼–è¯‘ã€‚
            applyResourceMapping = getApplyResourceMappingPath()
            // å¯é€‰å‚æ•°ï¼›åœ¨ç¼–è¯‘æ–°çš„apkæ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡æ—§apkçš„R.txtæ–‡ä»¶ä¿æŒResIdçš„åˆ†é…ï¼Œè¿™æ ·ä¸ä»…å¯ä»¥å‡å°‘è¡¥ä¸åŒ…çš„å¤§å°ï¼ŒåŒæ—¶ä¹Ÿé¿å…ç”±äºResIdæ”¹å˜å¯¼è‡´remote viewå¼‚å¸¸ã€‚
            tinkerId = getTinkerIdValue()
            // åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦éªŒè¯åŸºå‡†apkåŒ…çš„tinkerIdæ˜¯å¦ç­‰äºè¡¥ä¸åŒ…çš„tinkerIdã€‚è¿™ä¸ªæ˜¯å†³å®šè¡¥ä¸åŒ…èƒ½è¿è¡Œåœ¨å“ªäº›åŸºå‡†åŒ…ä¸Šé¢ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬å¯ä»¥ä½¿ç”¨gitç‰ˆæœ¬å·ã€versionNameç­‰ç­‰ã€‚
            keepDexApply = false
            // å¦‚æœæˆ‘ä»¬æœ‰å¤šä¸ªdex,ç¼–è¯‘è¡¥ä¸æ—¶å¯èƒ½ä¼šç”±äºç±»çš„ç§»åŠ¨å¯¼è‡´å˜æ›´å¢å¤šã€‚è‹¥æ‰“å¼€keepDexApplyæ¨¡å¼ï¼Œè¡¥ä¸åŒ…å°†æ ¹æ®åŸºå‡†åŒ…çš„ç±»åˆ†å¸ƒæ¥ç¼–è¯‘ã€‚
            isProtectedApp = false // æ˜¯å¦ä½¿ç”¨åŠ å›ºæ¨¡å¼ï¼Œä»…ä»…å°†å˜æ›´çš„ç±»åˆæˆè¡¥ä¸ã€‚æ³¨æ„ï¼Œè¿™ç§æ¨¡å¼ä»…ä»…å¯ä»¥ç”¨äºåŠ å›ºåº”ç”¨ä¸­ã€‚
            supportHotplugComponent = false // æ˜¯å¦æ”¯æŒæ–°å¢éexportçš„Activityï¼ˆ1.9.0ç‰ˆæœ¬å¼€å§‹æ‰æœ‰çš„æ–°åŠŸèƒ½ï¼‰
        }
        // dexç›¸å…³çš„é…ç½®é¡¹
        dex {
            dexMode = &quot;jar&quot;
// åªèƒ½æ˜¯'raw'æˆ–è€…'jar'ã€‚ å¯¹äº'raw'æ¨¡å¼ï¼Œæˆ‘ä»¬å°†ä¼šä¿æŒè¾“å…¥dexçš„æ ¼å¼ã€‚å¯¹äº'jar'æ¨¡å¼ï¼Œæˆ‘ä»¬å°†ä¼šæŠŠè¾“å…¥dexé‡æ–°å‹ç¼©å°è£…åˆ°jarã€‚å¦‚æœä½ çš„minSdkVersionå°äº14ï¼Œä½ å¿…é¡»é€‰æ‹©â€˜jarâ€™æ¨¡å¼ï¼Œè€Œä¸”å®ƒæ›´çœå­˜å‚¨ç©ºé—´ï¼Œä½†æ˜¯éªŒè¯md5æ—¶æ¯”'raw'æ¨¡å¼è€—æ—¶ã€‚é»˜è®¤æˆ‘ä»¬å¹¶ä¸ä¼šå»æ ¡éªŒmd5,ä¸€èˆ¬æƒ…å†µä¸‹é€‰æ‹©jaræ¨¡å¼å³å¯ã€‚
            pattern = [&quot;classes*.dex&quot;,
                       &quot;assets/secondary-dex-?.jar&quot;]
            // éœ€è¦å¤„ç†dexè·¯å¾„ï¼Œæ”¯æŒ*ã€?é€šé…ç¬¦ï¼Œå¿…é¡»ä½¿ç”¨'/'åˆ†å‰²ã€‚è·¯å¾„æ˜¯ç›¸å¯¹å®‰è£…åŒ…çš„ï¼Œä¾‹å¦‚assets/...
            loader = [
                    // å®šä¹‰å“ªäº›ç±»åœ¨åŠ è½½è¡¥ä¸åŒ…çš„æ—¶å€™ä¼šç”¨åˆ°ã€‚è¿™äº›ç±»æ˜¯é€šè¿‡Tinkeræ— æ³•ä¿®æ”¹çš„ç±»ï¼Œä¹Ÿæ˜¯ä¸€å®šè¦æ”¾åœ¨main dexçš„ç±»ã€‚
                    // å¦‚æœä½ è‡ªå®šä¹‰äº†TinkerLoaderï¼Œéœ€è¦å°†å®ƒä»¥åŠå®ƒå¼•ç”¨çš„æ‰€æœ‰ç±»ä¹ŸåŠ å…¥loaderä¸­ï¼›
                    // å…¶ä»–ä¸€äº›ä½ ä¸å¸Œæœ›è¢«æ›´æ”¹çš„ç±»ï¼Œä¾‹å¦‚Sampleä¸­çš„BaseBuildInfoç±»ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›ç±»çš„ç›´æ¥å¼•ç”¨ç±»ä¹Ÿéœ€è¦åŠ å…¥åˆ°loaderä¸­ã€‚æˆ–è€…ä½ éœ€è¦å°†è¿™ä¸ªç±»å˜æˆépreverifyã€‚
            ]
        }
        // 	libç›¸å…³çš„é…ç½®é¡¹
        lib {
            pattern = [&quot;lib/*/*.so&quot;,&quot;src/main/jniLibs/*/*.so&quot;]
            // éœ€è¦å¤„ç†libè·¯å¾„ï¼Œæ”¯æŒ*ã€?é€šé…ç¬¦ï¼Œå¿…é¡»ä½¿ç”¨'/'åˆ†å‰²ã€‚ä¸dex.patternä¸€è‡´, è·¯å¾„æ˜¯ç›¸å¯¹å®‰è£…åŒ…çš„ï¼Œä¾‹å¦‚assets/...
        }
        // resç›¸å…³çš„é…ç½®é¡¹
        res {
            pattern = [&quot;res/*&quot;, &quot;assets/*&quot;, &quot;resources.arsc&quot;, &quot;AndroidManifest.xml&quot;]
            // éœ€è¦å¤„ç†resè·¯å¾„ï¼Œæ”¯æŒ*ã€?é€šé…ç¬¦ï¼Œå¿…é¡»ä½¿ç”¨'/'åˆ†å‰²ã€‚ä¸dex.patternä¸€è‡´, è·¯å¾„æ˜¯ç›¸å¯¹å®‰è£…åŒ…çš„ï¼Œä¾‹å¦‚assets/...ï¼ŒåŠ¡å¿…æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰æ»¡è¶³patternçš„èµ„æºæ‰ä¼šæ”¾åˆ°åˆæˆåçš„èµ„æºåŒ…ã€‚
            ignoreChange = [
                    // æ”¯æŒ*ã€?é€šé…ç¬¦ï¼Œå¿…é¡»ä½¿ç”¨'/'åˆ†å‰²ã€‚è‹¥æ»¡è¶³ignoreChangeçš„patternï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šå¿½ç•¥è¯¥æ–‡ä»¶çš„æ–°å¢ã€åˆ é™¤ä¸ä¿®æ”¹ã€‚ æœ€æç«¯çš„æƒ…å†µï¼ŒignoreChangeä¸ä¸Šé¢çš„patternä¸€è‡´ï¼Œå³ä¼šå®Œå…¨å¿½ç•¥æ‰€æœ‰èµ„æºçš„ä¿®æ”¹ã€‚
                    &quot;assets/sample_meta.txt&quot;
            ]
            largeModSize = 100
            // å¯¹äºä¿®æ”¹çš„èµ„æºï¼Œå¦‚æœå¤§äºlargeModSizeï¼Œæˆ‘ä»¬å°†ä½¿ç”¨bsdiffç®—æ³•ã€‚è¿™å¯ä»¥é™ä½è¡¥ä¸åŒ…çš„å¤§å°ï¼Œä½†æ˜¯ä¼šå¢åŠ åˆæˆæ—¶çš„å¤æ‚åº¦ã€‚é»˜è®¤å¤§å°ä¸º100kb
        }
        // ç”¨äºç”Ÿæˆè¡¥ä¸åŒ…ä¸­çš„'package_meta.txt'æ–‡ä»¶
        packageConfig {
            // configField(&quot;key&quot;, &quot;value&quot;), é»˜è®¤æˆ‘ä»¬è‡ªåŠ¨ä»åŸºå‡†å®‰è£…åŒ…ä¸æ–°å®‰è£…åŒ…çš„Manifestä¸­è¯»å–tinkerId,å¹¶è‡ªåŠ¨å†™å…¥configFieldã€‚
            // åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥å®šä¹‰å…¶ä»–çš„ä¿¡æ¯ï¼Œåœ¨è¿è¡Œæ—¶å¯ä»¥é€šè¿‡TinkerLoadResult.getPackageConfigByNameå¾—åˆ°ç›¸åº”çš„æ•°å€¼ã€‚
            // ä½†æ˜¯å»ºè®®ç›´æ¥é€šè¿‡ä¿®æ”¹ä»£ç æ¥å®ç°ï¼Œä¾‹å¦‚BuildConfigã€‚
            configField(&quot;platform&quot;, &quot;all&quot;)
            configField(&quot;patchVersion&quot;, &quot;1.0&quot;)
//            configField(&quot;patchMessage&quot;, &quot;tinker is sample to use&quot;)
        }
        // 7zipè·¯å¾„é…ç½®é¡¹ï¼Œæ‰§è¡Œå‰ææ˜¯useSignä¸ºtrue
        sevenZip {
            zipArtifact = &quot;com.tencent.mm:SevenZip:1.1.10&quot;
        }
    }
    List&lt;String&gt; flavors = new ArrayList&lt;&gt;();
    project.android.productFlavors.each { flavor -&gt;
        flavors.add(flavor.name)
    }
    boolean hasFlavors = flavors.size() &gt; 0
    def date = new Date().format(&quot;MMdd-HH-mm-ss&quot;)

    /**
     * bak apk and mapping
     */
    android.applicationVariants.all { variant -&gt;
        /**
         * task type, you want to bak
         */
        def taskName = variant.name

        tasks.all {
            if (&quot;assemble${taskName.capitalize()}&quot;.equalsIgnoreCase(it.name)) {

                it.doLast {
                    copy {
                        def fileNamePrefix = &quot;${project.name}-${variant.baseName}&quot;
                        def newFileNamePrefix = hasFlavors ? &quot;${fileNamePrefix}&quot; : &quot;${fileNamePrefix}-${date}&quot;

                        def destPath = hasFlavors ? file(&quot;${bakPath}/${project.name}-${date}/${variant.flavorName}&quot;) : bakPath
                        from variant.outputs.first().outputFile
                        into destPath
                        rename { String fileName -&gt;
                            fileName.replace(&quot;${fileNamePrefix}.apk&quot;, &quot;${newFileNamePrefix}.apk&quot;)
                        }

                        from &quot;${buildDir}/outputs/mapping/${variant.dirName}/mapping.txt&quot;
                        into destPath
                        rename { String fileName -&gt;
                            fileName.replace(&quot;mapping.txt&quot;, &quot;${newFileNamePrefix}-mapping.txt&quot;)
                        }

                        from &quot;${buildDir}/intermediates/symbols/${variant.dirName}/R.txt&quot;
                        into destPath
                        rename { String fileName -&gt;
                            fileName.replace(&quot;R.txt&quot;, &quot;${newFileNamePrefix}-R.txt&quot;)
                        }
                    }
                }
            }
        }
    }
    project.afterEvaluate {
        //sample use for build all flavor for one time
        if (hasFlavors) {
            task(tinkerPatchAllFlavorRelease) {
                group = 'tinker'
                def originOldPath = getTinkerBuildFlavorDirectory()
                for (String flavor : flavors) {
                    def tinkerTask = tasks.getByName(&quot;tinkerPatch${flavor.capitalize()}Release&quot;)
                    dependsOn tinkerTask
                    def preAssembleTask = tasks.getByName(&quot;process${flavor.capitalize()}ReleaseManifest&quot;)
                    preAssembleTask.doFirst {
                        String flavorName = preAssembleTask.name.substring(7, 8).toLowerCase() + preAssembleTask.name.substring(8, preAssembleTask.name.length() - 15)
                        project.tinkerPatch.oldApk = &quot;${originOldPath}/${flavorName}/${project.name}-${flavorName}-release.apk&quot;
                        project.tinkerPatch.buildConfig.applyMapping = &quot;${originOldPath}/${flavorName}/${project.name}-${flavorName}-release-mapping.txt&quot;
                        project.tinkerPatch.buildConfig.applyResourceMapping = &quot;${originOldPath}/${flavorName}/${project.name}-${flavorName}-release-R.txt&quot;

                    }

                }
            }

            task(tinkerPatchAllFlavorDebug) {
                group = 'tinker'
                def originOldPath = getTinkerBuildFlavorDirectory()
                for (String flavor : flavors) {
                    def tinkerTask = tasks.getByName(&quot;tinkerPatch${flavor.capitalize()}Debug&quot;)
                    dependsOn tinkerTask
                    def preAssembleTask = tasks.getByName(&quot;process${flavor.capitalize()}DebugManifest&quot;)
                    preAssembleTask.doFirst {
                        String flavorName = preAssembleTask.name.substring(7, 8).toLowerCase() + preAssembleTask.name.substring(8, preAssembleTask.name.length() - 13)
                        project.tinkerPatch.oldApk = &quot;${originOldPath}/${flavorName}/${project.name}-${flavorName}-debug.apk&quot;
                        project.tinkerPatch.buildConfig.applyMapping = &quot;${originOldPath}/${flavorName}/${project.name}-${flavorName}-debug-mapping.txt&quot;
                        project.tinkerPatch.buildConfig.applyResourceMapping = &quot;${originOldPath}/${flavorName}/${project.name}-${flavorName}-debug-R.txt&quot;
                    }

                }
            }
        }
    }
}
</code></pre></div><p>å…¶ä¸­ï¼Œæœ‰å‡ ç‚¹é…ç½®åœ¨è¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œæ–¹ä¾¿ç†è§£åç»­çš„æ“ä½œï¼ˆå½“tinkerEnabled = trueçš„æƒ…å†µä¸‹ï¼‰ï¼š</p> <ul><li>appçš„ç”Ÿæˆç›®å½•æ˜¯ï¼šä¸»Moduleï¼ˆä¸€èˆ¬æ˜¯åä¸ºappï¼‰/build/bakApkæ–‡ä»¶å¤¹ã€‚</li> <li>è¡¥ä¸åŒ…çš„ç”Ÿæˆè·¯å¾„ï¼šä¸»Moduleï¼ˆä¸€èˆ¬æ˜¯åä¸ºappï¼‰/build/outputs/apk/tinkerPatch/debug/patch_signed_7zip.apkã€‚</li> <li>åŸºç¡€åŒ…çš„åå­—ï¼šold-app.apkï¼Œæ”¾äºbakApkæ–‡ä»¶å¤¹ä¸‹ã€‚</li> <li>åŸºç¡€åŒ…çš„mapping.txtå’ŒR.txtæ–‡ä»¶ä¸€èˆ¬åœ¨ç¼–è¯‘releaseç­¾åçš„apkæ—¶æ‰ä¼šç”¨åˆ°ã€‚</li> <li>åœ¨ç”¨åˆ°mapping.txtæ–‡ä»¶æ—¶ï¼Œéœ€è¦é‡å‘½åä¸ºold-app-mapping.txtï¼Œæ”¾äºbakApkæ–‡ä»¶å¤¹ä¸‹ã€‚</li> <li>åœ¨ç”¨åˆ°R.txtæ–‡ä»¶æ—¶ï¼Œéœ€è¦é‡å‘½åä¸ºold-app-R.txtï¼Œæ”¾äºbakApkæ–‡ä»¶å¤¹ä¸‹ã€‚</li></ul> <blockquote><p>å¯¹äºmapping.txtå’ŒR.txtæ–‡ä»¶ï¼Œåœ¨é…ç½®ä¸­æœ‰è¯´æ˜ï¼Œè¯·å›é…ç½®ä¸­ä»”ç»†çœ‹ã€‚<br>
ä¸Šé¢åªæ˜¯æˆ‘é¡¹ç›®ä¸­çš„é…ç½®ï¼Œè¿™äº›å…¶å®éƒ½æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œå»ºè®®åœ¨ææ¸…æ¥šé…ç½®å†…å®¹ä¹‹åå†å»è‡ªå®šä¹‰ä¿®æ”¹ã€‚</p></blockquote> <h4 id="ä»€ä¹ˆæ˜¯åŸºç¡€åŒ…"><a href="#ä»€ä¹ˆæ˜¯åŸºç¡€åŒ…" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯åŸºç¡€åŒ…ï¼Ÿï¼Ÿ</h4> <p>åŸºç¡€åŒ…å°±æ˜¯å·²ç»ä¸Šæ¶çš„apkæ–‡ä»¶ï¼ˆå‡è®¾æ˜¯1.0ç‰ˆæœ¬ï¼‰ã€‚è¿™å…¶å®å¾ˆå¥½ç†è§£ï¼Œåœ¨æ–°ç‰ˆæœ¬çš„Appä¸Šæ¶ä¹‹å‰ï¼ˆå‡è®¾æ˜¯2.0ç‰ˆæœ¬ï¼‰ï¼Œæˆ‘ä»¬ä¼šç”¨åˆ°Tinkeræ¥ä¿®å¤1.0ç‰ˆAppä¸­å­˜åœ¨çš„bugï¼Œè¿™æ—¶å°±éœ€è¦ç”¨åˆ°Tinkeræ¥äº§ç”Ÿè¡¥ä¸åŒ…æ–‡ä»¶ï¼Œè€Œè¡¥ä¸åŒ…æ–‡ä»¶çš„æœ¬è´¨ï¼Œå°±æ˜¯ä¿®å¤å¥½Bugçš„Appä¸1.0ç‰ˆæœ¬Appä¹‹é—´çš„æ–‡ä»¶å·®å¼‚ã€‚åœ¨2.0ç‰ˆæœ¬ä¸Šæ¶ä¹‹å‰ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå¤šæ¬¡äº§ç”Ÿæ–°çš„è¡¥ä¸åŒ…ï¼Œç”¨äºä¿®å¤åœ¨ç”¨æˆ·æ‰‹æœºä¸Šçš„1.0ç‰ˆAppï¼Œæ‰€ä»¥è¡¥ä¸åŒ…å¿…é¡»ä»¥1.0ç‰ˆAppä½œä¸ºå‚è€ƒæ ‡å‡†ï¼Œä¹Ÿå°±æ˜¯è¯´ç”¨æˆ·æ‰‹æœºä¸Šçš„appå°±æ˜¯åŸºç¡€åŒ…ï¼Œå³å½“å‰åº”ç”¨å¸‚åœºä¸Šçš„apkæ–‡ä»¶ï¼ˆå‰é¢è¯´çš„1.0ç‰ˆæœ¬ï¼‰ã€‚</p> <h2 id="å››ã€tinkerå°è£…ä¸æ‹“å±•"><a href="#å››ã€tinkerå°è£…ä¸æ‹“å±•" class="header-anchor">#</a> å››ã€Tinkerå°è£…ä¸æ‹“å±•</h2> <h3 id="_1ã€æ‹·è´æ–‡ä»¶"><a href="#_1ã€æ‹·è´æ–‡ä»¶" class="header-anchor">#</a> 1ã€æ‹·è´æ–‡ä»¶</h3> <p>å°†Demoä¸­æä¾›çš„tinkeråŒ…ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠæ–‡ä»¶å¤¹éƒ½æ‹·è´åˆ°è‡ªå·±é¡¹ç›®ä¸­ã€‚</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235056.png" alt=""></p> <blockquote><p>è¿™äº›æ–‡ä»¶å…¶å®å°±æ˜¯Tinkerå®˜æ–¹Demoä¸­çš„æ–‡ä»¶å®Œå…¨å¤åˆ¶è¿‡æ¥çš„ï¼Œåªæ˜¯å¤šåŠ äº†ä¸€äº›æ³¨é‡Šã€‚</p></blockquote> <p>ç®€å•è¯´æ˜ä¸‹ï¼Œè¿™å‡ ä¸ªæ–‡ä»¶çš„ä½œç”¨ï¼š</p> <ul><li>SampleUncaughtExceptionHandlerï¼šTinkerçš„å…¨å±€å¼‚å¸¸æ•è·å™¨ã€‚</li> <li>MyLogImpï¼šTinkerçš„æ—¥å¿—è¾“å‡ºå®ç°ç±»ã€‚</li> <li>SampleLoadReporterï¼šåŠ è½½è¡¥ä¸æ—¶çš„ä¸€äº›å›è°ƒã€‚</li> <li>SamplePatchListenerï¼šè¿‡æ»¤Tinkeræ”¶åˆ°çš„è¡¥ä¸åŒ…çš„ä¿®å¤ã€å‡çº§è¯·æ±‚ã€‚</li> <li>SamplePatchReporterï¼šä¿®å¤æˆ–è€…å‡çº§è¡¥ä¸æ—¶çš„ä¸€äº›å›è°ƒã€‚</li> <li>SampleTinkerReportï¼šä¿®å¤ç»“æœï¼ˆæˆåŠŸã€å†²çªã€å¤±è´¥ç­‰ï¼‰ã€‚</li> <li>SampleResultServiceï¼š:patchè¡¥ä¸åˆæˆè¿›ç¨‹å°†åˆæˆç»“æœè¿”å›ç»™ä¸»è¿›ç¨‹çš„ç±»ã€‚</li> <li>TinkerManagerï¼šTinkerç®¡ç†å™¨ï¼ˆå®‰è£…ã€åˆå§‹åŒ–Tinkerï¼‰ã€‚</li> <li>TinkerUtilsï¼šæ‹“å±•è¡¥ä¸æ¡ä»¶åˆ¤å®šã€é”å±æˆ–åå°æ—¶åº”ç”¨é‡å¯åŠŸèƒ½çš„å·¥å…·ç±»ã€‚</li></ul> <blockquote><p>è¿™äº›åªæ˜¯å¯¹TinkeråŠŸèƒ½çš„æ‹“å±•å’Œå°è£…ç½¢äº†ï¼Œéƒ½æ˜¯å¯é€‰çš„ï¼Œä½†è¿™äº›æ–‡ä»¶å¯¹é¡¹ç›®çš„åŠŸèƒ½å®Œå–„ä¼šæœ‰æ‰€å¸®åŠ©ï¼Œå»ºè®®åŠ å…¥åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ã€‚<br>
å¦‚æœä½ ä»…ä»…åªæ˜¯ä¸ºäº†ä¿®å¤bugï¼Œè€Œä¸åšè¿‡å¤šçš„å·¥ä½œï¼ˆå¦‚ï¼šä¸Šä¼ æ‰“è¡¥ä¸ä¿¡æ¯åˆ°æœåŠ¡å™¨ç­‰ï¼‰ï¼Œåˆ™æ— é¡»ç†ä¼šè¿™äº›æ–‡ä»¶çš„ä½œç”¨ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±å°è£…ã€‚</p></blockquote> <p>å¯¹äºè¿™äº›è‡ªå®šä¹‰ç±»åŠé”™è¯¯ç çš„è¯¦ç»†è¯´æ˜ï¼Œè¯·å‚è€ƒï¼š<a href="https://github.com/Tencent/tinker/wiki/Tinker-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%89%A9%E5%B1%95#%E5%8F%AF%E9%80%89%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB" target="_blank" rel="noopener noreferrer">ã€ŒTinkerå®˜æ–¹Wikiï¼šå¯é€‰çš„è‡ªå®šä¹‰ç±»ã€<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h3 id="_2ã€æ¸…å•æ–‡ä»¶ä¸­æ·»åŠ æœåŠ¡"><a href="#_2ã€æ¸…å•æ–‡ä»¶ä¸­æ·»åŠ æœåŠ¡" class="header-anchor">#</a> 2ã€æ¸…å•æ–‡ä»¶ä¸­æ·»åŠ æœåŠ¡</h3> <p>å‰é¢æ·»åŠ çš„æ–‡ä»¶ä¸­ï¼Œæœ‰ä¸€ä¸ªSampleResultServiceæ–‡ä»¶ï¼Œæ˜¯å››å¤§ç»„ä»¶ä¹‹ä¸€ï¼Œæ‰€ä»¥å¿…é¡»åœ¨æ¸…å•æ–‡ä»¶ä¸­å£°æ˜ã€‚</p> <div class="language- extra-class"><pre><code>&lt;service
    android:name=&quot;com.lqr.tinker.service.SampleResultService&quot;
    android:exported=&quot;false&quot;/&gt;
</code></pre></div><h2 id="äº”ã€ç¼–å†™applicationçš„ä»£ç†ç±»"><a href="#äº”ã€ç¼–å†™applicationçš„ä»£ç†ç±»" class="header-anchor">#</a> äº”ã€ç¼–å†™Applicationçš„ä»£ç†ç±»</h2> <p>Tinkerè¡¨ç¤ºï¼ŒApplicationæ— æ³•åŠ¨æ€ä¿®å¤ï¼Œæ‰€ä»¥æœ‰ä¸¤ç§é€‰æ‹©ï¼š</p> <ol><li>ä½¿ç”¨ã€Œç»§æ‰¿TinkerApplication + DefaultApplicationLikeã€ã€‚</li> <li>ä½¿ç”¨ã€ŒDefaultLifeCycleæ³¨è§£ + DefaultApplicationLikeã€ã€‚</li></ol> <blockquote><p>å½“ç„¶ï¼Œå¦‚æœä½ è§‰å¾—ä½ è‡ªå®šä¹‰çš„Applicationä¸ä¼šç”¨åˆ°çƒ­ä¿®å¤ï¼Œå¯æ— è§†è¿™éƒ¨åˆ†ï¼›<br>
ä½†ä¸‹æ–¹ä»£ç ä¸­çš„initTinker()æ–¹æ³•è®°å¾—è¦æ‹·è´åˆ°ä½ é¡¹ç›®ä¸­ï¼Œç”¨äºåˆå§‹åŒ–Tinkerã€‚</p></blockquote> <p>ç¬¬1ç§æ–¹å¼æ„Ÿè§‰æ¯”è¾ƒé¸¡è‚‹ï¼Œè¿™é‡Œä½¿ç”¨ç¬¬2ç§(Tinkerå®˜æ–¹æ¨èçš„æ–¹å¼):ã€ŒDefaultLifeCycleæ³¨è§£ + TinkerApplicationLikeã€ï¼ŒDefaultLifeCycleæ³¨è§£ç”ŸæˆApplicationï¼Œä¸‹é¢å°±æ¥ç¼–å†™Applicationçš„ä»£ç†ç±»ï¼š</p> <h3 id="_1ã€ç¼–å†™tinkerapplicationlike"><a href="#_1ã€ç¼–å†™tinkerapplicationlike" class="header-anchor">#</a> 1ã€ç¼–å†™TinkerApplicationLike</h3> <p>å°†ä¸‹æ–¹çš„ä»£ç æ‹·è´åˆ°é¡¹ç›®ä¸­ï¼Œæ³¨é‡Šç®€å•æ˜äº†ï¼Œä¸å¤šè§£é‡Šï¼š</p> <div class="language- extra-class"><pre><code>@SuppressWarnings(&quot;unused&quot;)
@DefaultLifeCycle(application = &quot;com.lqr.tinker.MyApplication&quot;,// applicationç±»åã€‚åªèƒ½ç”¨å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªMyApplicationæ–‡ä»¶æ˜¯ä¸å­˜åœ¨çš„ï¼Œä½†å¯ä»¥åœ¨AndroidManifest.xmlçš„applicationæ ‡ç­¾ä¸Šä½¿ç”¨ï¼ˆnameï¼‰
        flags = ShareConstants.TINKER_ENABLE_ALL,// tinkerFlags
        loaderClass = &quot;com.tencent.tinker.loader.TinkerLoader&quot;,//loaderClassName, æˆ‘ä»¬è¿™é‡Œä½¿ç”¨é»˜è®¤å³å¯!ï¼ˆå¯ä¸å†™ï¼‰
        loadVerifyFlag = false)//tinkerLoadVerifyFlag
public class TinkerApplicationLike extends DefaultApplicationLike {

    private Application mApplication;
    private Context mContext;
    private Tinker mTinker;

    // å›ºå®šå†™æ³•
    public TinkerApplicationLike(Application application, int tinkerFlags, boolean tinkerLoadVerifyFlag, long applicationStartElapsedTime, long applicationStartMillisTime, Intent tinkerResultIntent) {
        super(application, tinkerFlags, tinkerLoadVerifyFlag, applicationStartElapsedTime, applicationStartMillisTime, tinkerResultIntent);
    }

    // å›ºå®šå†™æ³•
    @TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)
    public void registerActivityLifecycleCallbacks(Application.ActivityLifecycleCallbacks callback) {
        getApplication().registerActivityLifecycleCallbacks(callback);
    }

    @TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)
    @Override
    public void onBaseContextAttached(Context base) {
        super.onBaseContextAttached(base);
        mApplication = getApplication();
        mContext = getApplication();
        initTinker(base);
        // å¯ä»¥å°†ä¹‹å‰è‡ªå®šä¹‰çš„Applicationä¸­onCreate()æ–¹æ³•æ‰€æ‰§è¡Œçš„æ“ä½œæ¬åˆ°è¿™é‡Œ...
    }

    private void initTinker(Context base) {
        // tinkeréœ€è¦ä½ å¼€å¯MultiDex
        MultiDex.install(base);

        TinkerManager.setTinkerApplicationLike(this);
        // è®¾ç½®å…¨å±€å¼‚å¸¸æ•è·
        TinkerManager.initFastCrashProtect();
        //å¼€å¯å‡çº§é‡è¯•åŠŸèƒ½ï¼ˆåœ¨å®‰è£…Tinkerä¹‹å‰è®¾ç½®ï¼‰
        TinkerManager.setUpgradeRetryEnable(true);
        //è®¾ç½®Tinkeræ—¥å¿—è¾“å‡ºç±»
        TinkerInstaller.setLogIml(new MyLogImp());
        //å®‰è£…Tinker(åœ¨åŠ è½½å®ŒmultiDexä¹‹åï¼Œå¦åˆ™ä½ éœ€è¦å°†com.tencent.tinker.**æ‰‹åŠ¨æ”¾åˆ°main dexä¸­)
        TinkerManager.installTinker(this);
        mTinker = Tinker.with(getApplication());
    }

}
</code></pre></div><h3 id="_2ã€æ¬è¿è‡ªå®šä¹‰applicationä¸­çš„æ“ä½œ"><a href="#_2ã€æ¬è¿è‡ªå®šä¹‰applicationä¸­çš„æ“ä½œ" class="header-anchor">#</a> 2ã€æ¬è¿è‡ªå®šä¹‰Applicationä¸­çš„æ“ä½œ</h3> <p>æŠŠé¡¹ç›®ä¸­åœ¨è‡ªå®šä¹‰Applicationçš„æ“ä½œç§»åˆ°TinkerApplicationLikeçš„onCreate()æˆ–onBaseContextAttached()æ–¹æ³•ä¸­ã€‚</p> <div class="language- extra-class"><pre><code>public class TinkerApplicationLike extends DefaultApplicationLike {
	...
    @Override
    public void onCreate() {
        super.onCreate();
		// å°†ä¹‹å‰è‡ªå®šä¹‰çš„Applicationä¸­onCreate()æ–¹æ³•æ‰€æ‰§è¡Œçš„æ“ä½œæ¬åˆ°è¿™é‡Œ...
    }

    @TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)
    @Override
    public void onBaseContextAttached(Context base) {
        super.onBaseContextAttached(base);
        mApplication = getApplication();
        mContext = getApplication();
        initTinker(base);
        // æˆ–æ¬åˆ°è¿™é‡Œ...
    }
}
</code></pre></div><h3 id="_3ã€æ¸…å•æ–‡ä»¶ä¸­æ³¨å†Œ"><a href="#_3ã€æ¸…å•æ–‡ä»¶ä¸­æ³¨å†Œ" class="header-anchor">#</a> 3ã€æ¸…å•æ–‡ä»¶ä¸­æ³¨å†Œ</h3> <p>å°†@DefaultLifeCycleä¸­applicationå¯¹åº”çš„å€¼ï¼Œå³&quot;com.lqr.tinker.MyApplication&quot;ï¼Œèµ‹å€¼ç»™æ¸…å•æ–‡ä»¶çš„applicationæ ‡ç­¾çš„nameå±æ€§ï¼Œå¦‚ä¸‹ï¼š</p> <div class="language- extra-class"><pre><code>&lt;application
    android:name=&quot;com.lqr.tinker.MyApplication&quot;
    android:allowBackup=&quot;true&quot;
    android:icon=&quot;@mipmap/ic_launcher&quot;
    android:label=&quot;@string/app_name&quot;
    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;
    android:supportsRtl=&quot;true&quot;
    android:theme=&quot;@style/AppTheme&quot;&gt;
    ...
&lt;/application&gt;
</code></pre></div><blockquote><p>æ³¨æ„ï¼š<br>
æ­¤æ—¶nameå±æ€§ä¼šæŠ¥çº¢ï¼Œå› ä¸ºé¡¹ç›®æºç ä¸­æ ¹æœ¬ä¸å­˜åœ¨MyApplication.javaæ–‡ä»¶ï¼Œä½†ä¸å¿…æ‹…å¿ƒï¼Œå› ä¸ºå®ƒæ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼ŒBuildä¸€ä¸‹é¡¹ç›®å°±å¥½äº†ï¼Œä¸ç®¡å®ƒä¹Ÿæ— æ‰€è°“ã€‚</p></blockquote> <p>å¯¹äºApplicationä»£ç†ç±»çš„è¯¦ç»†è¯´æ˜ï¼Œè¯·å‚è€ƒï¼š<a href="https://github.com/Tencent/tinker/wiki/Tinker-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%89%A9%E5%B1%95#%E8%87%AA%E5%AE%9A%E4%B9%89application%E7%B1%BB" target="_blank" rel="noopener noreferrer">ã€ŒTinkerå®˜æ–¹Wikiï¼šApplicationä»£ç†ç±»ã€<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <blockquote><p>åˆ°è¿™é‡Œå°±å·²ç»é›†æˆå¥½Tinkeräº†ï¼Œä½†åªæ˜¯æœ¬åœ°é›†æˆè€Œå·²ï¼ŒæœåŠ¡ç«¯ä¸‹å‘è¡¥ä¸åŒ…åˆ°appçš„æ–‡ç« ä¹‹åä¼šé™†ç»­å‘å¸ƒæ›´æ–°ã€‚</p></blockquote> <h2 id="å…­ã€å¸¸ç”¨api"><a href="#å…­ã€å¸¸ç”¨api" class="header-anchor">#</a> å…­ã€å¸¸ç”¨API</h2> <p>ç°åœ¨æ¥äº†è§£ä¸‹ä»£ç ä¸­ä¼šç”¨åˆ°çš„å‡ ä¸ªTinkerçš„é‡è¦APIã€‚</p> <h4 id="_1ã€è¯·æ±‚æ‰“è¡¥ä¸"><a href="#_1ã€è¯·æ±‚æ‰“è¡¥ä¸" class="header-anchor">#</a> 1ã€è¯·æ±‚æ‰“è¡¥ä¸</h4> <div class="language- extra-class"><pre><code>TinkerInstaller.onReceiveUpgradePatch(context, è¡¥ä¸åŒ…çš„æœ¬åœ°è·¯å¾„);
</code></pre></div><h4 id="_2ã€å¸è½½è¡¥ä¸"><a href="#_2ã€å¸è½½è¡¥ä¸" class="header-anchor">#</a> 2ã€å¸è½½è¡¥ä¸</h4> <div class="language- extra-class"><pre><code>Tinker.with(getApplicationContext()).cleanPatch();// å¸è½½æ‰€æœ‰çš„è¡¥ä¸
Tinker.with(getApplicationContext()).cleanPatchByVersion(ç‰ˆæœ¬å·)// å¸è½½æŒ‡å®šç‰ˆæœ¬çš„è¡¥ä¸
</code></pre></div><h4 id="_3ã€æ€æ­»åº”ç”¨çš„å…¶ä»–è¿›ç¨‹"><a href="#_3ã€æ€æ­»åº”ç”¨çš„å…¶ä»–è¿›ç¨‹" class="header-anchor">#</a> 3ã€æ€æ­»åº”ç”¨çš„å…¶ä»–è¿›ç¨‹</h4> <div class="language- extra-class"><pre><code>ShareTinkerInternals.killAllOtherProcess(getApplicationContext());
</code></pre></div><h4 id="_4ã€hackæ–¹å¼ä¿®å¤so"><a href="#_4ã€hackæ–¹å¼ä¿®å¤so" class="header-anchor">#</a> 4ã€Hackæ–¹å¼ä¿®å¤so</h4> <div class="language- extra-class"><pre><code>TinkerLoadLibrary.installNavitveLibraryABI(this, abi);
</code></pre></div><blockquote><p>abiï¼šcpuæ¶æ„ç±»å‹</p></blockquote> <h4 id="_5ã€éhackæ–¹å¼ä¿®å¤so"><a href="#_5ã€éhackæ–¹å¼ä¿®å¤so" class="header-anchor">#</a> 5ã€éHackæ–¹å¼ä¿®å¤so</h4> <div class="language- extra-class"><pre><code>TinkerLoadLibrary.loadLibraryFromTinker(getApplicationContext(), &quot;lib/&quot; + abi, soåº“çš„æ¨¡å—å); // åŠ è½½ä»»æ„abiåº“
TinkerLoadLibrary.loadArmLibrary(getApplicationContext(), soåº“çš„æ¨¡å—å); // åªé€‚ç”¨äºåŠ è½½armeabiåº“
TinkerLoadLibrary.loadArmV7Library(getApplicationContext(), soåº“çš„æ¨¡å—å); // åªé€‚ç”¨äºåŠ è½½armeabi-v7aåº“ 
</code></pre></div><blockquote><p>loadArmLibrary()ä¸loadArmV7Library()æœ¬è´¨æ˜¯è°ƒç”¨äº†loadLibraryFromTinker()ï¼Œæœ‰å…´è¶£çš„å¯ä»¥æŸ¥çœ‹ä¸‹æºç ã€‚</p></blockquote> <p>å¯¹äºTinkeræ‰€æœ‰APIçš„è¯¦ç»†è¯´æ˜ï¼Œè¯·å‚è€ƒï¼š<a href="https://github.com/Tencent/tinker/wiki/Tinker-API%E6%A6%82%E8%A7%88" target="_blank" rel="noopener noreferrer">ã€ŒTinkerå®˜æ–¹Wikiï¼šTinker-APIæ¦‚è§ˆã€<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h2 id="ä¸ƒã€æµ‹è¯•"><a href="#ä¸ƒã€æµ‹è¯•" class="header-anchor">#</a> ä¸ƒã€æµ‹è¯•</h2> <p>å› ä¸ºå¸ƒå±€ç®€å•ä¸”ä¸æ˜¯é‡ç‚¹ï¼Œè¿™é‡Œå°±ç»™å‡ºä¸€å¼ Demoçš„è¿è¡Œå›¾ç‰‡ï¼Œå‰©ä¸‹çš„å°±é æƒ³åƒäº†ã€‚</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235117.png" alt=""></p> <h3 id="_1ã€ç¼–è¯‘åŸºç¡€åŒ…"><a href="#_1ã€ç¼–è¯‘åŸºç¡€åŒ…" class="header-anchor">#</a> 1ã€ç¼–è¯‘åŸºç¡€åŒ…</h3> <p>æ²¡æœ‰åŸºç¡€åŒ…ï¼Œé‚£è¦è¡¥ä¸æœ‰ä»€ä¹ˆç”¨ï¼Ÿæ‰€ä»¥ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯æ‰“åŒ…ä¸€ä¸ªapkã€‚</p> <p>åœ¨Terminalä¸­ä½¿ç”¨å‘½ä»¤è¡Œ./gradlew assembleDebugã€‚ä¸ä¼šå‘½ä»¤è¡Œæ— æ‰€è°“ï¼ŒAndroid Studioä¸ºæˆ‘ä»¬æä¾›äº†å›¾å½¢åŒ–æ“ä½œï¼Œæ ¹æ®ä¸‹å›¾æ“ä½œå³å¯ï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235137.png" alt=""></p> <blockquote><p>å¦‚æœä½ æ˜¯è¦releaseç­¾åçš„æ‰“åŒ…ï¼Œåˆ™åŒå‡»assembleReleaseï¼Œä¸è¿‡è¿˜è¦é…ç½®ç­¾åæ–‡ä»¶ï¼Œè¿™ä¸ªåé¢å†è¯´ã€‚</p></blockquote> <p>ç¼–è¯‘å®Œæˆåï¼Œå¯ä»¥åœ¨buildç›®å½•ä¸‹ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªbakApkæ–‡ä»¶å¤¹ï¼Œé‡Œé¢å°±æœ‰æ‰“åŒ…å¥½çš„apkæ–‡ä»¶ï¼Œå› ä¸ºä¹‹åçš„æ‰€æœ‰ç”Ÿæˆçš„è¡¥ä¸åŒ…éƒ½ä»¥è¿™ä¸ªapkä¼šæ ‡å‡†ï¼Œæ‰€ä»¥è¿™å°±æ˜¯é‚£ä¸ªåŸºç¡€åŒ…æ–‡ä»¶ï¼ˆç›¸å½“äºåº”ç”¨å¸‚åœºä¸Šçš„appï¼‰ã€‚</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235157.png" alt=""></p> <blockquote><p>å¦‚æœè¿™ä¸ªapkæ–‡ä»¶æ˜¯releaseç­¾åä¸”æ˜¯è¦æ”¾åˆ°åº”ç”¨å¸‚åœºä¸Šçš„ï¼Œé‚£ä¹ˆä½ å¿…é¡»å°†apkä¸R.txtï¼ˆå¦‚æœæœ‰ä½¿ç”¨æ··æ·†çš„è¯ï¼Œè¿˜ä¼šæœ‰ä¸€ä¸ªmapping.txtï¼‰è¿™å‡ ä¸ªæ–‡ä»¶ä¿å­˜å¥½ï¼Œåˆ‡è®°ã€‚</p></blockquote> <p>ç°åœ¨å°±æŠŠè¿™ä¸ªtinker-local-debug-1206-11-48-42.apkå®‰è£…åˆ°æ‰‹æœºä¸Šï¼ˆç›¸å½“äºæ˜¯ç”¨æˆ·æ‰‹æœºä¸Šçš„appï¼‰ã€‚</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235229.gif" alt=""></p> <ol><li>ç‚¹å‡»&quot;say someting&quot;æŒ‰é’®åå¸&quot;Hello&quot;ã€‚</li> <li>ç‚¹å‡»&quot;get string from .so&quot;æŒ‰é’®åå¸&quot;hello LQR&quot;ã€‚</li> <li>ç‚¹å‡»&quot;show info&quot;æŒ‰é’®æ˜¾ç¤º&quot;patch is not loaded&quot;ï¼Œè¯´æ˜å½“å‰æ²¡æœ‰åŠ è½½è¡¥ä¸ã€‚</li></ol> <h3 id="_1ã€ä¿®å¤javaä»£ç "><a href="#_1ã€ä¿®å¤javaä»£ç " class="header-anchor">#</a> 1ã€ä¿®å¤javaä»£ç </h3> <p>ä¸‹é¢æ˜¯&quot;say someting&quot;æŒ‰é’®ç‚¹å‡»æ—¶ï¼Œè°ƒç”¨çš„æ–¹æ³•ï¼Œä½¿ç”¨Toastæ˜¾ç¤ºHelloå­—ç¬¦ä¸²ï¼š</p> <div class="language- extra-class"><pre><code>public void say(View view) {
    Toast.makeText(getApplicationContext(), &quot;Hello&quot;, Toast.LENGTH_SHORT).show();
}
</code></pre></div><h4 id="_1-ä¿®å¤ä»£ç "><a href="#_1-ä¿®å¤ä»£ç " class="header-anchor">#</a> 1ï¼‰ä¿®å¤ä»£ç </h4> <p>ç°åœ¨æˆ‘æƒ³è®©å®ƒåå¸Hello Worldï¼Œæ‰€ä»¥ä»£ç ä¿®æ”¹ä¸ºï¼š</p> <div class="language- extra-class"><pre><code>public void say(View view) {
    Toast.makeText(getApplicationContext(), &quot;Hello World&quot;, Toast.LENGTH_SHORT).show();
}
</code></pre></div><h4 id="_2-åˆ¶ä½œè¡¥ä¸åŒ…"><a href="#_2-åˆ¶ä½œè¡¥ä¸åŒ…" class="header-anchor">#</a> 2ï¼‰åˆ¶ä½œè¡¥ä¸åŒ…</h4> <p>å…ˆå°†åŸºç¡€åŒ…ï¼ˆå‰é¢é‚£ä¸ªtinker-local-debug-1206-11-48-42.apkæ–‡ä»¶ï¼‰é‡å‘½åä¸ºold-app.apkï¼Œç„¶ååŒå‡»tinkerPatchDebugï¼Œæ“ä½œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235250.png" alt=""></p> <p>ç¼–è¯‘å®Œæˆåï¼Œbuild/outputs/apk/tinkerPatchä¼šäº§ç”Ÿ3ä¸ªè¡¥ä¸åŒ…ï¼Œæˆ‘ä»¬è¦çš„å°±æ˜¯patch_signed_7zip.apkã€‚</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235304.png" alt=""></p> <p>å¯¹äºbuild/outputs/apk/tinkerPatchç›®å½•ä¸‹æ–‡ä»¶åŠæ–‡ä»¶å¤¹çš„è¯¦ç»†è¯´æ˜ï¼Œè¯·å‚è€ƒï¼š<a href="https://github.com/Tencent/tinker/wiki/Tinker-%E6%8E%A5%E5%85%A5%E6%8C%87%E5%8D%97#%E8%BE%93%E5%87%BA%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3" target="_blank" rel="noopener noreferrer">ã€ŒTinkerå®˜æ–¹Wikiï¼šè¾“å‡ºæ–‡ä»¶è¯¦è§£ã€<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h4 id="_3-ä¸‹å‘è¡¥ä¸åŒ…"><a href="#_3-ä¸‹å‘è¡¥ä¸åŒ…" class="header-anchor">#</a> 3ï¼‰ä¸‹å‘è¡¥ä¸åŒ…</h4> <p>å°†patch_signed_7zip.apkæ”¾åˆ°æ‰‹æœºçš„SDå¡ç›®å½•ä¸‹ï¼š</p> <blockquote><p>ä¸ä¸€å®šæ˜¯SDå¡ç›®å½•ï¼Œä½ç½®ç”±æˆ‘ä»¬å¼€å‘è€…å†³å®šï¼ŒDemoä¸­è°ƒç”¨TinkerInstaller.onReceiveUpgradePatch(context, è¡¥ä¸åŒ…çš„æœ¬åœ°è·¯å¾„)æ–¹æ³•æ—¶ï¼Œç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šäº†æ˜¯SDå¡ï¼Œæ•…å¦‚æ­¤æ“ä½œã€‚</p></blockquote> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235325.png" alt=""></p> <h4 id="_4-æ‰“è¡¥ä¸"><a href="#_4-æ‰“è¡¥ä¸" class="header-anchor">#</a> 4ï¼‰æ‰“è¡¥ä¸</h4> <p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨install patchä¹‹å‰ï¼Œç‚¹å‡»&quot;say someting&quot;æŒ‰é’®æ—¶ï¼Œè¿˜æ˜¯åå¸&quot;Hello&quot;ã€‚
ç‚¹å‡»&quot;install patch&quot;æŒ‰é’®åï¼Œä¼šæç¤º&quot;patch success,please restart process&quot;ï¼Œè¯´æ˜Tinkerå·²ç»æ‰“ä¸Šè¡¥ä¸äº†ã€‚
è¿™æ—¶ç‚¹å‡»&quot;show info&quot;ï¼Œå¯ä»¥çœ‹åˆ°&quot;patch is not loaded&quot;ï¼Œè¯´æ˜å½“å‰è¡¥ä¸è¿˜æ²¡æœ‰ç”Ÿæ•ˆã€‚
æœ€åï¼Œç‚¹å‡»&quot;kill myself&quot;æŒ‰é’®ï¼Œæ€æ­»å½“å‰appï¼ˆè¿›ç¨‹ï¼‰ã€‚</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20210320170901/image/20210105235353.gif" alt=""></p> <p>åœ¨é‡æ–°æ‰“å¼€appï¼Œå†ç‚¹å‡»&quot;say someting&quot;æŒ‰é’®ï¼Œåå¸&quot;Hello World&quot;ã€‚
å†ç‚¹å‡»&quot;show info&quot;ï¼Œå¯ä»¥çœ‹åˆ°&quot;patch is loaded&quot;ï¼Œè¯´æ˜appé‡å¯åè¡¥ä¸ç”Ÿæ•ˆäº†ã€‚</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource20210320170901/image/20210105235423.gif" alt=""></p> <blockquote><p>å°ç»“ï¼š<br>
Tinkerçƒ­ä¿®å¤æ— æ³•è®©è¡¥ä¸å®æ—¶ç”Ÿæ•ˆï¼Œåœ¨é‡å¯è¿›ç¨‹åï¼Œè¡¥ä¸æ‰ä¼šç”Ÿæ•ˆã€‚<br>
Tinkerä¼šåœ¨appé‡å¯åè‡ªåŠ¨åº”ç”¨è¡¥ä¸ã€‚</p></blockquote> <h3 id="_2ã€ä¿®å¤soåº“"><a href="#_2ã€ä¿®å¤soåº“" class="header-anchor">#</a> 2ã€ä¿®å¤soåº“</h3> <p>åœ¨ä¸€å¼€å§‹åˆ¶ä½œåŸºç¡€åŒ…æ—¶ï¼Œå·¥ç¨‹ä¸­å°±å·²ç»åŠ å…¥äº†ä¸€äº›soæ–‡ä»¶ï¼Œå­˜æ”¾åœ¨src/main/jniLibsç›®å½•ä¸‹ï¼Œå› ä¸ºAndroid Studioé»˜è®¤çš„åº“ç›®å½•æ˜¯libsï¼ˆä¸srcåŒçº§ï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦åœ¨appçš„build.gradleæ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼ŒæŒ‡å®šsoåº“æ‰€åœ¨æ–‡ä»¶å¤¹ã€‚</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235440.png" alt=""></p> <p>ä¸‹é¢æ˜¯&quot;get string from .so&quot;æŒ‰é’®ç‚¹å‡»æ—¶è°ƒç”¨çš„æ–¹æ³•ï¼š</p> <div class="language- extra-class"><pre><code>public void string_from_so(View view) {
    String string = JniUtil.hello();
    Toast.makeText(getApplicationContext(), string, Toast.LENGTH_SHORT).show();
}
</code></pre></div><p>è¿™ä¸ªJniUtilçš„ä»£ç å¦‚ä¸‹ï¼š</p> <div class="language- extra-class"><pre><code>public class JniUtil {
    public static String LIB_NAME = &quot;LQRJni&quot;;
    public JniUtil() {}
    static {
        System.loadLibrary(LIB_NAME);
    }
    public static native String hello();
}
</code></pre></div><p>åŠ è½½soåº“æœ‰2ç‚¹éœ€è¦æ³¨æ„ï¼š</p> <ol><li>System.loadLibrary(libname)åŠ è½½å›ºå®šç›®å½•ä¸‹çš„åº“æ–‡ä»¶ï¼Œè€ŒSystem.load(filename)åŠ è½½æŒ‡å®šç›®å½•ä¸‹çš„åº“æ–‡ä»¶ã€‚</li> <li>System.loadLibrary(libname)çš„å‚æ•°libnameæŒ‡çš„æ˜¯åº“çš„æ¨¡å—åï¼Œä¸æ˜¯soæ–‡ä»¶çš„åå­—ï¼Œå¦‚libLQRJni.soæ–‡ä»¶çš„æ¨¡å—åå®é™…ä¸Šæ˜¯LQRJniã€‚</li></ol> <blockquote><p>soæ–‡ä»¶çš„åˆ¶ä½œä»£ç åŒ…å«åœ¨Demoä¸­ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å°è¯•è‡ªå·±åˆ¶ä½œã€‚</p></blockquote> <h4 id="_1-æ›¿æ¢soæ–‡ä»¶"><a href="#_1-æ›¿æ¢soæ–‡ä»¶" class="header-anchor">#</a> 1ï¼‰æ›¿æ¢soæ–‡ä»¶</h4> <p>å›å½’æ­£é¢˜ï¼Œç°åœ¨soåº“ä¸­å¾—åˆ°çš„æ–‡å­—æ˜¯&quot;Hello LQR&quot;ï¼Œç°åœ¨å˜ä¸€ä¸‹ï¼Œæˆ‘éœ€è¦å¾—åˆ°çš„æ–‡å­—æ˜¯&quot;Hello CSDN_LQR&quot;ï¼Œå°†æ–°çš„soæ–‡ä»¶æ›¿æ¢æ‰æ—§çš„soæ–‡ä»¶å³å¯ã€‚</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235452.png" alt=""></p> <h4 id="_2-æ£€æŸ¥tinkerçš„libåŒ¹é…è§„åˆ™"><a href="#_2-æ£€æŸ¥tinkerçš„libåŒ¹é…è§„åˆ™" class="header-anchor">#</a> 2ï¼‰æ£€æŸ¥Tinkerçš„libåŒ¹é…è§„åˆ™</h4> <p>åœ¨appçš„build.gradleæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å‰é¢åœ¨ç¬¬ä¸‰éƒ¨åˆ†ã€ŠTinkerçš„é…ç½®åŠä»»åŠ¡ã€‹çš„ç¬¬2èŠ‚ã€Šé…ç½®Tinkerä¸ä»»åŠ¡ã€‹ä¸­ï¼Œæœ‰å¦‚ä¸‹ä¸€æ®µé…ç½®ï¼š</p> <div class="language- extra-class"><pre><code>lib {
    pattern = [&quot;lib/*/*.so&quot;, &quot;src/main/jniLibs/*/*.so&quot;]
}
</code></pre></div><p>è¿™å°±æ˜¯Tinkerçš„libåŒ¹é…è§„åˆ™ï¼Œåœ¨ç”Ÿæˆè¡¥ä¸çš„è¿‡ç¨‹ä¸­ï¼Œå®ƒä¼šå»æŠŠç¬¦åˆè¿™ä¸ªè§„åˆ™çš„åº“æ–‡ä»¶æ‹¿å‡ºæ¥ä¸åŸºç¡€åŒ…ä¸­çš„åº“æ–‡ä»¶è¿›è¡ŒåŒ¹é…ï¼Œä»è€Œå°†æœ‰å·®å¼‚çš„åº“æ–‡ä»¶æ”¾å…¥åˆ°è¡¥ä¸åŒ…ä¸­ã€‚è€ŒTinkerå®˜æ–¹Demoçš„é…ç½®ä¸­æ˜¯æ²¡æœ‰&quot;src/main/jniLibs/*/*.so&quot;è¿™ä¸€æ®µçš„ï¼Œè¿™å°†å¯¼è‡´Tinkeråœ¨äº§ç”Ÿè¡¥ä¸åŒ…æ—¶ä¸ä¼šå»æ£€æŸ¥src/main/jniLibsç›®å½•ä¸‹çš„æ–‡ä»¶å˜åŒ–ï¼Œè¿›è€Œè¡¥ä¸åŒ…ä¸­ä¸ä¼šåŒ…å«ä¿®å¤å¥½çš„soæ–‡ä»¶ï¼Œè¿™å¾ˆé‡è¦ï¼Œåˆ‡è®°ã€‚</p> <h4 id="_3-ç”Ÿæˆè¡¥ä¸ä¸ä¸‹å‘è¡¥ä¸åŒ…"><a href="#_3-ç”Ÿæˆè¡¥ä¸ä¸ä¸‹å‘è¡¥ä¸åŒ…" class="header-anchor">#</a> 3ï¼‰ç”Ÿæˆè¡¥ä¸ä¸ä¸‹å‘è¡¥ä¸åŒ…</h4> <p>ç”Ÿæˆè¡¥ä¸ä¸ä¸‹å‘è¡¥ä¸åŒ…çš„è¿‡ç¨‹ä¸ä¹‹å‰çš„æ“ä½œä¸€è‡´ï¼Œè¿™é‡Œä¸å†é‡è¦†ï¼Œä¸è¿‡æˆ‘ä»¬æ¥çœ‹çœ‹tinkerPatchè·Ÿä¹‹å‰æœ‰ä»€ä¹ˆåŒºåˆ«å§ï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235503.png" alt=""></p> <p>æœ€åè®°å¾—å°†patch_signed_7zip.apkæ”¾åˆ°æ‰‹æœºçš„SDå¡ç›®å½•ä¸‹ã€‚</p> <h4 id="_4-å¸è½½è¡¥ä¸"><a href="#_4-å¸è½½è¡¥ä¸" class="header-anchor">#</a> 4ï¼‰å¸è½½è¡¥ä¸</h4> <p>è¡¥ä¸æ˜¯å¯ä»¥æ‰“å¤šä¸ªçš„ï¼Œç”¨è¡¥ä¸çš„ç‰ˆæœ¬å·åšåŒºåˆ†ï¼Œåœ¨å¸è½½çš„æ—¶å€™ï¼Œå¯ä»¥æ ¹æ®è¡¥ä¸çš„ç‰ˆæœ¬å·æ¥å¸è½½ï¼Œä¹Ÿå¯ä»¥æŠŠä¹‹å‰æ‰€æœ‰çš„è¡¥ä¸å¸è½½æ‰ï¼Œå®é™…å¼€å‘ä¸­ï¼Œçœ‹é¡¹ç›®éœ€æ±‚æ¥è§£å†³ç”¨å“ªç§æ–¹å¼æ¥å¸è½½è¡¥ä¸ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©æ¸…ç†ä¹‹å‰æ‰€æœ‰çš„è¡¥ä¸ï¼Œä¸‹é¢æ˜¯&quot;uninstall patch&quot;æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ï¼š</p> <div class="language- extra-class"><pre><code>public void uninstall_patch(View view) {
    ShareTinkerInternals.killAllOtherProcess(getApplicationContext());
    Tinker.with(getApplicationContext()).cleanPatch();
}
</code></pre></div><blockquote><p>å¸è½½è¡¥ä¸ä¹‹å‰ï¼Œè¦å…ˆæ€æ­»å½“å‰Appçš„å…¶ä»–è¿›ç¨‹ã€‚<br>
å¸è½½è¡¥ä¸ä¹‹åï¼ŒAppæ˜¯ä¸å®‰å…¨çš„ï¼ˆå› ä¸ºæ­¤æ—¶Tinkerå·²ç»åˆå§‹åŒ–å®Œæˆï¼‰ï¼Œæœ€å¥½ï¼Œéœ€è¦é‡å¯ä¸€ä¸‹Appã€‚</p></blockquote> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235518.gif" alt=""></p> <h4 id="_5-æ‰“è¡¥ä¸"><a href="#_5-æ‰“è¡¥ä¸" class="header-anchor">#</a> 5ï¼‰æ‰“è¡¥ä¸</h4> <p>ç°åœ¨æˆ‘ä»¬å†æ¥æ‰“ä¸€æ¬¡è¡¥ä¸ï¼Œæ“ä½œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235536.gif" alt=""></p> <p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨install patchä¹‹å‰ï¼Œç‚¹å‡»&quot;get string from .so&quot;æŒ‰é’®æ—¶ï¼Œè¿˜æ˜¯åå¸&quot;Hello LQR&quot;ã€‚
ç‚¹å‡»&quot;install patch&quot;æŒ‰é’®åï¼Œä¼šæç¤º&quot;patch success,please restart process&quot;ï¼Œè¯´æ˜Tinkerå·²ç»æ‰“ä¸Šè¡¥ä¸äº†ã€‚
è¿™æ—¶ç‚¹å‡»&quot;show info&quot;ï¼Œå¯ä»¥çœ‹åˆ°&quot;patch is not loaded&quot;ï¼Œè¯´æ˜å½“å‰è¡¥ä¸è¿˜æ²¡æœ‰ç”Ÿæ•ˆã€‚
æœ€åï¼Œç‚¹å‡»&quot;kill myself&quot;æŒ‰é’®ï¼Œæ€æ­»å½“å‰appï¼ˆè¿›ç¨‹ï¼‰ã€‚</p> <p>ç°åœ¨é‡å¯appï¼Œç†æƒ³çŠ¶æ€ä¸‹ï¼Œå½“æˆ‘ä»¬å†æ¬¡ç‚¹å‡»&quot;get string from .so&quot;æŒ‰é’®æ—¶ï¼Œä¼šåå¸&quot;Hello CSDN_LQR&quot;ã€‚</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235552.gif" alt=""></p> <p>ç„¶è€Œï¼Œåå¸è¿˜æ˜¯&quot;Hello LQR&quot;ï¼Œå¹¶æ²¡æœ‰å˜åŒ–ï¼Œè€Œä¸”ç‚¹å‡»&quot;show info&quot;æŒ‰é’®åï¼Œå¯ä»¥çœ‹åˆ°&quot;patch is loaded&quot;ï¼Œè¯´æ˜è¡¥ä¸å·²ç»åŠ è½½äº†ï¼Œè¿™æ˜¯ä¸ºå•¥ï¼Ÿ</p> <p>å†æ¥çœ‹çœ‹ä¸‹é¢çš„æ“ä½œï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235614.gif" alt=""></p> <p>é‡å¯appåï¼Œå…ˆç‚¹å‡»&quot;load library(hack)&quot;æŒ‰é’®ï¼Œå†ç‚¹å‡»&quot;get string from .so&quot;æŒ‰é’®ï¼Œå‡ºç°äº†ï¼Œåå¸å˜æˆäº†&quot;Hello CSDN_LQR&quot;ã€‚</p> <p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235624.png" alt=""></p> <p>ä¸Šå›¾æ˜¯Tinkerå®˜ç½‘Wikiçš„æ–‡æ¡£éƒ¨åˆ†æˆªå›¾ï¼Œä»çº¢çº¿éƒ¨åˆ†å¯ä»¥çŸ¥é“ï¼Œå› ä¸ºéƒ¨åˆ†æ‰‹æœºåˆ¤æ–­abiå¹¶ä¸å‡†ç¡®ï¼ˆå¯èƒ½å› ä¸ºAndroidç¢ç‰‡åŒ–æ¯”è¾ƒä¸¥é‡å§ï¼‰ï¼ŒTinkeræ²¡æœ‰åŒºåˆ†abiï¼Œè‡ªç„¶ä¹Ÿä¸ä¼šåœ¨appå¯åŠ¨æ—¶ï¼Œè‡ªåŠ¨åŠ è½½å¯¹åº”çš„soåº“ï¼Œè¿™éœ€è¦å¼€å‘è€…è‡ªå·±åˆ¤æ–­ã€‚</p> <p>ä¸‹é¢æ˜¯&quot;load library(hack)&quot;æŒ‰é’®ç‚¹å‡»è°ƒç”¨çš„æ–¹æ³•ï¼š</p> <div class="language- extra-class"><pre><code>public void load_library_hack(View view) {
    String CPU_ABI = android.os.Build.CPU_ABI;
    // å°†tinker libraryä¸­çš„ CPU_ABIæ¶æ„çš„so æ³¨å†Œåˆ°ç³»ç»Ÿçš„library pathä¸­ã€‚
    TinkerLoadLibrary.installNavitveLibraryABI(this, CPU_ABI);
}
</code></pre></div><p>è¿™æ˜¯Tinkeræä¾›çš„ä½¿ç”¨Hackæ–¹å¼åŠ è½½è¡¥ä¸ä¸­çš„soåº“ï¼Œåªæ˜¯ä¸€ä¸ªæ–¹æ³•è°ƒç”¨è€Œå·²ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«ã€‚å¯¹äºéHackæ–¹å¼åŠ è½½è¡¥ä¸çš„æ–¹å¼ï¼Œæˆ‘æœ¬äººæ˜¯æ²¡æœ‰æµ‹è¯•æˆåŠŸçš„ï¼Œå¾ˆå¥‡æ€ªï¼Œæä¸æ˜ç™½é—®é¢˜çš„åŸå› ï¼Œå®˜æ–¹çš„æ–‡æ¡£ä¹Ÿå†™å¾—ä¸æ¸…ä¸æ¥šçš„ï¼Œæœ‰çŸ¥é“æœ¬DemoåŠ è½½ä¸æˆåŠŸçš„åŸå› çš„æœ‹å‹è¯·ä¸åèµæ•™ä¸€ä¸‹å“ˆï¼Œthxã€‚</p> <blockquote><p>å°ç»“ï¼š<br>
Tinkerè™½ç„¶ä¼šåœ¨appé‡å¯åè‡ªåŠ¨åŠ è½½è¡¥ä¸ï¼Œä½†ä¸ä¼šè‡ªåŠ¨åŠ è½½è¡¥ä¸ä¸­çš„soæ–‡ä»¶ï¼Œå¼€å‘è€…éœ€è‡ªå·±åˆ¤å®šå¥½abiæ¥åŠ è½½soæ–‡ä»¶ã€‚</p></blockquote> <h3 id="_3ã€ä¿®å¤èµ„æºæ–‡ä»¶"><a href="#_3ã€ä¿®å¤èµ„æºæ–‡ä»¶" class="header-anchor">#</a> 3ã€ä¿®å¤èµ„æºæ–‡ä»¶</h3> <p>è¿™éƒ¨åˆ†è·Ÿå‰é¢çš„é‡åˆåº¦æé«˜ï¼Œæ•…ä¸åšæ¼”ç¤ºäº†ï¼Œä½ å¯ä»¥åœ¨è¡¥ä¸åŒ…ä¸­å¯¹æœ¬demoä¸­çš„å¤´åƒè¿›è¡Œæ›¿æ¢è¯•è¯•ï¼Œä¸ä¿®å¤javaæ–‡ä»¶çš„æ“ä½œåŸºæœ¬ä¸€è‡´ï¼Œè¿™éƒ¨åˆ†éœ€è¦æé†’çš„æ˜¯ï¼Œappçš„build.gradleæ–‡ä»¶ä¸­Tinkeré…ç½®æœ‰å¦‚ä¸‹è¿™ä¸€æ®µï¼š</p> <div class="language- extra-class"><pre><code>res {
    pattern = [&quot;res/*&quot;, &quot;assets/*&quot;, &quot;resources.arsc&quot;, &quot;AndroidManifest.xml&quot;]
    ...
}
</code></pre></div><p>ä¸éš¾ç†è§£ï¼Œè¿™å°±æ˜¯Tinkerå¯¹èµ„æºæ–‡ä»¶çš„åŒ¹é…è§„åˆ™ï¼Œæ—¥å¸¸å¼€å‘å¤Ÿç”¨ï¼Œå¦‚æœä½ çš„é¡¹ç›®ä¸­æŠŠèµ„æºæ–‡ä»¶æ”¾åˆ°äº†è¿™é‡Œæ²¡æœ‰çš„ç›®å½•ä¸‹ï¼Œéœ€è¦ä¿®æ”¹è¿™éƒ¨åˆ†çš„é…ç½®ã€‚</p> <h2 id="å…«ã€ç»†èŠ‚"><a href="#å…«ã€ç»†èŠ‚" class="header-anchor">#</a> å…«ã€ç»†èŠ‚</h2> <h3 id="_1ã€æ‰“åŒ…æ­¥éª¤"><a href="#_1ã€æ‰“åŒ…æ­¥éª¤" class="header-anchor">#</a> 1ã€æ‰“åŒ…æ­¥éª¤</h3> <h4 id="_1-debugæ‰“åŒ…"><a href="#_1-debugæ‰“åŒ…" class="header-anchor">#</a> 1ï¼‰debugæ‰“åŒ…</h4> <ol><li>è°ƒç”¨assembleDebugç¼–è¯‘å¾—åˆ°ä¸€ä¸ªdebugç­¾åçš„apkï¼ˆold apkï¼‰ï¼Œè¿™æ˜¯åŸºç¡€apkã€‚</li> <li>ä¿®æ”¹ä»£ç ã€æ›´æ–°resæ–‡ä»¶ã€soç­‰ã€‚</li> <li>å°†old apkæŒ‰gradleä¸­çš„å‚æ•°è§„åˆ™ï¼Œé‡å‘½åä¸ºæŒ‡å®šåå­—ï¼Œè¿˜æ˜¯æ”¾åœ¨bakApkç›®å½•ä¸‹ï¼ˆè¯¥ç›®å½•å¯æ›´æ”¹ï¼‰ã€‚</li> <li>è°ƒç”¨tinkerPatchDebugç”Ÿæˆè¡¥ä¸åŒ…äº/build/outputs/tinkerPatch/ç›®å½•ï¼ˆé»˜è®¤æ˜¯patch_signed_7zip.apkï¼‰ã€‚</li> <li>å°†è¡¥ä¸åŒ…å¤åˆ¶åˆ°SDå¡ç›®å½•ä¸‹ï¼ˆç›®å½•å¯æ›´æ”¹ï¼‰ï¼Œåœ¨ç¨‹åºä¸­è°ƒç”¨æ‰“è¡¥ä¸æ–¹æ³•ï¼Œé‡å¯appå³å¯å®ç°çƒ­ä¿®å¤ã€‚</li></ol> <h4 id="_2-releaseæ‰“åŒ…æ­¥éª¤"><a href="#_2-releaseæ‰“åŒ…æ­¥éª¤" class="header-anchor">#</a> 2ï¼‰releaseæ‰“åŒ…æ­¥éª¤</h4> <ol><li>è°ƒç”¨assembleReleaseç¼–è¯‘å¾—åˆ°ä¸€ä¸ªreleaseç­¾åçš„apkï¼ˆold apkï¼‰ï¼Œè¿™æ˜¯åŸºç¡€apkï¼Œè¿˜æœ‰ä¸€ä¸ªmappingæ–‡ä»¶ã€‚</li> <li>ä¿®æ”¹ä»£ç ã€æ›´æ–°resæ–‡ä»¶ã€soç­‰ã€‚</li> <li>å°†old apkä¸mappingæ–‡ä»¶æŒ‰gradleä¸­çš„å‚æ•°è§„åˆ™ï¼Œåˆ†åˆ«é‡å‘½åä¸ºæŒ‡å®šåå­—ï¼Œè¿˜æ˜¯æ”¾åœ¨bakApkç›®å½•ä¸‹ï¼ˆè¯¥ç›®å½•å¯æ›´æ”¹ï¼‰ã€‚</li> <li>è°ƒç”¨tinkerPatchReleaseç”Ÿæˆè¡¥ä¸åŒ…äº/build/outputs/tinkerPatch/ç›®å½•ï¼ˆé»˜è®¤æ˜¯patch_signed_7zip.apkï¼‰ã€‚</li> <li>å°†è¡¥ä¸åŒ…å¤åˆ¶åˆ°SDå¡ç›®å½•ä¸‹ï¼ˆç›®å½•å¯æ›´æ”¹ï¼‰ï¼Œåœ¨ç¨‹åºä¸­è°ƒç”¨æ‰“è¡¥ä¸æ–¹æ³•ï¼Œé‡å¯appå³å¯å®ç°çƒ­ä¿®å¤ã€‚</li></ol> <p>å› ä¸ºè°ƒç”¨tinkerçš„releaseæ‰“åŒ…éœ€è¦ç”¨åˆ°ç­¾åæ–‡ä»¶çš„ä¿¡æ¯ï¼Œæ‰€ä»¥è¿˜å¿…é¡»åœ¨appçš„build.gradleä¸­é…ç½®å¥½ç­¾åæ–‡ä»¶ã€‚</p> <div class="language- extra-class"><pre><code>android {
    ...
    signingConfigs {
        release {
            try {
                storeFile file(&quot;./keystore/release.keystore&quot;)
                storePassword &quot;testres&quot;
                keyAlias &quot;testres&quot;
                keyPassword &quot;testres&quot;
            } catch (ex) {
                throw new InvalidUserDataException(ex.toString())
            }
        }

        debug {
            storeFile file(&quot;./keystore/debug.keystore&quot;)
        }
    }
	...
    buildTypes {
        release {
            minifyEnabled true
            signingConfig signingConfigs.release
            proguardFiles getDefaultProguardFile('proguard-android.txt'), project.file('proguard-rules.pro')
        }
        debug {
            debuggable true
            minifyEnabled false
            signingConfig signingConfigs.debug
        }
    }
}
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105235642.png" alt=""></p> <blockquote><p>å…¶å®è¯´ç™½äº†ï¼Œdebugä¸releaseæ‰“åŒ…çš„å·®åˆ«ï¼Œé™¤äº†æ‰§è¡Œçš„å‘½ä»¤ä¸ä¸€æ ·ä¹‹å¤–ï¼Œreleaseæ‰“åŒ…æ¯”debugæ‰“åŒ…å¤šç”¨åˆ°2ä¸ªæ–‡ä»¶ï¼ˆmapping.txtã€R.txtï¼‰ã€‚</p></blockquote> <h3 id="_2ã€ä½¿ç”¨tinkerçš„æ³¨æ„äº‹é¡¹ä¸å‘ç°"><a href="#_2ã€ä½¿ç”¨tinkerçš„æ³¨æ„äº‹é¡¹ä¸å‘ç°" class="header-anchor">#</a> 2ã€ä½¿ç”¨tinkerçš„æ³¨æ„äº‹é¡¹ä¸å‘ç°</h3> <ul><li>tinkerç¼–è¯‘æ—¶éœ€è¦ç¦ç”¨instant runã€‚</li> <li>tinkeréœ€è¦MultiDexã€‚</li> <li>ä¸Šæ¶å‰ç”¨assembleReleaseç¼–è¯‘å¾—åˆ°çš„apkã€mapping.txtã€R.txtè¿™3ä¸ªæ–‡ä»¶è¦å¤‡ä»½å¥½ï¼Œåˆ¶ä½œè¡¥ä¸æ—¶ä¼šç”¨åˆ°ã€‚</li> <li>å¤šä¸ªè¡¥ä¸åŒ…çš„ç‰ˆæœ¬ä¸€æ ·æ—¶ï¼Œä¸å½±å“æ‰“è¡¥ä¸ï¼ˆå¦‚ï¼šç¬¬ä¸€æ¬¡è¡¥ä¸ç‰ˆæœ¬æ˜¯1.0ï¼Œç¬¬äºŒæ¬¡è¡¥ä¸è¿˜æ˜¯1.0ç‰ˆæœ¬ï¼Œæ˜¯å¯ä»¥æˆåŠŸæ‰“ä¸Šç¬¬äºŒæ¬¡è¡¥ä¸çš„ï¼‰ã€‚</li> <li>æˆåŠŸæ‰“ä¸Šè¡¥ä¸åï¼Œè¡¥ä¸åŸæ–‡ä»¶ä¼šè¢«åˆ é™¤ï¼Œæ•…é¡¹ç›®ä¸­ä¸å¿…æ‹…å¿ƒè¡¥ä¸åŸæ–‡ä»¶æ¸…ç†çš„é—®é¢˜ã€‚</li></ul> <h3 id="_3ã€å¯èƒ½ä¼šé‡åˆ°çš„é”™è¯¯"><a href="#_3ã€å¯èƒ½ä¼šé‡åˆ°çš„é”™è¯¯" class="header-anchor">#</a> 3ã€å¯èƒ½ä¼šé‡åˆ°çš„é”™è¯¯</h3> <h4 id="_1-onloadpatchlistenerreceivefail-codeä¸º-2"><a href="#_1-onloadpatchlistenerreceivefail-codeä¸º-2" class="header-anchor">#</a> 1ï¼‰onLoadPatchListenerReceiveFail codeä¸º-2</h4> <p>æŠ¥é”™åŸæ–‡å¦‚ä¸‹ï¼š</p> <div class="language- extra-class"><pre><code>receive a patch file: /storage/emulated/0/patch_signed_7zip.apk, file size:3604
patch loadReporter onLoadPatchListenerReceiveFail: patch receive fail: /storage/emulated/0/patch_signed_7zip.apk, code: -2
</code></pre></div><p>å‡ºç°è¿™ç§æƒ…å†µï¼Œè¯·æŒ‰å¦‚ä¸‹ä¸¤æ­¥è¿›è¡Œæ’æŸ¥ï¼š</p> <ol><li>æŸ¥çœ‹æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£å¸¸ã€‚</li> <li>æŸ¥çœ‹æ¸…å•æ–‡ä»¶ä¸­æ˜¯å¦æœ‰æ·»åŠ SDå¡è®¿é—®æƒé™ã€‚</li></ol> <blockquote><p>å¦‚æœä½ çš„æ‰‹æœºæ˜¯Android7.0è¯·è¦è€ƒè™‘FileProviderï¼ˆAndroid7.0ä¸æ”¯æŒç›´æ¥è®¿é—®sdå¡ï¼‰ã€‚</p></blockquote> <h4 id="_2-onloadpatchlistenerreceivefail-codeä¸º-24"><a href="#_2-onloadpatchlistenerreceivefail-codeä¸º-24" class="header-anchor">#</a> 2ï¼‰onLoadPatchListenerReceiveFail codeä¸º-24</h4> <p>æŠ¥é”™åŸæ–‡å¦‚ä¸‹ï¼š</p> <div class="language- extra-class"><pre><code>receive a patch file: /storage/emulated/0/patch_signed_7zip.apk, file size:3665
get platform:null
patch loadReporter onLoadPatchListenerReceiveFail: patch receive fail: /storage/emulated/0/patch_signed_7zip.apk, code: -24
</code></pre></div><p>æç¤ºå¾ˆæ˜æ˜¾ï¼ŒTinkerè·å–ä¸åˆ°platformçš„å€¼ï¼Œè¯·æ£€æŸ¥åœ¨appçš„build.gradleæ–‡ä»¶ä¸­æ˜¯å¦æœ‰å¦‚ä¸‹é…ç½®ï¼Œè¿™éƒ¨åˆ†é…ç½®äº†Tinkerè¡¥ä¸åŒ…æ”¯æŒçš„å¹³å°ä¸ç‰ˆæœ¬å·ï¼š</p> <div class="language- extra-class"><pre><code>packageConfig {
	configField(&quot;platform&quot;, &quot;all&quot;)
	configField(&quot;patchVersion&quot;, &quot;1.0&quot;)
}
</code></pre></div><h2 id="ä¹ã€å…¶ä»–"><a href="#ä¹ã€å…¶ä»–" class="header-anchor">#</a> ä¹ã€å…¶ä»–</h2> <p>å¯¹äºå¤šæ¸ é“æ‰“åŒ…çš„è¡¥ä¸æ–‡ä»¶ï¼Œæš‚æ—¶æ²¡æœ‰ç ”ç©¶ï¼Œè¯·è‡ªè¡Œå‚è€ƒTinkerçš„å®˜æ–¹Wikiã€‚</p> <p>æœ¬DemoåŸºäºTinkerå®˜æ–¹DemoåŠæ–‡æ¡£åˆ¶ä½œï¼Œä»¥ä¸‹æ˜¯Tinkerçš„å®˜æ–¹æ–‡æ¡£é“¾æ¥ï¼š</p> <ul><li><a href="https://github.com/Tencent/tinker/wiki" target="_blank" rel="noopener noreferrer">Tinkerçš„Wikié¦–é¡µ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/Tencent/tinker/wiki/Tinker-%E6%8E%A5%E5%85%A5%E6%8C%87%E5%8D%97" target="_blank" rel="noopener noreferrer">Tinker æ¥å…¥æŒ‡å—<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/Tencent/tinker/wiki/Tinker-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%89%A9%E5%B1%95" target="_blank" rel="noopener noreferrer">Tinker-è‡ªå®šä¹‰æ‰©å±•<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/Tencent/tinker/wiki/Tinker-API%E6%A6%82%E8%A7%88" target="_blank" rel="noopener noreferrer">Tinker-APIæ¦‚è§ˆ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/Tencent/tinker/wiki/Tinker-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" target="_blank" rel="noopener noreferrer">Tinker-å¸¸è§é—®é¢˜<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="æœ€åè´´ä¸‹demoé“¾æ¥"><a href="#æœ€åè´´ä¸‹demoé“¾æ¥" class="header-anchor">#</a> æœ€åè´´ä¸‹Demoé“¾æ¥</h3> <p><a href="https://github.com/GitLqr/HotFixDemo" target="_blank" rel="noopener noreferrer">https://github.com/GitLqr/HotFixDemo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Demoä¸­çš„Moduleè¯´æ˜ï¼š</p> <ol><li>appï¼šçƒ­ä¿®å¤åŸç†Demo</li> <li>tinker-localï¼šæœ¬åœ°é›†æˆTinkerçƒ­ä¿®å¤Demo</li> <li>jnitestï¼šç”Ÿæˆç®€å•soæ–‡ä»¶çš„Demo</li></ol></div></div> <div class="page-slot page-slot-bottom"><!-- æ¨ªå‘è‡ªé€‚åº” -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <center><img style="width:100%;" src="https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/FSA_QR_bottom.png"/></center>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=%E7%83%AD%E4%BF%AE%E5%A4%8D" title="æ ‡ç­¾">#çƒ­ä¿®å¤</a><a href="/tags/?tag=Tinker" title="æ ‡ç­¾">#Tinker</a></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2025/08/17, 06:54:19</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/8e3184/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">çƒ­ä¿®å¤ - æ·±å…¥æµ…å‡ºåŸç†ä¸å®ç°</div></a> <a href="/pages/030ff5/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">çƒ­ä¿®å¤ - Buglyè®©çƒ­ä¿®å¤å˜å¾—å¦‚æ­¤ç®€å•</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/8e3184/" class="prev">çƒ­ä¿®å¤ - æ·±å…¥æµ…å‡ºåŸç†ä¸å®ç°</a></span> <span class="next"><a href="/pages/030ff5/">çƒ­ä¿®å¤ - Buglyè®©çƒ­ä¿®å¤å˜å¾—å¦‚æ­¤ç®€å•</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/67c605/"><div>
            Flutter - è¯¦æƒ…é¡µ TabBar ä¸æ¨¡å—è”åŠ¨ï¼Ÿç§’äº†ï¼
            <!----></div></a> <span class="date">08-17</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/bf0a83/"><div>
            Flutter - ä½¿ç”¨æœ¬åœ° DevTools éªŒè¯ SVG åŠ è½½ä¼˜åŒ–
            <!----></div></a> <span class="date">08-07</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/cfaaca/"><div>
            AI - Gemini CLI æ‘†è„±ç»ˆç«¯é™åˆ¶
            <!----></div></a> <span class="date">07-27</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/LinXunFeng" title="GitHub for LinXunFeng" target="_blank" class="iconfont icon-githubsquare"></a><a href="mailto:linxunfeng@yeah.net" title="email for LinXunFeng" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/GitLqr" title="GitHub for GitLqr" target="_blank" class="iconfont icon-github-circle"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2020-2025
    <span><a href="/about" target="_blank">FSAå…¨æ ˆè¡ŒåŠ¨</a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">Ã—</span> <div><!-- å›ºå®š160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7f3b8579.js" defer></script><script src="/assets/js/2.d8b68cf2.js" defer></script><script src="/assets/js/57.024e57ae.js" defer></script>
  </body>
</html>
