(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{459:function(t,a,s){"use strict";s.r(a);var n=s(21),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"一、cmake语法详解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、cmake语法详解"}},[t._v("#")]),t._v(" 一、Cmake语法详解")]),t._v(" "),a("h3",{attrs:{id:"_1、什么是cmake"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、什么是cmake"}},[t._v("#")]),t._v(" 1、什么是CMake")]),t._v(" "),a("ul",[a("li",[t._v("在Android Studio 2.2及以上，构建原生库的默认工具是"),a("code",[t._v("CMake")]),t._v("。")]),t._v(" "),a("li",[t._v("CMake是一个跨平台的构建工具，可以用简单的语句来描述所有平台的安装（编译过程）。能够输出各种各样的makefile或者project文件。CMake并不直接构建出最终的软件，而是产生其他工具的脚本（如makefile），然后再依据这个工具的构建方式使用。")]),t._v(" "),a("li",[t._v("CMake是一个比make更高级的编译配置工具，它可以根据不同的平台、不同的编译器，生成相应的makefile或vcproj项目，从而达到跨平台的目的。Android Studio利用CMake生成的是ninja。ninja是一个小型的关注速度的构建系统。我们不需要关心ninja的脚本，知道怎么配置CMake就可以了。")]),t._v(" "),a("li",[t._v("CMake其实是一个跨平台的支持产出各种不同的构建脚本的一个工具。")])]),t._v(" "),a("h3",{attrs:{id:"_2、cmake源文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、cmake源文件"}},[t._v("#")]),t._v(" 2、CMake源文件")]),t._v(" "),a("ul",[a("li",[t._v("CMake的源码文件可以包含命令、注释、空格和换行。")]),t._v(" "),a("li",[t._v("以CMake编写的源文件以CmakeLists.txt命名或以.cmake为扩展名。")]),t._v(" "),a("li",[t._v("可以通过"),a("code",[t._v("add_subdirectory()")]),t._v("命令把子目录的CMake源文件添加进来。")]),t._v(" "),a("li",[t._v("CMake源文件中所有有效的语句都是命令，可以是内置命令或自定义的函数/宏命令。")])]),t._v(" "),a("h3",{attrs:{id:"_3、cmake注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、cmake注释"}},[t._v("#")]),t._v(" 3、CMake注释")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 单行注释")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#[[多行注释")]),t._v("\n多行注释\n多行注释]]\n")])])]),a("ul",[a("li",[t._v("单行注释：#注释内容（注释从#开始到行尾结束）")]),t._v(" "),a("li",[t._v("钓竿注释：可以使用括号来实现多行注释：#[[多行注释]]")])]),t._v(" "),a("h3",{attrs:{id:"_4、cmake变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、cmake变量"}},[t._v("#")]),t._v(" 4、CMake变量")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 声明变量：set(变量名 变量值)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("var "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 引用变量：message 命令用来打印")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"var = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("CMake中所有变量都是string类型。可以使用"),a("code",[t._v("set()")]),t._v("和"),a("code",[t._v("unset()")]),t._v("命令来声明或移除一个变量")]),t._v(" "),a("li",[t._v("变量的引用："),a("code",[t._v("${变量名}")])])]),t._v(" "),a("h3",{attrs:{id:"_5、cmake列表-lists"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、cmake列表-lists"}},[t._v("#")]),t._v(" 5、CMake列表（lists）")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 声明列表：set(列表名 值1 值2 ... 值N)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 或set(列表名 "值1;值2;...;值N")')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("list_var "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("list_var2 "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1;2;3;4;5"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"list_var = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("list_var")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("列表也是字符串，可以把列表看作一个特殊的变量，这个变量有多个值。")]),t._v(" "),a("li",[t._v("语法格式："),a("code",[t._v("set(列表名 值1 值2 ... 值N)")]),t._v("、"),a("code",[t._v('set(列表名 "值1;值2;...;值N")')])]),t._v(" "),a("li",[t._v("列表的引用："),a("code",[t._v("${列表名}")])])]),t._v(" "),a("h3",{attrs:{id:"_6、cmake流程控制-操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、cmake流程控制-操作符"}},[t._v("#")]),t._v(" 6、CMake流程控制-操作符")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("名称")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("一元")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("EXIST,COMMAND,DEFINED")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("二元")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("EQUAL,LESS,LESS_EQUAL,GREATER,GREATER_EQUAL,STREQUAL,STRLESS,"),a("br"),t._v(" STRLESS_EQUAL,STRGREATER,STRGREATER_EQUAL,VERSION_EQUAL,VERSION_LESS,"),a("br"),t._v(" VERSION_LESS_EQUAL,VERSION_GREATER,VERSION_GREATER_EQUAL,MATCHES")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("逻辑")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("NOT,AND,OR")])])])]),t._v(" "),a("h3",{attrs:{id:"_7、cmake流程控制-布尔常量值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、cmake流程控制-布尔常量值"}},[t._v("#")]),t._v(" 7、CMake流程控制-布尔常量值")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("true")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1,ON,YES,TRUE,Y,非0的值")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("0,OFF,NO,FALSE,N,IGNORE,NOTFOUND,空字符串，"),a("br"),t._v(" 以-NOTFOUND结尾的字符串")])])])]),t._v(" "),a("h3",{attrs:{id:"_8、cmake流程控制-条件命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、cmake流程控制-条件命令"}},[t._v("#")]),t._v(" 8、CMake流程控制-条件命令")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("if_tap "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("OFF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elseif_tap "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("ON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("if_tap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"if"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("elseif")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("elseif_tap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"elseif"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("if_tap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"else"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endif")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("if_tap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("语法格式：")])]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("表达式"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("COMMAND")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ARGS..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("elseif")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("表达式"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("COMMAND")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ARGS..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("表达式"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("COMMAND")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ARGS..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endif")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("表达式"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("elseif和else部分是可选的，也可以有多个elseif部分，缩进和空格对语句解析没有影响。")])]),t._v(" "),a("h3",{attrs:{id:"_9、cmake流程控制-循环命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9、cmake流程控制-循环命令"}},[t._v("#")]),t._v(" 9、CMake流程控制-循环命令")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("STREQUAL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('x"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endwhile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("语法格式：")])]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("表达式"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("COMMAND")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ARGS..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endwhile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("表达式"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("break()命令可以跳出整个循环。")]),t._v(" "),a("li",[t._v("continue()可以跳出当前循环。")])]),t._v(" "),a("h3",{attrs:{id:"_10、cmake流程控制-循环遍历"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10、cmake流程控制-循环遍历"}},[t._v("#")]),t._v(" 10、CMake流程控制-循环遍历")]),t._v(" "),a("h4",{attrs:{id:"_1-格式一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-格式一"}},[t._v("#")]),t._v(" 1）格式一")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"item = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("item")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endforeach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("语法格式：")])]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("循环变量 参数"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 参数"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" ... 参数N"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("COMMAND")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ARGS..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endforeach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("循环变量"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("每次迭代设置循环变量为参数。")]),t._v(" "),a("li",[t._v("foreach也支持break()和continue()命令跳出循环。")])]),t._v(" "),a("h4",{attrs:{id:"_2-格式二"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-格式二"}},[t._v("#")]),t._v(" 2）格式二")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item RANGE "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"item = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("item")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endforeach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("语法格式：")])]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("循环变量 RANGE total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("COMMAND")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ARGS..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endforeach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("循环变量"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("循环范围从0到total。")])]),t._v(" "),a("h4",{attrs:{id:"_3-格式三"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-格式三"}},[t._v("#")]),t._v(" 3）格式三")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item RANGE "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"item = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("item")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endforeach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("语法格式：")])]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("循环变量 RANGE start stop step"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("COMMAND")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ARGS..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endforeach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("循环变量"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("循环范围从start到stop，循环增量为step。")])]),t._v(" "),a("h4",{attrs:{id:"_4-格式四"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-格式四"}},[t._v("#")]),t._v(" 4）格式四")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("list_var "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item IN LISTS list_var"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"item = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("item")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endforeach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("foreach还支持对列表的循环。")]),t._v(" "),a("li",[t._v("语法格式：")])]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("循环变量 IN LISTS 列表"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("COMMAND")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ARGS..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endforeach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("循环变量"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"_11、cmake自定义函数命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11、cmake自定义函数命令"}},[t._v("#")]),t._v(" 11、CMake自定义函数命令")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("func x y z"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"call function func"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"y = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"z = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("z")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ARGC = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("ARGC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arg1 = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("ARGV0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" arg2 = "),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("ARGV1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" arg3 = "),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("ARGV2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"all args = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("ARGV")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endfunction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("blockquote",[a("p",[a("code",[t._v("ARGC")]),t._v("：表示传入参数的个数。\n"),a("code",[t._v("ARGV")]),t._v("：表示所有参数。\n"),a("code",[t._v("ARGV0")]),t._v("：表示第一个参数，"),a("code",[t._v("ARGV1")]),t._v("、"),a("code",[t._v("ARGV2")]),t._v("以此类推。")])]),t._v(" "),a("ul",[a("li",[t._v("自定义函数命令格式：")])]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("<name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" [arg1[arg2[arg3...]]]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("COMMAND")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endfunction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("<name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("函数命令调用格式："),a("code",[t._v("name(实参列表)")])])]),t._v(" "),a("h3",{attrs:{id:"_12、cmake自定义宏命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12、cmake自定义宏命令"}},[t._v("#")]),t._v(" 12、CMake自定义宏命令")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("macro")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ma x y z"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"call macro ma"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"y = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"z = '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("z")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endmacro")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ma")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("函数命令有自己的作用域。\n宏命令跟调用者的作用域一样。")])]),t._v(" "),a("ul",[a("li",[t._v("自定义宏命令格式：")])]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("macro")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("<name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" [arg1[arg2[arg3...]]]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("COMMAND")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endmacro")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("<name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("宏命令调用格式："),a("code",[t._v("name(实参列表)")])])]),t._v(" "),a("h3",{attrs:{id:"_13、cmake变量的作用域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13、cmake变量的作用域"}},[t._v("#")]),t._v(" 13、CMake变量的作用域")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("全局层")]),t._v("：cache变量，在整个项目范围可见，一般在set定义变量时，指定CACHE参数就能定义cache变量。")]),t._v(" "),a("li",[a("code",[t._v("目录层")]),t._v("：在当前目录CMakeLists.txt中定义，以及在该文件包含的其他cmake源文件中定义的变量。")]),t._v(" "),a("li",[a("code",[t._v("函数层")]),t._v("：在命令函数中定义的变量，属于函数作用域内的变量。")])]),t._v(" "),a("blockquote",[a("p",[t._v("变量查找优先级："),a("code",[t._v("函数层")]),t._v(" 优于 "),a("code",[t._v("目录层")]),t._v("，"),a("code",[t._v("目录层")]),t._v(" 优于 "),a("code",[t._v("全局层")]),t._v("，即："),a("code",[t._v("函数层")]),t._v(" --\x3e "),a("code",[t._v("目录层")]),t._v(" --\x3e "),a("code",[t._v("全局层")])])]),t._v(" "),a("h2",{attrs:{id:"二、cmakelist-txt文件详解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、cmakelist-txt文件详解"}},[t._v("#")]),t._v(" 二、CMakeList.txt文件详解")]),t._v(" "),a("h3",{attrs:{id:"_1、cmakelists-txt简析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、cmakelists-txt简析"}},[t._v("#")]),t._v(" 1、CMakeLists.txt简析")]),t._v(" "),a("p",[t._v("使用AndroidStudio3.4创建一个C/C++Support的项目，默认在app/src/main目录下会生成cpp目录，里面包含CMakeLists.txt和native-lib.cpp。以下代码为CMakeLists.txt去掉英文注释格式化后的内容：")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cmake_minimum_required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("VERSION")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.4.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加一个库，根据native-lib.cpp源文件编译一个native-lib的动态库")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tnative-lib\n\t"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("SHARED")]),t._v("\n\tnative-lib.cpp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查找系统库，这里查找的是系统日志库，并赋值给变量log-lib")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("find_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tlog-lib\n\tlog"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置依赖的库（第一个参数必须为目标模块，顺序不能换）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("target_link_libraries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tnative-lib\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("log-lib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[a("code",[t._v("cmake_minimum_required")]),t._v("：指定cmake最低支持的版本。这个命令是可选的，如果在CMakeLists.txt文件中使用了高版本特有的命令的话，就需要加上这条命令，来指定CMake的最低支持版本，如果CMake当前版本低于我们指定的版本就会报错。")]),t._v(" "),a("li",[a("code",[t._v("aux_source_directory(. DIR_SRCS)")]),t._v("：查找当前目录所有源文件，并将源文件名称列表保存到"),a("code",[t._v("DIR_SRCS")]),t._v("变量；但不能查找子目录中的源文件。")]),t._v(" "),a("li",[a("code",[t._v("find_library")]),t._v("：查找系统库，默认会在"),a("code",[t._v("AndroidNDK目录\\platforms\\android-xx\\arch-arm\\usr\\lib")]),t._v("下查找。")])]),t._v(" "),a("h3",{attrs:{id:"_2、常用命令-add-library"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、常用命令-add-library"}},[t._v("#")]),t._v(" 2、常用命令-add_library")]),t._v(" "),a("h4",{attrs:{id:"_1-添加一个库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-添加一个库"}},[t._v("#")]),t._v(" 1）添加一个库")]),t._v(" "),a("ul",[a("li",[t._v("添加一个库文件，名为"),a("code",[t._v("<name>")]),t._v("。")]),t._v(" "),a("li",[t._v("指定STATIC，SHARED，MODULE参数来指定库的类型。STATIC：静态库，SHARED：动态库，MODULE：在使用dyld的系统有效，若不支持dyld，等同于SHARED。")]),t._v(" "),a("li",[t._v("EXCLUDE_FROM_ALL：表示该库不会被默认构建。")]),t._v(" "),a("li",[t._v("source1 source2 ... sourceN：用来指定库的源文件。")])]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("<name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" ["),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("STATIC")]),t._v(" | "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("SHARED")]),t._v(" | MODULE]\n ["),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("EXCLUDE_FROM_ALL")]),t._v("] source1 source2 ... sourceN"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h4",{attrs:{id:"_2-导入预编译库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-导入预编译库"}},[t._v("#")]),t._v(" 2）导入预编译库")]),t._v(" "),a("ul",[a("li",[t._v("添加一个已存在的预编译库，名为"),a("code",[t._v("<name>")]),t._v("。")]),t._v(" "),a("li",[t._v("一般配合set_target_properties使用。")])]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("<name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" <"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("SHARED")]),t._v("|"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("STATIC")]),t._v("|MODULE|UNKNOW"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("IMPORTED")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 比如")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("test "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("SHARED")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("IMPORTED")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_target_properties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\ttest "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指明目标库名")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("PROPERTIES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("IMPORTED_LOCATION")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指明要设置的参数")]),t._v("\n\t库路径/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("ANDROID_ABI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/libtest.so "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 导入库的路径")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3、常用命令-set"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、常用命令-set"}},[t._v("#")]),t._v(" 3、常用命令-set")]),t._v(" "),a("p",[t._v("设置CMake变量：")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置可执行文件的输出路径（EXECUTABLE_OUTPUT_PATH是全局变量）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("EXECUTABLE_OUTPUT_PATH")]),t._v(" [output_path]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置库文件的输出路径（LIBRARY_OUTPUT_PATH是全局变量）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("LIBRARY_OUTPUT_PATH")]),t._v(" [output_path]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置C++编译参数（CMAKE_CXX_FLAGS是全局变量）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_CXX_FLAGS")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-Wall std=c++11"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置源文件集合（SOURCE_FILES是本地变量即自定义变量）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SOURCE_FILES main.cpp test.cpp ..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"_4、常用命令-include-directories"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、常用命令-include-directories"}},[t._v("#")]),t._v(" 4、常用命令-include_directories")]),t._v(" "),a("p",[t._v("设置头文件目录。")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 可以用相对或绝对路径，也可以用自定义的变量值")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("include_directories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("./include "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("MY_INCLUDE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("相当于g++选项中的-l参数。")])]),t._v(" "),a("h3",{attrs:{id:"_5、常用命令-add-executable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、常用命令-add-executable"}},[t._v("#")]),t._v(" 5、常用命令-add_executable")]),t._v(" "),a("p",[t._v("添加可执行文件：")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_executable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("<name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("SRC_LIST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"_6、常用命令-target-link-libraries"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、常用命令-target-link-libraries"}},[t._v("#")]),t._v(" 6、常用命令-target_link_libraries")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("target_link_libraries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("<name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" lib1 lib2 lib3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果出现互相依赖的静态库，CMake会允许依赖图中包含循环依赖，如：")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("A "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("STATIC")]),t._v(" a.c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("B "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("STATIC")]),t._v(" b.c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("target_link_libraries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("A B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("target_link_libraries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("B A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_executable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main main.c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("target_link_libraries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("将若干库链接到目标库文件。")]),t._v(" "),a("li",[t._v("链接的顺序应当符合gcc链接顺序规则，被链接的库放在依赖它的库的后面，即如果上面的命令中，lib1依赖于lib2，lib2又依赖于lib3，则在上面命令中必须严格按照lib1 lib2 lib3的顺序排列，否则会报错。")])]),t._v(" "),a("h3",{attrs:{id:"_7、常用命令-add-definitions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、常用命令-add-definitions"}},[t._v("#")]),t._v(" 7、常用命令-add_definitions")]),t._v(" "),a("p",[t._v("为当前路径以及子目录的源文件加入由-D引入的define flag")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_definitions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-DF00 -DDEBUG ..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("通常用于添加编译参数")])]),t._v(" "),a("h3",{attrs:{id:"_8、常用命令-add-subdirectory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、常用命令-add-subdirectory"}},[t._v("#")]),t._v(" 8、常用命令-add_subdirectory")]),t._v(" "),a("p",[t._v("用于添加子目录的CMake源文件：")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sub_dir指定包含CMakeLists.txt和源码文件的子目录位置")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# binary_dir是输出路径，一般可以不指定")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_subdirectory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sub_dir [binary_dir]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("如果当前目录下还有子目录时可以使用add_subdirectory，子目录中也需要包含有CMakeLists.txt。")]),t._v(" "),a("h3",{attrs:{id:"_9、常用命令-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9、常用命令-file"}},[t._v("#")]),t._v(" 9、常用命令-file")]),t._v(" "),a("p",[t._v("文件操作命令：")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将message写入filename文件中，会覆盖文件原有内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("WRITE filename "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将message写入filename文件中，会追加在文件末尾")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("APPEND filename "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从filename文件中读取内容并存储到var变量中，如果指定了numBytes和offset，")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 则从offset处开始最多读numBytes个字节，另外如果指定了HEX参数，则内容会以十六进制形式存储在var变量中")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("READ filename var [LIMIT numbytes] [OFFSET offset] [HEX]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重命名文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("RENAME <oldname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" <newname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除文件，等于rm命令")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("REMOVE [file1 ...]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 递归的执行删除文件命令，等于rm -r")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("REMOVE_RECURSE [file1...]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 根据指定的url下载文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# timeout超时时间；下载的状态会保存到status中；下载日志会被保存到log；sum指定所下载文件预期的MD5值，如果指定会自动进行比对，")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果不一致，则返回一个错误；SHOW_PROGRESS，进度信息会以状态信息的形式被打印出来")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("DOWNLOAD url file ["),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("TIMEOUT")]),t._v(" timeout] [STATUS status] [LOG log] [EXPECTED_MD5 sum] [SHOW_PROGRESS]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MAKE_DIRECTORY [dir1 dir2 ...]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 会把path转换为以unix的/开头的cmake风格路径，保存到result中")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TO_CMAKE_PATH path result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 它会把cmake风格的路径转换为本地路径风格：windows下用"\\"，而unix下用"/"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TO_NATIVE_PATH path result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将会为所有匹配查询表达式的文件生成一个文件list，并将该list存储进变量variable里，如果一个表达式指定了RELATIVE，返回的结果")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将会是相对于定路径的相对路径，查询表达式例子：*.cxx，*.vt?")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# NOTE：按照官方文档的说法，不建议使用file的GLOB指令来收集工程的源文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GLOB variable [RELATIVE path] [globbing expressions]..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("使用这种方式来指定源文件的话，如果后面项目需要增加源文件，比如项目中原本有2个源文件a.c和b.c，后面新增一个c.c，如果我们直接增加c.c，然后进行编译是会报错的，因为CMakeLists文件没有改动，所以cmake不会重新生成makefile文件，所以我们需要简单的改动一下CMakeLists文件，可以在CMakeLists文件中添加一个空格，然后再编译，它就会生成makefile文件。")])]),t._v(" "),a("h3",{attrs:{id:"_9、常用命令-set-directory-properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9、常用命令-set-directory-properties"}},[t._v("#")]),t._v(" 9、常用命令-set_directory_properties")]),t._v(" "),a("p",[t._v("设置某个路径的一种属性：")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_directory_properties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("PROPERTIES")]),t._v(" prop1 value1 prop2 value2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("prop1，prop2代表属性，取值为：")]),t._v(" "),a("ul",[a("li",[t._v("INCLUDE_DIRECTORIES")]),t._v(" "),a("li",[t._v("LINK_DIRECTORIES")]),t._v(" "),a("li",[t._v("INCLUDE_REGULAR_EXPRESSION")]),t._v(" "),a("li",[t._v("ADDITIONAL_MAKE_CLEAN_FILES")])]),t._v(" "),a("h3",{attrs:{id:"_10、常用命令-set-property"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10、常用命令-set-property"}},[t._v("#")]),t._v(" 10、常用命令-set_property")]),t._v(" "),a("p",[t._v("在给定的作用域内设置一个命名的属性：")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("<GLOBAL |\n\t\t\tDIRECTORY [dir] |\n\t\t\tTARGET [target ...] |\n\t\t\tSOURCE [src1 ...] |\n\t\t\tTEST [test1 ...] |\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CACHE")]),t._v(" [entry1 ...]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("\n\t\t\t[APPEND]\n\t\t\tPROPERTY <name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" [value ...]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("code",[t._v("PROPERTY")]),t._v(" 参数是必须的。第一个参数决定了属性可以影响的作用域：")]),t._v(" "),a("ul",[a("li",[t._v("GLOBAL：全局作用域")]),t._v(" "),a("li",[t._v("DIRECTORY：默认当前路径，也可以用[dir]指定路径。")]),t._v(" "),a("li",[t._v("TARGET：目标作用域，可以是0个或多个已有目标。")]),t._v(" "),a("li",[t._v("SOURCE：源文件作用域，可以是0个或多个源文件。")]),t._v(" "),a("li",[t._v("TEST：测试作用域，可以是0个或多个已有的测试。")]),t._v(" "),a("li",[t._v("CACHE：必须指定0个或多个cache中已有的条目。")])]),t._v(" "),a("h3",{attrs:{id:"_11、多个源文件处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11、多个源文件处理"}},[t._v("#")]),t._v(" 11、多个源文件处理")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cmake_minimum_required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("VERSION")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.4.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查找当前目录所有源文件，并将名称保存到 DIR_SRCS 变量")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 不能查找子目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("aux_source_directory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(". DIR_SRCS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 也可以使用")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# file(GLOB DIR_SRCS *.c *.cpp)")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tnative-lib\n\t"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("SHARED")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("DIR_SRCS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("如果源文件很多，把所有文件一个个加入很麻烦，可以使用aux_source_directory命令或file命令，会查找指定目录下的所有源文件，然后将结果存进指定变量名。")]),t._v(" "),a("h3",{attrs:{id:"_12、多目录多源文件处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12、多目录多源文件处理"}},[t._v("#")]),t._v(" 12、多目录多源文件处理")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cmake_minimum_required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("VERSION")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.4.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("aux_source_directory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(". DIR_SRCS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加child子目录下的cmakelist")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_subdirectory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("child"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tnative_lib\n\t"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("SHARED")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("DIR_SRCS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("target_link_libraries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("native-lib child"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n----------------------------------------\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# child目录下的CMakeLists.txt：")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cmake_minimum_required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("VERSION")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.4.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("aux_source_directory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(". DIR_LIB_SRCS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tchild\n\t"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("SHARED")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("DIR_LIB_SRCS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("主目录中的CMakeLists.txt中添加add_subdirectory(child)命令，指明本项目包含一个子项目child。并在target_link_libraries指明本项目需要链接一个名为child的库。")]),t._v(" "),a("li",[t._v("子目录child中创建CMakeLists.txt，这里child编译为共享库。")])]),t._v(" "),a("h3",{attrs:{id:"_13、添加预编译库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13、添加预编译库"}},[t._v("#")]),t._v(" 13、添加预编译库")]),t._v(" "),a("h4",{attrs:{id:"_1-android6-0版本以前"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-android6-0版本以前"}},[t._v("#")]),t._v(" 1）Android6.0版本以前")]),t._v(" "),a("p",[t._v("假设我们本地项目引用了libimported-lib.so：")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cmake_minimum_required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("VERSION")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.4.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用 IMPORTED 标志告知 CMake 只希望将库导入到项目中")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果是静态库则将shared改为static")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imported-lib\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("SHARED")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("IMPORTED")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 参数分别为：库、属性、导入地址、库所在地址")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set_target_properties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\timported-lib\n\t"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("PROPERTIES")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("IMPORTED_LOCATION")]),t._v("\n\t<路径"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("/libimported-lib.so"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("aux_source_directory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(". DIR_SRCS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tnative-lib\n\t"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("SHARED")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("DIR_SRCS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("target_link_libraries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("native-lib imported-lib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("添加"),a("code",[t._v("add_library")]),t._v("命令，第一个参数是模块名，第二个参数"),a("code",[t._v("SHARED")]),t._v("表示动态库，"),a("code",[t._v("STATIC")]),t._v("表示静态库，第三个参数"),a("code",[t._v("IMPORTED")]),t._v("表示以导入的形式添加。")]),t._v(" "),a("li",[t._v("添加"),a("code",[t._v("set_target_properties")]),t._v("命令设置导入路径属性。")]),t._v(" "),a("li",[t._v("将"),a("code",[t._v("import-lib")]),t._v("添加到"),a("code",[t._v("target_link_libraries")]),t._v("命令参数中，表示native-lib需要链接imported-lib模块")])]),t._v(" "),a("h4",{attrs:{id:"_2-android6-0版本以后"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-android6-0版本以后"}},[t._v("#")]),t._v(" 2）Android6.0版本以后")]),t._v(" "),a("p",[t._v("在Android6.0及以上版本，如果使用上节的方法添加预编译动态库的话，会有问题，我们可以使用另外一种方式来配置：")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# set命令定义一个变量")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# CMAKE_C_FLAGS：c的参数，会传递给编译器")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果是c++文件，需要用CMAKE_CXX_FLAGS")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -L：库的查找路径")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_C_FLAGS")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_C_FLAGS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(' -L[so所在目录"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"_14、添加头文件目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_14、添加头文件目录"}},[t._v("#")]),t._v(" 14、添加头文件目录")]),t._v(" "),a("p",[t._v("为了确保CMake可以在编译时定位头文件，使用include_directories，相当于g++选项中的"),a("code",[t._v("-I")]),t._v("参数。这样就可以使用"),a("code",[t._v("#include <xx.h>")]),t._v("，否则需要使用"),a("code",[t._v('#include "path/xx.h"')]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cmake_minimum_required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("VERSION")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.4.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置头文件目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("include_directories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("<文件目录"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_C_FLAGS")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_C_FLAGS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(' -L[so所在目录]"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("aux_source_directory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(". DIR_SRCS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tnative-lib\n\t"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("SHARED")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("DIR_SRCS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("target_link_libraries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("native-lib imported-lib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"_15、build-gradle配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_15、build-gradle配置"}},[t._v("#")]),t._v(" 15、build.gradle配置")]),t._v(" "),a("p",[t._v("可以在gradle中使用arguments设置一些配置：")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[t._v("android{\n\tdefaultConfig{\n\t\tcmake{\n\t\t\t// 使用的编译器clang/gcc\n\t\t\t// cmake默认就是 gnustl_static\n\t\t\targuments "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-DANDROID_TOOLCHAIN=clang"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-DANDROID_STL=gnustl_static"')]),t._v("\n\t\t\t// 指定cflags和cppflags，效果和cmakelist使用一样\n\t\t\tcFlags "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n\t\t\tcppFlags "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n\t\t\t// 指定需要编译的cpu架构\n\t\t\tabiFilters "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"armeabi-v7a"')]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\texternalNativeBuild{\n\t\tcmake{\n\t\t\t// 指定CMakeLists.txt文件相对当前build.gradle的路径\n\t\t\tpath "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx/CMakeLists.txt"')]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"三、实操"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、实操"}},[t._v("#")]),t._v(" 三、实操")]),t._v(" "),a("p",[t._v("官网："),a("a",{attrs:{href:"https://www.fmod.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.fmod.com/"),a("OutboundLink")],1),t._v("\nSDK下载页面："),a("a",{attrs:{href:"https://www.fmod.com/download",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.fmod.com/download"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("需要先注册登录后，才能下载")])]),t._v(" "),a("h3",{attrs:{id:"_1、库文件集成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、库文件集成"}},[t._v("#")]),t._v(" 1、库文件集成")]),t._v(" "),a("p",[t._v("在fmod官网下载好 fmodstudioapi20000android.tar.gz 后，解压，找到 "),a("code",[t._v("api/core")]),t._v("目录，其中"),a("code",[t._v("inc")]),t._v("是fmod的头文件，"),a("code",[t._v("lib")]),t._v("是fmod预编译好的so和jar文件。")]),t._v(" "),a("h4",{attrs:{id:"_1-集成so与jar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-集成so与jar"}},[t._v("#")]),t._v(" 1）集成so与jar")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105220844.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"_2-集成-h头文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-集成-h头文件"}},[t._v("#")]),t._v(" 2）集成.h头文件")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FullStackAction/PicBed@resource/image/20210105221513.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"_2、cmakelists-txt文件配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、cmakelists-txt文件配置"}},[t._v("#")]),t._v(" 2、CMakeLists.txt文件配置：")]),t._v(" "),a("p",[t._v("fmod提供的so文件属于预编译库，需要在自己的工程中集成fmod并使用，大概可分为2步骤：")]),t._v(" "),a("ol",[a("li",[t._v("指定头文件目录。方便在native-lib.cpp中可以使用"),a("code",[t._v("include <fmod.hpp>")])]),t._v(" "),a("li",[t._v("指定预编译库目录。让native-lib在编译时，可以成功链接fmod。")])]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定cmake最小支持版本")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cmake_minimum_required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("VERSION")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.4.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置头文件目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("include_directories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_SOURCE_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/inc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置第三方so库路径（android6.0以后需要这样设置）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_CXX_FLAGS")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_CXX_FLAGS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" -L"),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_SOURCE_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("/../jniLibs/"),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("CMAKE_ANDROID_ARCH_ABI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加一个库，根据native-lib.cpp源文件编译一个native-lib的动态库")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        native-lib\n        "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("SHARED")]),t._v("\n        native-lib.cpp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查找系统库，这里查找的是系统日志库，并赋值给变量log-lib")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("find_library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        log-lib\n        log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置以来的库（第一个参数必须为目标模块，顺序不能换）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("target_link_libraries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        native-lib\n        fmod\n        fmodL\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("log-lib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("blockquote",[a("p",[a("code",[t._v("${CMAKE_SOURCE_DIR}")]),t._v(" 可以获取到CMakeLists.txt文件当前所在目录路径。")])]),t._v(" "),a("h3",{attrs:{id:"_3、build-gradle配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、build-gradle配置"}},[t._v("#")]),t._v(" 3、build.gradle配置")]),t._v(" "),a("p",[t._v("因为该工具只在模拟器上运行，所以只需要x86平台的so库文件，可以使用 "),a("code",[t._v("abiFilters")]),t._v(" 进行过滤。")]),t._v(" "),a("blockquote",[a("p",[t._v("手机一般都是arm平台，可根据实际情况修改abiFilters。")])]),t._v(" "),a("div",{staticClass:"language-gradle extra-class"},[a("pre",{pre:!0,attrs:{class:"language-gradle"}},[a("code",[t._v("android "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    defaultConfig "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n        externalNativeBuild "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            cmake "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                cppFlags "),a("span",{pre:!0,attrs:{class:"token interpolation-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')])]),t._v("\n                abiFilters "),a("span",{pre:!0,attrs:{class:"token interpolation-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x86"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定本地库的cpu架构")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        ndk "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            abiFilters "),a("span",{pre:!0,attrs:{class:"token interpolation-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x86"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定第三方库的cpu架构")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    externalNativeBuild "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        cmake "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            path "),a("span",{pre:!0,attrs:{class:"token interpolation-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/main/cpp/CMakeLists.txt"')])]),t._v("\n            version "),a("span",{pre:!0,attrs:{class:"token interpolation-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3.10.2"')])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"_4、编写native-lib-cpp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、编写native-lib-cpp"}},[t._v("#")]),t._v(" 4、编写native-lib.cpp")]),t._v(" "),a("p",[t._v("使用日志输出fmod版本号：")]),t._v(" "),a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<jni.h>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<string>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<android/log.h>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<fmod.hpp>")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("using")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" FMOD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extern")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C"')]),t._v(" JNIEXPORT jstring JNICALL\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Java_com_lqr_cmakefmod_MainActivity_stringFromJNI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        JNIEnv "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        jobject "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* this */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    System "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("system"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("System_Create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("system"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    system"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__android_log_print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ANDROID_LOG_ERROR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TEST"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FMOD Version: %08x"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    std"),a("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("string hello "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello from C++"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" env"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewStringUTF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hello"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("c_str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("最终，在触发stringFromJNI()方法后，就可以在控制台看到fmod版本号的输出了。")])])}),[],!1,null,null,null);a.default=e.exports}}]);